/*! For license information please see main.f274c9e7.js.LICENSE.txt */
(()=>{var e={14:(e,t,n)=>{"use strict";n.r(t),n.d(t,{spycraftEntries:()=>i});const i=[{id:"safe_house",title:"Safe Houses",description:"Secure locations where agents can hide, rest, or conduct operations without fear of detection.",historicalContext:"During WWII, safe houses were crucial for the operation of resistance movements and intelligence networks. MI5 and MI6 maintained networks of safe houses throughout Britain and occupied Europe.",examples:["Cynthia's house in Bucklebury is requested to be used as a safe house by Mosley","The Snowdens and others use their country houses to host Nazi sympathizers","Davies cottage used as temporary accommodation for operatives"],techniques:["Houses often chosen for isolation or multiple escape routes","Operated by trusted individuals, often with plausible cover stories","Sometimes equipped with hidden rooms or compartments","May contain emergency supplies or communications equipment"],bookScenes:["second_party","house_occupation"]},{id:"surveillance",title:"Surveillance",description:"The close observation of a person, place, or object to gather intelligence or evidence.",historicalContext:"MI5 and other intelligence agencies heavily relied on surveillance to track potential spies and fifth columnists. During WWII, this became highly sophisticated with multiple operatives using various covers.",examples:["Bill's team watching Cynthia's house using disguised observers","The watchers posted in village locations disguised as artists, road workers, and elderly pedestrians","George following Edwards from Scilly Isles to London","Alison tracking Davies/Young to Reading"],techniques:["Using mundane covers that attract minimal attention (artists, workers, elderly)","Rotating personnel to avoid recognition","Multiple observation points to maintain continuous coverage","Communication through intermediaries rather than direct contact","Counter-surveillance awareness (checking for people watching the watchers)"],bookScenes:["edwards_arrival","train_journey","village_surveillance"]},{id:"disguise",title:"Disguise",description:"The use of altered appearance to conceal one's identity or intentions.",historicalContext:"Agents often adopted disguises to move freely in enemy territory or to approach targets without arousing suspicion. SOE agents were extensively trained in the art of disguise.",examples:["Hannah Park's various disguises (including Miss Gilchrist and blonde society lady)","Megan Davies disguised as a postman to kill Edwards","Bob Harrington dressed as a woman for the assassination attempt","Louise disguised as elderly grey-haired knitter on train","Alison's rambler disguise on train"],techniques:["Changing hair color and style (wigs, dyes)","Adopting clothing associated with specific roles or classes","Altering posture, gait, and mannerisms","Using props appropriate to assumed identity","Creating behavioral distractions to divert attention from facial features"],bookScenes:["denleigh_recruitment","edwards_murder","train_journey"]},{id:"dead_drop",title:"Dead Drops",description:"A method of passing items or information between agents without requiring direct contact.",historicalContext:"Dead drops were essential for maintaining network security, as they eliminated the need for face-to-face meetings between agents.",examples:["The suitcase delivered to Cynthia's house","Documents passed through intermediaries like the publisher","Felicity's reports sent via regular mail"],techniques:["Using neutral locations accessible to both parties","Employing signal systems to indicate when drops are made or retrieved","Disguising sensitive items as ordinary objects","Using couriers unaware of the significance of the items they carry"],bookScenes:["case_delivery","felicity_reports"]},{id:"code_words",title:"Recognition Signals & Code Words",description:"Predetermined phrases, gestures, or items used to identify friendly agents or to authenticate communications.",historicalContext:"Recognition signals helped prevent infiltration by enemy agents and ensured secure communications.",examples:["Bill's rank (Wing Commander) used as recognition signal","Felicity's publisher serving as intermediary","Special phone line for secure communications","The Edwards cheque book used as identification"],techniques:["Using innocuous phrases that would seem natural in conversation","Creating physical recognition items that can be subtly displayed","Establishing backup recognition methods in case primary ones are compromised","Changing signals regularly to maintain security"],bookScenes:["cynthia_phone_call","publisher_contact"]},{id:"double_agents",title:"Double Agents",description:"Operatives who appear to work for one side but are actually loyal to another.",historicalContext:'The British "Double Cross System" was highly successful in turning German agents during WWII, feeding false information to the enemy.',examples:["Louise Harrington working for Bill while appearing loyal to the fifth columnists","Her ultimate sabotage of the assassination attempt","Long-term deception regarding her true allegiance"],techniques:["Maintaining believable cover by providing some accurate but non-critical intelligence","Establishing secure communication channels with true handler","Creating plausible reasons for activities that might seem suspicious","Carefully timing major interventions for maximum impact"],bookScenes:["louise_revelation","assassination_attempt"]},{id:"tradecraft",title:"Basic Tradecraft",description:"The methods used to avoid surveillance, maintain cover, and conduct secret operations.",historicalContext:"Intelligence agencies developed sophisticated tradecraft techniques throughout WWII.",examples:['Don teaching Cynthia about "back doubles" and counter-surveillance',"Using reflections in shop windows to detect followers","The separate phone line for secure communications","Leopard crawling across field to avoid detection"],techniques:["Varying routes and routines to avoid predictability","Checking for surveillance using natural reflective surfaces","Creating cover stories with verifiable elements","Using innocuous behavior to mask operational activities","Communicating through cutouts and intermediaries"],bookScenes:["don_training","final_approach"]},{id:"cover_identities",title:"Cover Identities",description:"The creation and maintenance of false identities to conceal an agent's true purpose or affiliation.",historicalContext:"Intelligence services developed sophisticated methods for creating believable cover identities during WWII, often supported by false documentation and careful background construction.",examples:["Felicity posing as a writer in Aldworth cottage",'Bill appearing as "Mr. Newton" at Denleigh Manor',"Intelligence officers disguised as telephone engineers","Bert and Keith posing as artists for surveillance"],techniques:["Selecting identities that explain presence in an area","Choosing covers that allow for observation without suspicion","Creating supporting documentation and props","Establishing routines consistent with chosen identity","Developing appropriate knowledge for the assumed role"],bookScenes:["cottage_surveillance","denleigh_recruitment","secure_line_installation"]},{id:"secure_communication",title:"Secure Communications",description:"Methods used to transmit information without risk of interception or compromise.",historicalContext:"During WWII, secure communication was critical for intelligence operations. Methods ranged from dedicated phone lines to coded messages through seemingly innocent channels.",examples:["Dedicated phone line at Cynthia's house","Felicity's reports sent via publisher intermediary","Use of cutouts and dead drops","Recognition phrases for phone calls"],techniques:["Dedicated lines bypassing public exchanges","Communications through innocent-appearing channels (publishers, businesses)","Verification codes at start of conversations","Regular changes of communication methods"],bookScenes:["secure_line_installation","cottage_surveillance"]},{id:"counter_surveillance",title:"Counter-Surveillance",description:"Techniques used to detect and evade hostile surveillance.",historicalContext:"Intelligence operatives needed to be constantly aware of potential surveillance and developed sophisticated methods to detect and counter it.",examples:['Don teaching Cynthia about "back doubles"',"Using reflections in shop windows","Deliberate phone call to test fifth columnist reactions","Jim's careful approach to Cynthia's house"],techniques:["Indirect routes to detect followers","Using reflective surfaces to observe without turning around","Testing reactions through deliberate actions","Varying routines and behaviors","Strategic use of public spaces where followers would be conspicuous"],bookScenes:["tradecraft_training","cynthia_diversion_call"]},{id:"infiltration",title:"Infiltration Techniques",description:"Methods for covertly entering secure areas or gaining the trust of target groups.",historicalContext:"Intelligence services developed sophisticated infiltration methods during WWII, particularly for gaining access to enemy-occupied areas or hostile groups.",examples:["Cynthia and Richard infiltrating Nazi sympathizer circles","Team infiltrating Cynthia's house during final operation","Agents entering German-held territory"],techniques:["Long-term identity establishment","Gradual trust-building through incremental steps","Demonstration of shared beliefs or objectives","Use of existing contacts for introduction","Physical infiltration methods (leopard crawling, covert approaches)"],bookScenes:["berlin_trip","first_party","final_operation"]},{id:"deception_operations",title:"Deception Operations",description:"Tactical deceptions designed to mislead enemy agents or operatives.",historicalContext:'The British excelled at deception operations during WWII, from the famous "Operation Mincemeat" to countless smaller tactical deceptions.',examples:['The "Three Montgomerys" decoy operation',"Cynthia's deliberate phone call to test reactions","Use of artists as surveillance cover","Felicity's writer cover in the village"],techniques:["Creating multiple identical targets to confuse attackers","Deliberate actions designed to provoke revealing responses","Use of mundane covers to hide surveillance","Creating distractions to mask main operation"],bookScenes:["three_montgomerys_arrangement","cynthia_diversion_call"]},{id:"covert_entry",title:"Covert Entry",description:"Techniques for gaining entry to secured locations without detection.",historicalContext:"Intelligence agents needed skills to access locked rooms, buildings and containers without leaving evidence.",examples:["Edwin picking the lock on the mysterious suitcase","Bert entering Edwards' flat","Intelligence team entering Cynthia's house via cellar","George and Jim entering Davies' empty house"],techniques:["Lock picking without leaving marks","Disguised entry under false pretenses","Using alternative or overlooked access points","Resealing containers to hide entry evidence"],bookScenes:["suitcase_opening","edwards_discovery","final_operation"]},{id:"double_agent_handling",title:"Double Agent Handling",description:"Methods for managing, protecting, and communicating with agents working inside hostile organizations.",historicalContext:"The British Double-Cross System was one of the most successful intelligence operations of WWII, requiring sophisticated handling techniques.",examples:["Bill's management of Louise as an insider","Secret communications and support","Providing emergency equipment (gun)","Maintaining complete secrecy about identity"],techniques:["Extremely limited contact to prevent exposure","Provision of emergency equipment through covert channels","Total compartmentalization of knowledge about agent","Development of emergency extraction plans","Accepting agent-initiated timing for critical actions"],bookScenes:["louise_revelation","assassination_attempt"]}]},130:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mysteryElements:()=>i});const i=[{id:"knitters_group",title:"The Knitters Group",description:'The group of German Nazi women sympathizers, nicknamed after the historical "tricoteuses" who knit during French Revolution executions.',firstMentioned:"chapter1",revealedInChapter:"chapter1",relatedCharacters:["gerda_stammer","lena_weber","louise_harrington"],status:"revealed"},{id:"mysterious_suitcase",title:"The Mysterious Suitcase",description:"A suitcase delivered to Cynthia, initially believed to contain a radio but actually containing women's clothes and German rifle components disguised as knitting needles.",firstMentioned:"chapter6",revealedInChapter:"chapter10",relatedCharacters:["john_davies","bob_harrington"],relatedEvents:["train_journey"],status:"revealed"},{id:"edwards_identity",title:"Edwards' True Purpose",description:"The German agent Edwards was bringing critical equipment for the assassination attempt but became a liability.",firstMentioned:"chapter6",revealedInChapter:"chapter8",relatedCharacters:["edwards","megan_davies"],relatedEvents:["edwards_murder"],status:"revealed"},{id:"louise_allegiance",title:"Louise's True Allegiance",description:"The revelation that Louise has been working against the fifth columnists as a double agent.",firstMentioned:"chapter1",revealedInChapter:"chapter11",relatedCharacters:["louise_harrington","bill_laurie"],relatedEvents:["assassination_attempt"],status:"twist"},{id:"assassination_target",title:"The Assassination Target",description:"The plan to assassinate General Montgomery from Cynthia's tower.",firstMentioned:"chapter8",revealedInChapter:"chapter10",relatedCharacters:["bob_harrington","john_davies"],relatedEvents:["rifle_testing","house_occupation","assassination_attempt"],status:"major_plot"},{id:"phone_tap",title:"The Tapped Phone",description:"The discovery that Cynthia's regular phone has been tapped by fifth columnists.",firstMentioned:"chapter9",revealedInChapter:"chapter9",relatedCharacters:["jack","peter_snowden"],relatedEvents:["secure_line_installation"],status:"revealed"},{id:"gladys_role",title:"Gladys' Informal Intelligence Role",description:"The village postmistress's role as an inadvertent intelligence source through her natural observation.",firstMentioned:"chapter8",revealedInChapter:"chapter10",relatedCharacters:["gladys","cynthia_childreth"],status:"background"},{id:"three_montys",title:"The Three Montgomerys Decoy",description:"Bill's clever plan to confuse assassins by having three similar jeeps with Montgomery lookalikes.",firstMentioned:"chapter11",revealedInChapter:"chapter11",relatedCharacters:["bill_laurie","montgomery"],relatedEvents:["assassination_attempt"],status:"twist"},{id:"bills_secret_contact",title:"Bill's Secret Contact with Louise",description:"The revelation that Bill had been in contact with Louise as a double agent for a long time.",firstMentioned:"chapter11",revealedInChapter:"chapter11",relatedCharacters:["bill_laurie","louise_harrington"],status:"major_twist"},{id:"megan_postman",title:"The Postman's True Identity",description:'The revelation that Megan Davies was the "postman" who murdered Edwards.',firstMentioned:"chapter7",revealedInChapter:"chapter11",relatedCharacters:["megan_davies","edwards"],relatedEvents:["edwards_murder"],status:"twist"}]},141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deriveRelationshipsFromCharacters:()=>i,toRelationshipCategory:()=>r});const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new Map,i=new Map(e.map((e=>[e.id,e])));e.forEach((e=>{(Array.isArray(e.relations)?e.relations:[]).forEach((t=>{const i=t.characterId;if(!i)return;const r=e.id,a=i,[o,s]=r<a?[r,a]:[a,r],l="".concat(o,"::").concat(s),c=n.get(l)||{id1:o,id2:s,byId:{}};c.byId[r]=t,n.set(l,c)}))}));const a=e=>e&&Array.isArray(t)&&0!==t.length?t.findIndex((t=>t.id===e)):-1,o=[];return n.forEach((e=>{const{id1:t,id2:n,byId:s}=e,l=s[t],c=s[n],d=[];l&&l.type&&d.push(l.type),c&&c.type&&c.type!==(null===l||void 0===l?void 0:l.type)&&d.push(c.type);const u=d.length>0?d.join("-"):"related",h=e=>e.reduce(((e,t)=>{if(!t)return e;const n=a(t);if(-1===n)return e;if(!e)return t;const i=a(e);return-1===i||n<i?t:e}),null),p=[null===l||void 0===l?void 0:l.introducedInChapter,null===c||void 0===c?void 0:c.introducedInChapter].filter(Boolean);let f=null;if(p.length>0)f=h(p);else{var m,g;f=h([null===(m=i.get(t))||void 0===m?void 0:m.introducedInChapter,null===(g=i.get(n))||void 0===g?void 0:g.introducedInChapter])}const y=r(u);o.push({from:t,to:n,type:u,category:y,introducedInChapter:f})})),o},r=e=>{const t=(e||"").toLowerCase();return t.includes("spouse")?"Spouse":t.includes("handler")||t.includes("asset")?"Handler/Asset":t.includes("conspirator")||t.includes("enemy")||t.includes("target")||t.includes("victim")?"Conspirator/Enemy":t.includes("colleague")||t.includes("partner")?"Colleague/Partner":t.includes("superior")||t.includes("subordinate")?"Superior/Subordinate":t.includes("friend")?"Friend":t.includes("informant")||t.includes("double-agent")?"Informant/Double-Agent":"Other"}},161:(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeline:()=>i});const i=[]},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(t in r=arguments[n])e[t]=r[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function r(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var a=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++a),e._leaflet_id}function s(e,t,n){var i,r,a,o;return o=function(){i=!1,r&&(a.apply(n,r),r=!1)},a=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(o,t),i=!0)},a}function l(e,t,n){var i=t[1],r=t[0],a=i-r;return e===i&&n?e:((e-r)%a+a)%a+r}function c(){return!1}function d(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return u(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"===typeof i&&(i=i(t)),i}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var k=window.requestAnimationFrame||b("RequestAnimationFrame")||x,C=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,n){if(!n||k!==x)return k.call(window,r(e,t));e.call(t)}function I(e){e&&C.call(window,e)}var j={__proto__:null,extend:n,create:i,bind:r,get lastId(){return a},stamp:o,throttle:s,wrapNum:l,falseFn:c,formatNum:d,trim:u,splitWords:h,setOptions:p,getParamString:f,template:g,isArray:y,indexOf:v,emptyImageUrl:_,requestFn:k,cancelFn:C,requestAnimFrame:S,cancelAnimFrame:I};function T(){}function E(e){if("undefined"!==typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}T.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=t.__super__=this.prototype,a=i(r);for(var o in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(E(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=r.options?i(r.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},T.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},T.mergeOptions=function(e){return n(this.prototype.options,e),this},T.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var P={on:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,a=(e=h(e)).length;r<a;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var i in e)this._off(i,e[i],t);else{e=h(e);for(var r=1===arguments.length,a=0,o=e.length;a<o;a++)r?this._off(e[a]):this._off(e[a],t,n)}else delete this._events;return this},_on:function(e,t,n,i){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var r={fn:t,ctx:n};i&&(r.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(r)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var i,r,a;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var o=this._listens(e,t,n);if(!1!==o){var s=i[o];this._firingCount&&(s.fn=c,this._events[e]=i=i.slice()),i.splice(o,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(r=0,a=i.length;r<a;r++)i[r].fn=c;delete this._events[e]}},fire:function(e,t,i){if(!this.listens(e,i))return this;var r=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var l=a[o],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(e,t,n,i){"string"!==typeof e&&console.warn('"string" type argument expected');var r=t;"function"!==typeof t&&(i=!!t,r=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&!1!==this._listens(e,r,n))return!0;if(i)for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,i))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var i=this._events[e]||[];if(!t)return!!i.length;n===this&&(n=void 0);for(var r=0,a=i.length;r<a;r++)if(i[r].fn===t&&i[r].ctx===n)return r;return!1},once:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t,!0);else for(var r=0,a=(e=h(e)).length;r<a;r++)this._on(e[r],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens;var N=T.extend(P);function M(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var A=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function z(e,t,n){return e instanceof M?e:y(e)?new M(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new M(e.x,e.y):new M(e,t,n)}function B(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function R(e,t){return!e||e instanceof B?e:new B(e,t)}function D(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function O(e,t){return e instanceof D?e:new D(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function H(e,t,n){return e instanceof F?e:y(e)&&"object"!==typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}M.prototype={clone:function(){return new M(this.x,this.y)},add:function(e){return this.clone()._add(z(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(z(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new M(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new M(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=A(this.x),this.y=A(this.y),this},distanceTo:function(e){var t=(e=z(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=z(e)).x===this.x&&e.y===this.y},contains:function(e){return e=z(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},B.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof M||"number"===typeof e[0]||"x"in e)t=n=z(e);else if(t=(e=R(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof M?z(e):R(e))instanceof B?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=R(e);var t=this.min,n=this.max,i=e.min,r=e.max,a=r.x>=t.x&&i.x<=n.x,o=r.y>=t.y&&i.y<=n.y;return a&&o},overlaps:function(e){e=R(e);var t=this.min,n=this.max,i=e.min,r=e.max,a=r.x>t.x&&i.x<n.x,o=r.y>t.y&&i.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,i=Math.abs(t.x-n.x)*e,r=Math.abs(t.y-n.y)*e;return R(z(t.x-i,t.y-r),z(n.x+i,n.y+r))},equals:function(e){return!!e&&(e=R(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},D.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof D))return e?this.extend(H(e)||O(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new D(new F(t.lat-i,t.lng-r),new F(n.lat+i,n.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof F||"lat"in e?H(e):O(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof D?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=O(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),a=r.lat>=t.lat&&i.lat<=n.lat,o=r.lng>=t.lng&&i.lng<=n.lng;return a&&o},overlaps:function(e){e=O(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),a=r.lat>t.lat&&i.lat<n.lat,o=r.lng>t.lng&&i.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=O(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=H(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+d(this.lat,e)+", "+d(this.lng,e)+")"},distanceTo:function(e){return G.distance(this,H(e))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return O([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new B(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new D(new F(a.lat-i,a.lng-r),new F(o.lat-i,o.lng-r))}},G=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(i)*Math.cos(r)*o*o,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),W=6378137,q={R:W,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new M(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=W*Math.PI;return new B([-e,-e],[e,e])}()};function Z(e,t,n,i){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function V(e,t,n,i){return new Z(e,t,n,i)}Z.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new M((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var J=n({},G,{code:"EPSG:3857",projection:q,transformation:function(){var e=.5/(Math.PI*q.R);return V(e,.5,-e,.5)}()}),K=n({},J,{code:"EPSG:900913"});function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,i,r,a,o,s,l="";for(n=0,r=e.length;n<r;n++){for(i=0,a=(o=e[n]).length;i<a;i++)l+=(i?"L":"M")+(s=o[i]).x+" "+s.y;l+=t?Be.svg?"z":"x":""}return l||"M0 0"}var Q=document.documentElement.style,X="ActiveXObject"in window,ee=X&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=ze("webkit"),ie=ze("android"),re=ze("android 2")||ze("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oe=ie&&ze("Google")&&ae<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&ze("chrome"),ce=ze("gecko")&&!ne&&!se&&!X,de=!le&&ze("safari"),ue=ze("phantom"),he="OTransition"in Q,pe=0===navigator.platform.indexOf("Win"),fe=X&&"transition"in Q,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ge="MozPerspective"in Q,ye=!window.L_DISABLE_3D&&(fe||me||ge)&&!he&&!ue,ve="undefined"!==typeof orientation||ze("mobile"),_e=ve&&ne,be=ve&&me,we=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!we),ke="ontouchstart"in window||!!window.TouchEvent,Ce=!window.L_NO_TOUCH&&(ke||xe),Se=ve&&se,Ie=ve&&ce,je=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Te=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Ee=!!document.createElement("canvas").getContext,Pe=!(!document.createElementNS||!$("svg").createSVGRect),Ne=!!Pe&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Le=!Pe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Me=0===navigator.platform.indexOf("Mac"),Ae=0===navigator.platform.indexOf("Linux");function ze(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Be={ie:X,ielt9:ee,edge:te,webkit:ne,android:ie,android23:re,androidStock:oe,opera:se,chrome:le,gecko:ce,safari:de,phantom:ue,opera12:he,win:pe,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ye,mobile:ve,mobileWebkit:_e,mobileWebkit3d:be,msPointer:we,pointer:xe,touch:Ce,touchNative:ke,mobileOpera:Se,mobileGecko:Ie,retina:je,passiveEvents:Te,canvas:Ee,svg:Pe,vml:Le,inlineSvg:Ne,mac:Me,linux:Ae},Re=Be.msPointer?"MSPointerDown":"pointerdown",De=Be.msPointer?"MSPointerMove":"pointermove",Oe=Be.msPointer?"MSPointerUp":"pointerup",Fe=Be.msPointer?"MSPointerCancel":"pointercancel",He={touchstart:Re,touchmove:De,touchend:Oe,touchcancel:Fe},Ue={touchstart:Qe,touchmove:Ye,touchend:Ye,touchcancel:Ye},Ge={},We=!1;function qe(e,t,n){return"touchstart"===t&&$e(),Ue[t]?(n=Ue[t].bind(this,n),e.addEventListener(He[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ze(e,t,n){He[t]?e.removeEventListener(He[t],n,!1):console.warn("wrong event specified:",t)}function Ve(e){Ge[e.pointerId]=e}function Je(e){Ge[e.pointerId]&&(Ge[e.pointerId]=e)}function Ke(e){delete Ge[e.pointerId]}function $e(){We||(document.addEventListener(Re,Ve,!0),document.addEventListener(De,Je,!0),document.addEventListener(Oe,Ke,!0),document.addEventListener(Fe,Ke,!0),We=!0)}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],Ge)t.touches.push(Ge[n]);t.changedTouches=[t],e(t)}}function Qe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Vt(t),Ye(e,t)}function Xe(e){var t,n,i={};for(n in e)t=e[n],i[n]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,i=0;function r(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var r=Kt(e);if(!r.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||r.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var a=Date.now();a-i<=et?2===++n&&t(Xe(e)):n=1,i=a}}}else n=e.detail}return e.addEventListener("click",r),{dblclick:t,simDblclick:r}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var it,rt,at,ot,st,lt=St(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=St(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dt="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ut(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function pt(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function ft(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function yt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function vt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=xt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(e,t){if(void 0!==e.classList)for(var n=h(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!vt(e,t)){var a=xt(e);wt(e,(a?a+" ":"")+t)}}function bt(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,u((" "+xt(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function xt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function kt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Ct(e,t)}function Ct(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(r){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}function St(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function It(e,t,n){var i=t||new M(0,0);e.style[lt]=(Be.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function jt(e,t){e._leaflet_pos=t,Be.any3d?It(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Tt(e){return e._leaflet_pos||new M(0,0)}if("onselectstart"in document)it=function(){Rt(window,"selectstart",Vt)},rt=function(){Ot(window,"selectstart",Vt)};else{var Et=St(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);it=function(){if(Et){var e=document.documentElement.style;at=e[Et],e[Et]="none"}},rt=function(){Et&&(document.documentElement.style[Et]=at,at=void 0)}}function Pt(){Rt(window,"dragstart",Vt)}function Nt(){Ot(window,"dragstart",Vt)}function Lt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Mt(),ot=e,st=e.style.outlineStyle,e.style.outlineStyle="none",Rt(window,"keydown",Mt))}function Mt(){ot&&(ot.style.outlineStyle=st,ot=void 0,st=void 0,Ot(window,"keydown",Mt))}function At(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function zt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Bt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:dt,get:ut,getStyle:ht,create:pt,remove:ft,empty:mt,toFront:gt,toBack:yt,hasClass:vt,addClass:_t,removeClass:bt,setClass:wt,getClass:xt,setOpacity:kt,testProp:St,setTransform:It,setPosition:jt,getPosition:Tt,get disableTextSelection(){return it},get enableTextSelection(){return rt},disableImageDrag:Pt,enableImageDrag:Nt,preventOutline:Lt,restoreOutline:Mt,getSizedParentNode:At,getScale:zt};function Rt(e,t,n,i){if(t&&"object"===typeof t)for(var r in t)Ut(e,r,t[r],n);else for(var a=0,o=(t=h(t)).length;a<o;a++)Ut(e,t[a],n,i);return this}var Dt="_leaflet_events";function Ot(e,t,n,i){if(1===arguments.length)Ft(e),delete e[Dt];else if(t&&"object"===typeof t)for(var r in t)Gt(e,r,t[r],n);else if(t=h(t),2===arguments.length)Ft(e,(function(e){return-1!==v(t,e)}));else for(var a=0,o=t.length;a<o;a++)Gt(e,t[a],n,i);return this}function Ft(e,t){for(var n in e[Dt]){var i=n.split(/\d/)[0];t&&!t(i)||Gt(e,i,null,null,n)}}var Ht={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ut(e,t,n,i){var r=t+o(n)+(i?"_"+o(i):"");if(e[Dt]&&e[Dt][r])return this;var a=function(t){return n.call(i||e,t||window.event)},s=a;!Be.touchNative&&Be.pointer&&0===t.indexOf("touch")?a=qe(e,t,a):Be.touch&&"dblclick"===t?a=tt(e,a):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ht[t]||t,a,!!Be.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,Xt(e,t)&&s(t)},e.addEventListener(Ht[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,a),e[Dt]=e[Dt]||{},e[Dt][r]=a}function Gt(e,t,n,i,r){r=r||t+o(n)+(i?"_"+o(i):"");var a=e[Dt]&&e[Dt][r];if(!a)return this;!Be.touchNative&&Be.pointer&&0===t.indexOf("touch")?Ze(e,t,a):Be.touch&&"dblclick"===t?nt(e,a):"removeEventListener"in e?e.removeEventListener(Ht[t]||t,a,!1):e.detachEvent("on"+t,a),e[Dt][r]=null}function Wt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function qt(e){return Ut(e,"wheel",Wt),this}function Zt(e){return Rt(e,"mousedown touchstart dblclick contextmenu",Wt),e._leaflet_disable_click=!0,this}function Vt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Jt(e){return Vt(e),Wt(e),this}function Kt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function $t(e,t){if(!t)return new M(e.clientX,e.clientY);var n=zt(t),i=n.boundingClientRect;return new M((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Yt=Be.linux&&Be.chrome?window.devicePixelRatio:Be.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qt(e){return Be.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Xt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(i){return!1}return n!==e}var en={__proto__:null,on:Rt,off:Ot,stopPropagation:Wt,disableScrollPropagation:qt,disableClickPropagation:Zt,preventDefault:Vt,stop:Jt,getPropagationPath:Kt,getMousePosition:$t,getWheelDelta:Qt,isExternalTarget:Xt,addListener:Rt,removeListener:Ot},tn=N.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Tt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),jt(this._el,n),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=N.extend({options:{crs:J,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(H(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Be.any3d&&!Be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,dt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,i){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(H(e),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,i.pan&&i.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),a=(e instanceof M?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),o=this.containerPointToLatLng(r.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():O(e);var n=z(t.paddingTopLeft||t.padding||[0,0]),i=z(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"===typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var a=i.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),r),s=this.project(e.getNorthEast(),r);return{center:this.unproject(o.add(s).divideBy(2).add(a),r),zoom:r}},fitBounds:function(e,t){if(!(e=O(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=z(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Be.any3d)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),r=this.project(e),a=this.getSize(),o=this._zoom;e=H(e),t=void 0===t?o:t;var s=Math.max(a.x,a.y),l=s*this.getZoomScale(o,t),c=r.distanceTo(i)||1,d=1.42,u=d*d;function h(e){var t=(l*l-s*s+(e?-1:1)*u*u*c*c)/(2*(e?l:s)*u*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return p(e)/f(e)}var g=h(0);function y(e){return s*(f(g)/f(g+d*e))}function v(e){return s*(f(g)*m(g+d*e)-p(g))/u}function _(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),w=(h(1)-g)/d,x=n.duration?1e3*n.duration:1e3*w*.8;function k(){var n=(Date.now()-b)/x,a=_(n)*w;n<=1?(this._flyToFrame=S(k,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(v(a)/c)),o),this.getScaleZoom(s/y(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),k.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=O(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,O(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=z((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=z(t.paddingBottomRight||t.padding||[0,0]),r=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=R([o.min.add(n),o.max.subtract(i)]),l=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var c=a.subtract(s.getCenter()),d=s.extend(a).getSize().subtract(l);r.x+=c.x<0?-d.x:d.x,r.y+=c.y<0?-d.y:d.y,this.panTo(this.unproject(r),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),a=t.divideBy(2).round(),o=i.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(r,i.maxZoom):r)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"===typeof e.coords[o]&&(a[o]=e.coords[o]);this.fire("locationfound",a)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ft(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new D(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=O(e),n=z(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=R(this.project(s,i),this.project(o,i)).getSize(),d=Be.any3d?this.options.zoomSnap:1,u=l.x/c.x,h=l.y/c.y,p=t?Math.max(u,h):Math.min(u,h);return i=this.getScaleZoom(p,i),d&&(i=Math.round(i/(d/100))*(d/100),i=t?Math.ceil(i/d)*d:Math.floor(i/d)*d),Math.max(r,Math.min(a,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(H(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(z(e),t)},layerPointToLatLng:function(e){var t=z(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(H(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(H(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(O(e))},distance:function(e,t){return this.options.crs.distance(H(e),H(t))},containerPointToLayerPoint:function(e){return z(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return z(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(z(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(H(e)))},mouseEventToContainerPoint:function(e){return $t(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ut(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Rt(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Be.any3d,_t(e,"leaflet-container"+(Be.touch?" leaflet-touch":"")+(Be.retina?" leaflet-retina":"")+(Be.ielt9?" leaflet-oldie":"")+(Be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){jt(this._mapPane,new M(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,n)._move(e,t)._moveEnd(r),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,i){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){jt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Ot:Rt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Be.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(r&&!Xt(a,e))break;if(i.push(n),r)break}if(a===this._container)break;a=a.parentNode}return i.length||s||r||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Lt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,i){if("click"===e.type){var r=n({},e);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var a=this._findEventTargets(e,t);if(i){for(var o=[],s=0;s<i.length;s++)i[s].listens(t,!0)&&o.push(i[s]);a=o.concat(a)}if(a.length){"contextmenu"===t&&Vt(e);var l=a[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var d=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=d?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=d?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(t,c,!0),c.originalEvent._stopped||!1===a[s].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Tt(this._mapPane)||new M(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return R([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),a=new B(i.subtract(r),i.add(r)),o=this._getBoundsOffset(a,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(i.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new B(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=R(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),a=i.max.subtract(e.max);return new M(this._rebound(r.x,-a.x),this._rebound(r.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=Be.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=lt,n=this._proxy.style[t];It(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();It(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(S((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var an=T.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return _t(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),on=function(e){return new an(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function i(i,r){var a=t+i+" "+t+r;e[i+r]=pt("div",a,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ft(this._controlCorners[e]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return an.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Zt(t),qt(t);var i=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Rt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=pt("a",e+"-toggle",t);r.href="#",r.title="Layers",r.setAttribute("role","button"),Rt(r,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Vt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",i),this._separator=pt("div",e+"-separator",i),this._overlaysList=pt("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+o(this),i),this._layerControlInputs.push(t),t.layerId=o(e.layer),Rt(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(t),a.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])&&this._map.removeLayer(r[a]);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])||this._map.addLayer(i[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Rt(e,"click",Vt),this.expand();var t=this;setTimeout((function(){Ot(e,"click",Vt),t._preventClick=!1}))}}),ln=function(e,t,n){return new sn(e,t,n)},cn=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var a=pt("a",n,i);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Zt(a),Rt(a,"click",Jt),Rt(a,"click",r,this),Rt(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";bt(this._zoomInButton,t),bt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(_t(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(_t(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var dn=function(e){return new cn(e)},un=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new un(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Be.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Zt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var mn=function(e){return new fn(e)};an.Layers=sn,an.Zoom=cn,an.Scale=un,an.Attribution=fn,on.layers=ln,on.zoom=dn,on.scale=hn,on.attribution=mn;var gn=T.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var yn={Events:P},vn=Be.touch?"touchstart mousedown":"mousedown",_n=N.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){p(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Rt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),Ot(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!vt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(_n._dragging=this,this._preventOutline&&Lt(this._element),Pt(),it(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=At(this._element);this._startPoint=new M(t.clientX,t.clientY),this._startPos=Tt(this._element),this._parentScale=zt(n);var i="mousedown"===e.type;Rt(document,i?"mousemove":"touchmove",this._onMove,this),Rt(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new M(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Vt(e),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),jt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ot(document,"mousemove touchmove",this._onMove,this),Ot(document,"mouseup touchend touchcancel",this._onUp,this),Nt(),rt();var t=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function bn(e,t,n){var i,r,a,o,s,l,c,d,u,h=[1,4,2,8];for(r=0,c=e.length;r<c;r++)e[r]._code=Mn(e[r],t);for(o=0;o<4;o++){for(d=h[o],i=[],r=0,a=(c=e.length)-1;r<c;a=r++)s=e[r],l=e[a],s._code&d?l._code&d||((u=Ln(l,s,d,t,n))._code=Mn(u,t),i.push(u)):(l._code&d&&((u=Ln(l,s,d,t,n))._code=Mn(u,t),i.push(u)),i.push(s));e=i}return e}function wn(e,t){var n,i,r,a,o,s,l,c,d;if(!e||0===e.length)throw new Error("latlngs not passed");Bn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=H([0,0]),h=O(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=xn(e));var p=e.length,f=[];for(n=0;n<p;n++){var m=H(e[n]);f.push(t.project(H([m.lat-u.lat,m.lng-u.lng])))}for(s=l=c=0,n=0,i=p-1;n<p;i=n++)r=f[n],a=f[i],o=r.y*a.x-a.y*r.x,l+=(r.x+a.x)*o,c+=(r.y+a.y)*o,s+=3*o;d=0===s?f[0]:[l/s,c/s];var g=t.unproject(z(d));return H([g.lat+u.lat,g.lng+u.lng])}function xn(e){for(var t=0,n=0,i=0,r=0;r<e.length;r++){var a=H(e[r]);t+=a.lat,n+=a.lng,i++}return H([t/i,n/i])}var kn,Cn={__proto__:null,clipPolygon:bn,polygonCenter:wn,centroid:xn};function Sn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Tn(e=Pn(e,n),n)}function In(e,t,n){return Math.sqrt(zn(e,t,n,!0))}function jn(e,t,n){return zn(e,t,n)}function Tn(e,t){var n=e.length,i=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,En(e,i,t,0,n-1);var r,a=[];for(r=0;r<n;r++)i[r]&&a.push(e[r]);return a}function En(e,t,n,i,r){var a,o,s,l=0;for(o=i+1;o<=r-1;o++)(s=zn(e[o],e[i],e[r],!0))>l&&(a=o,l=s);l>n&&(t[a]=1,En(e,t,n,i,a),En(e,t,n,a,r))}function Pn(e,t){for(var n=[e[0]],i=1,r=0,a=e.length;i<a;i++)An(e[i],e[r])>t&&(n.push(e[i]),r=i);return r<a-1&&n.push(e[a-1]),n}function Nn(e,t,n,i,r){var a,o,s,l=i?kn:Mn(e,n),c=Mn(t,n);for(kn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=Mn(o=Ln(e,t,a=l||c,n,r),n),a===l?(e=o,l=s):(t=o,c=s)}}function Ln(e,t,n,i,r){var a,o,s=t.x-e.x,l=t.y-e.y,c=i.min,d=i.max;return 8&n?(a=e.x+s*(d.y-e.y)/l,o=d.y):4&n?(a=e.x+s*(c.y-e.y)/l,o=c.y):2&n?(a=d.x,o=e.y+l*(d.x-e.x)/s):1&n&&(a=c.x,o=e.y+l*(c.x-e.x)/s),new M(a,o,r)}function Mn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function An(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function zn(e,t,n,i){var r,a=t.x,o=t.y,s=n.x-a,l=n.y-o,c=s*s+l*l;return c>0&&((r=((e.x-a)*s+(e.y-o)*l)/c)>1?(a=n.x,o=n.y):r>0&&(a+=s*r,o+=l*r)),s=e.x-a,l=e.y-o,i?s*s+l*l:new M(a,o)}function Bn(e){return!y(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Rn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bn(e)}function Dn(e,t){var n,i,r,a,o,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Bn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=H([0,0]),u=O(e);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(d=xn(e));var h=e.length,p=[];for(n=0;n<h;n++){var f=H(e[n]);p.push(t.project(H([f.lat-d.lat,f.lng-d.lng])))}for(n=0,i=0;n<h-1;n++)i+=p[n].distanceTo(p[n+1])/2;if(0===i)c=p[0];else for(n=0,a=0;n<h-1;n++)if(o=p[n],s=p[n+1],(a+=r=o.distanceTo(s))>i){l=(a-i)/r,c=[s.x-l*(s.x-o.x),s.y-l*(s.y-o.y)];break}var m=t.unproject(z(c));return H([m.lat+d.lat,m.lng+d.lng])}var On={__proto__:null,simplify:Sn,pointToSegmentDistance:In,closestPointOnSegment:jn,clipSegment:Nn,_getEdgeIntersection:Ln,_getBitCode:Mn,_sqClosestPointOnSegment:zn,isFlat:Bn,_flat:Rn,polylineCenter:Dn},Fn={project:function(e){return new M(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new B([-180,-90],[180,90])},Hn={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,a=Math.sqrt(1-r*r),o=a*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-o)/(1+o),a/2);return i=-n*Math.log(Math.max(s,1e-10)),new M(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,a=Math.sqrt(1-r*r),o=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(o),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=c=Math.PI/2-2*Math.atan(o*t)-s;return new F(s*n,e.x*n/i)}},Un={__proto__:null,LonLat:Fn,Mercator:Hn,SphericalMercator:q},Gn=n({},G,{code:"EPSG:3395",projection:Hn,transformation:function(){var e=.5/(Math.PI*Hn.R);return V(e,.5,-e,.5)}()}),Wn=n({},G,{code:"EPSG:4326",projection:Fn,transformation:V(1/180,1,-1/180,.5)}),qn=n({},U,{projection:Fn,transformation:V(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});U.Earth=G,U.EPSG3395=Gn,U.EPSG3857=J,U.EPSG900913=K,U.EPSG4326=Wn,U.Simple=qn;var Zn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?y(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vn=Zn.extend({initialize:function(e,t){var n,i;if(p(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Jn=function(e,t){return new Vn(e,t)},Kn=Vn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Vn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Vn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),$n=function(e,t){return new Kn(e,t)},Yn=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"===typeof i&&(i=[i,i]);var r=z(i),a=z("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Be.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Qn(e){return new Yn(e)}var Xn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Xn.imagePath&&(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+Yn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var i=t.exec(e);return i&&i[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ei=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new _n(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,a=Tt(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),l=R(o.min._subtract(s).add(r),o.max._subtract(s).subtract(r));if(!l.contains(a)){var c=z((Math.max(l.max.x,a.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),jt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=S(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=Tt(t._icon),r=t._map.layerPointToLatLng(i);n&&jt(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ti=Zn.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=H(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),_t(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(n,"focus",this._panOnFocus,this);var r=e.icon.createShadow(this._shadow),a=!1;r!==this._shadow&&(this._removeShadow(),a=!0),r&&(_t(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&jt(this._icon,e),this._shadow&&jt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ei)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ei(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?z(t.iconSize):z(0,0),i=t.iconAnchor?z(t.iconAnchor):z(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ni(e,t){return new ti(e,t)}var ii=Zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ri=ii.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=H(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ii.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new B(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ai(e,t){return new ri(e,t)}var oi=ri.extend({initialize:function(e,t,i){if("number"===typeof t&&(t=n({},i,{radius:t})),p(this,t),this._latlng=H(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ii.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===G.distance){var r=Math.PI/180,a=this._mRadius/G.R/r,o=n.project([t+a,e]),s=n.project([t-a,e]),l=o.add(s).divideBy(2),c=n.unproject(l).lat,d=Math.acos((Math.cos(a*r)-Math.sin(t*r)*Math.sin(c*r))/(Math.cos(t*r)*Math.cos(c*r)))/r;(isNaN(d)||0===d)&&(d=a/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(d)?0:l.x-n.project([c,e-d]).x,this._radiusY=l.y-o.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}});function si(e,t,n){return new oi(e,t,n)}var li=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,a=zn,o=0,s=this._parts.length;o<s;o++)for(var l=this._parts[o],c=1,d=l.length;c<d;c++){var u=a(e,t=l[c-1],n=l[c],!0);u<i&&(i=u,r=a(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=H(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Bn(e),i=0,r=e.length;i<r;i++)n?(t[i]=H(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new M(e,e);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var i,r,a=e[0]instanceof F,o=e.length;if(a){for(r=[],i=0;i<o;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<o;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,a,o,s,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++)for(n=0,a=(s=this._rings[t]).length;n<a-1;n++)(o=Nn(s[n],s[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(o[0]),o[1]===s[n+1]&&n!==a-2||(l[i].push(o[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=Sn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,a,o,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(i=0,r=(o=(s=this._parts[n]).length)-1;i<o;r=i++)if((t||0!==i)&&In(e,s[r],s[i])<=l)return!0;return!1}});function ci(e,t){return new li(e,t)}li._flat=Rn;var di=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=li.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){li.prototype._setLatLngs.call(this,e),Bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new M(t,t);if(e=new B(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,a=this._rings.length;r<a;r++)(i=bn(this._rings[r],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,a,o,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,s=this._parts.length;r<s;r++)for(a=0,o=(l=(t=this._parts[r]).length)-1;a<l;o=a++)n=t[a],i=t[o],n.y>e.y!==i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||li.prototype._containsPoint.call(this,e,!0)}});function ui(e,t){return new di(e,t)}var hi=Kn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=y(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=pi(e,a);return o?(o.feature=bi(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pi(e,t){var n,i,r,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,l=[],c=t&&t.pointToLayer,d=t&&t.coordsToLatLng||mi;if(!s&&!o)return null;switch(o.type){case"Point":return fi(c,e,n=d(s),t);case"MultiPoint":for(r=0,a=s.length;r<a;r++)n=d(s[r]),l.push(fi(c,e,n,t));return new Kn(l);case"LineString":case"MultiLineString":return i=gi(s,"LineString"===o.type?0:1,d),new li(i,t);case"Polygon":case"MultiPolygon":return i=gi(s,"Polygon"===o.type?1:2,d),new di(i,t);case"GeometryCollection":for(r=0,a=o.geometries.length;r<a;r++){var u=pi({geometry:o.geometries[r],type:"Feature",properties:e.properties},t);u&&l.push(u)}return new Kn(l);case"FeatureCollection":for(r=0,a=o.features.length;r<a;r++){var h=pi(o.features[r],t);h&&l.push(h)}return new Kn(l);default:throw new Error("Invalid GeoJSON object.")}}function fi(e,t,n,i){return e?e(t,n):new ti(n,i&&i.markersInheritOptions&&i)}function mi(e){return new F(e[1],e[0],e[2])}function gi(e,t,n){for(var i,r=[],a=0,o=e.length;a<o;a++)i=t?gi(e[a],t-1,n):(n||mi)(e[a]),r.push(i);return r}function yi(e,t){return void 0!==(e=H(e)).alt?[d(e.lng,t),d(e.lat,t),d(e.alt,t)]:[d(e.lng,t),d(e.lat,t)]}function vi(e,t,n,i){for(var r=[],a=0,o=e.length;a<o;a++)r.push(t?vi(e[a],Bn(e[a])?0:t-1,n,i):yi(e[a],i));return!t&&n&&r.length>0&&r.push(r[0].slice()),r}function _i(e,t){return e.feature?n({},e.feature,{geometry:t}):bi(t)}function bi(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wi={toGeoJSON:function(e){return _i(this,{type:"Point",coordinates:yi(this.getLatLng(),e)})}};function xi(e,t){return new hi(e,t)}ti.include(wi),oi.include(wi),ri.include(wi),li.include({toGeoJSON:function(e){var t=!Bn(this._latlngs);return _i(this,{type:(t?"Multi":"")+"LineString",coordinates:vi(this._latlngs,t?1:0,!1,e)})}}),di.include({toGeoJSON:function(e){var t=!Bn(this._latlngs),n=t&&!Bn(this._latlngs[0]),i=vi(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),_i(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Vn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),_i(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var a=bi(r);"FeatureCollection"===a.type?i.push.apply(i,a.features):i.push(a)}}})),n?_i(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var ki=xi,Ci=Zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=O(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=O(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=r(this.fire,this,"load"),t.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;It(this._image,n,t)},_reset:function(){var e=this._image,t=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();jt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Si=function(e,t,n){return new Ci(e,t,n)},Ii=Ci.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=r(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],a=0;a<n.length;a++)i.push(n[a].src);this._url=n.length>0?i:[t.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=pt("source");s.src=this._url[o],t.appendChild(s)}}}});function ji(e,t,n){return new Ii(e,t,n)}var Ti=Ci.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ei(e,t,n){return new Ti(e,t,n)}var Pi=Zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof F||y(e))?(this._latlng=H(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(r(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=H(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Kn){t=null;var n=this._source._layers;for(var i in n)if(n[i]._map){t=n[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=z(this.options.offset),n=this._getAnchor();this._zoomAnimated?jt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,i){var r=t;return r instanceof e||(r=new e(i).setContent(t)),n&&r.setLatLng(n),r}}),Zn.include({_initOverlay:function(e,t,n,i){var r=n;return r instanceof e?(p(r,i),r._source=this):(r=t&&!i?t:new e(i,this)).setContent(n),r}});var Ni=Pi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Pi.prototype.openOn.call(this,e)},onAdd:function(e){Pi.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Wt))},onRemove:function(e){Pi.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Wt))},getEvents:function(){var e=Pi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Zt(t),qt(this._contentNode),Rt(t,"contextmenu",Wt),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=pt("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Rt(i,"click",(function(e){Vt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,a="leaflet-popup-scrolled";r&&i>r?(t.height=r+"px",_t(e,a)):bt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();jt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,r=new M(this._containerLeft,-n-this._containerBottom);r._add(Tt(this._container));var a=e.layerPointToContainerPoint(r),o=z(this.options.autoPanPadding),s=z(this.options.autoPanPaddingTopLeft||o),l=z(this.options.autoPanPaddingBottomRight||o),c=e.getSize(),d=0,u=0;a.x+i+l.x>c.x&&(d=a.x+i-c.x+l.x),a.x-d-s.x<0&&(d=a.x-s.x),a.y+n+l.y>c.y&&(u=a.y+n-c.y+l.y),a.y-u-s.y<0&&(u=a.y-s.y),(d||u)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([d,u]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Li=function(e,t){return new Ni(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Ni,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Zn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Ni,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Jt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof ii?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Mi=Pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Pi.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Pi.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Pi.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,r=this._container,a=i.latLngToContainerPoint(i.getCenter()),o=i.layerPointToContainerPoint(e),s=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,d=z(this.options.offset),u=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):o.x<a.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(d.x+u.x),n=c/2),e=e.subtract(z(t,n,!0)).add(d).add(u),bt(r,"leaflet-tooltip-right"),bt(r,"leaflet-tooltip-left"),bt(r,"leaflet-tooltip-top"),bt(r,"leaflet-tooltip-bottom"),_t(r,"leaflet-tooltip-"+s),jt(r,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&kt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ai=function(e,t){return new Mi(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Mi,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Zn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mi,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Rt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Rt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var zi=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=z(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Bi(e){return new zi(e)}Yn.Default=Xn;var Ri=Zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ft(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof M?e:new M(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,a=n.length;r<a;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Be.ielt9){kt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var a=Math.min(1,(e-r.loaded)/200);kt(r.el,a),a<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(I(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ft(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new M(+r,+a);s.z=+o;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),o>i&&this._retainParent(r,a,o,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var a=2*t;a<2*t+2;a++){var o=new M(r,a);o.z=n+1;var s=this._tileCoordsToKey(o),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,a,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=Math.round(t);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var a=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!a||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();Be.any3d?It(e.el,r,i):jt(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*i);return new B(r.subtract(a),r.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),a=r.getCenter(),o=[],s=this.options.keepBuffer,l=new B(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var d=this._tiles[c].coords;d.z===this._tileZoom&&l.contains(new M(d.x,d.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var u=r.min.y;u<=r.max.y;u++)for(var h=r.min.x;h<=r.max.x;h++){var p=new M(h,u);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:o.push(p)}}if(o.sort((function(e,t){return e.distanceTo(a)-t.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<o.length;h++)this._addTile(o[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return O(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n);return[t.unproject(i,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new D(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new M(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ft(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Be.ielt9&&this.options.opacity<1&&kt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),r(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&S(r(this._tileReady,this,e,null,a)),jt(a,n),this._tiles[i]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(kt(n.el,0),I(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(_t(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Be.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new M(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new B(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Di(e){return new Ri(e)}var Oi=Ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Be.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Rt(n,"load",r(this._tileOnLoad,this,t,n)),Rt(n,"error",r(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Be.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=i),t["-y"]=i}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Be.ielt9?setTimeout(r(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=_;var n=this._tiles[e].coords;ft(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),Ri.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Ri.prototype._tileReady.call(this,e,t,n)}});function Fi(e,t){return new Oi(e,t)}var Hi=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var i=n({},this.defaultWmsParams);for(var r in t)r in this.options||(i[r]=t[r]);var a=(t=p(this,t)).detectRetina&&Be.retina?2:1,o=this.getTileSize();i.width=o.x*a,i.height=o.y*a,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Oi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=R(n.project(t[0]),n.project(t[1])),r=i.min,a=i.max,o=(this._wmsVersion>=1.3&&this._crs===Wn?[r.y,r.x,a.y,a.x]:[r.x,r.y,a.x,a.y]).join(","),s=Oi.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Ui(e,t){return new Hi(e,t)}Oi.WMS=Hi,Fi.wms=Ui;var Gi=Zn.extend({options:{padding:.1},initialize:function(e){p(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),a=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(e,t));Be.any3d?It(this._container,a,n):jt(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new B(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wi=Gi.extend({options:{tolerance:0},getEvents:function(){var e=Gi.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Rt(e,"mousemove",this._onMouseMove,this),Rt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,ft(this._container),Ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Gi.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=Be.retina?2:1;jt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Be.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;r.push(t)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,a,o=e._parts,s=o.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(i=0,r=o[n].length;i<r;i++)a=o[n][i],l[i?"lineTo":"moveTo"](a.x,a.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(bt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(_t(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function qi(e){return Be.canvas?new Wi(e):null}var Zi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Vi={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gi.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Zi("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Zi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ft(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=Zi("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=y(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=Zi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){yt(e._container)}},Ji=Be.vml?Zi:$,Ki=Gi.extend({_initContainer:function(){this._container=Ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),Ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Gi.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),jt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Ji("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ft(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){yt(e._path)}});function $i(e){return Be.svg||Be.vml?new Ki(e):null}Be.vml&&Ki.include(Vi),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&qi(e)||$i(e)}});var Yi=di.extend({initialize:function(e,t){di.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=O(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Qi(e,t){return new Yi(e,t)}Ki.create=Ji,Ki.pointsToPath=Y,hi.geometryToLayer=pi,hi.coordsToLatLng=mi,hi.coordsToLatLngs=gi,hi.latLngToCoords=yi,hi.latLngsToCoords=vi,hi.getFeature=_i,hi.asFeature=bi,nn.mergeOptions({boxZoom:!0});var Xi=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),it(),Pt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Rt(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new B(this._point,this._startPoint),n=t.getSize();jt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),bt(this._container,"leaflet-crosshair")),rt(),Nt(),Ot(document,{contextmenu:Jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var t=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Xi),nn.mergeOptions({doubleClickZoom:!0});var er=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});nn.addInitHook("addHandler","doubleClickZoom",er),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var tr=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new _n(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=O(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,a=(i+t+n)%e-t-n,o=Math.abs(r+n)<Math.abs(a+n)?r:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=r.multiplyBy(o/a),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),d=s.multiplyBy(c/l),u=c/(n.inertiaDeceleration*o),h=d.multiplyBy(-u/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),S((function(){t.panBy(h,{duration:u,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",tr),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nr=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Rt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=z(t).multiplyBy(3)),i.options.maxBounds&&(t=i._limitOffset(z(t),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(t)));i.panTo(r)}else i.panBy(t)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Jt(e)}}});nn.addInitHook("addHandler","keyboard",nr),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ir=gn.extend({addHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Qt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Jt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,a=n?Math.ceil(r/n)*n:r,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});nn.addInitHook("addHandler","scrollWheelZoom",ir);var rr=600;nn.mergeOptions({tapHold:Be.touchNative&&Be.safari&&Be.mobile,tapTolerance:15});var ar=gn.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new M(t.clientX,t.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Rt(document,"touchend",Vt),Rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),rr),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ot(document,"touchend",Vt),Ot(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new M(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ar),nn.mergeOptions({touchZoom:Be.touch,bounceAtZoomLimits:!0});var or=gn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),Vt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var s=r(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(s,this,!0),Vt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,I(this._animRequest),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",or),nn.BoxZoom=Xi,nn.DoubleClickZoom=er,nn.Drag=tr,nn.Keyboard=nr,nn.ScrollWheelZoom=ir,nn.TapHold=ar,nn.TouchZoom=or,e.Bounds=B,e.Browser=Be,e.CRS=U,e.Canvas=Wi,e.Circle=oi,e.CircleMarker=ri,e.Class=T,e.Control=an,e.DivIcon=zi,e.DivOverlay=Pi,e.DomEvent=en,e.DomUtil=Bt,e.Draggable=_n,e.Evented=N,e.FeatureGroup=Kn,e.GeoJSON=hi,e.GridLayer=Ri,e.Handler=gn,e.Icon=Yn,e.ImageOverlay=Ci,e.LatLng=F,e.LatLngBounds=D,e.Layer=Zn,e.LayerGroup=Vn,e.LineUtil=On,e.Map=nn,e.Marker=ti,e.Mixin=yn,e.Path=ii,e.Point=M,e.PolyUtil=Cn,e.Polygon=di,e.Polyline=li,e.Popup=Ni,e.PosAnimation=tn,e.Projection=Un,e.Rectangle=Yi,e.Renderer=Gi,e.SVG=Ki,e.SVGOverlay=Ti,e.TileLayer=Oi,e.Tooltip=Mi,e.Transformation=Z,e.Util=j,e.VideoOverlay=Ii,e.bind=r,e.bounds=R,e.canvas=qi,e.circle=si,e.circleMarker=ai,e.control=on,e.divIcon=Bi,e.extend=n,e.featureGroup=$n,e.geoJSON=xi,e.geoJson=ki,e.gridLayer=Di,e.icon=Qn,e.imageOverlay=Si,e.latLng=H,e.latLngBounds=O,e.layerGroup=Jn,e.map=rn,e.marker=ni,e.point=z,e.polygon=ui,e.polyline=ci,e.popup=Li,e.rectangle=Qi,e.setOptions=p,e.stamp=o,e.svg=$i,e.svgOverlay=Ei,e.tileLayer=Fi,e.tooltip=Ai,e.transformation=V,e.version=t,e.videoOverlay=ji;var sr=window.L;e.noConflict=function(){return window.L=sr,this},window.L=e}(t)},375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bookMetadata:()=>i});const i={title:"Stitched Up (v3)",author:"Matt Parry",characterGroups:{Protagonists:"Main characters working for British intelligence","Fifth Columnists":"Nazi sympathizers and traitors","German Connection":"German agents and sympathizers","Supporting Characters":"Secondary/supporting roles",Military:"British military and intelligence","Historical Figures":"Real-world figures referenced"},characterGroupStyles:{Protagonists:"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200","Fifth Columnists":"bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200","German Connection":"bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200","Supporting Characters":"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200",Military:"bg-gray-300 text-gray-800 dark:bg-gray-600 dark:text-gray-100","Historical Figures":"bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-200"},characterGroupColors:{Protagonists:"#3182CE","Fifth Columnists":"#E53E3E","German Connection":"#D69E2E","Supporting Characters":"#38A169",Military:"#4A5568","Historical Figures":"#805AD5"},importanceWeights:{keyScenes:{perItem:6,max:30},eventParticipation:{perItem:2.5,max:25},relationships:{perItem:2,max:20},development:{perItem:2.5,max:10},defaultGroupBonus:3,groupBonuses:{Protagonists:15,"Fifth Columnists":12,Military:10,"Historical Figures":10,"German Connection":8,"Supporting Characters":5}},literaryAnalysis:{title:"Literary Analysis",paragraphs:["The book uses the spy thriller genre to explore broader themes of loyalty, deception, class division, and the moral compromises made during wartime. The novel's structure mirrors the complexity of intelligence work itself, with information revealed gradually and perspectives shifting as characters' true motivations come to light.","The book's title operates on multiple levels, referring both to the knitting motif throughout the story and the way characters find themselves betrayed or trapped by circumstances and the actions of others."]}}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{events:()=>i});const i=[{id:"german_infiltration",title:"German Infiltration via Scilly Isles",date:"Summer 1943",description:"Helmut Schnitter arrives via U-boat at Scilly Isles, posing as a visitor. MI5 receives intelligence about German infiltration attempts.",location:"scilly_isles",characters:[{characterId:"helmut_schnitter",role:"agent"}],significance:"Establishes vulnerability of UK coast and German infiltration methods",chapter:"Preface",keyActions:["U-boat delivery of German agent","Agent traveling to mainland via Scillonian steamship","No documentation checks required for travel"]},{id:"cynthia_recruitment",title:"Cynthia's Recruitment",date:"May 1932",description:"Cynthia attends weekend at Denleigh Manor where she is approached by intelligence officers Bill and Hannah about helping with national security.",location:"denleigh_manor",characters:[{characterId:"cynthia_childreth",role:"recruit"},{characterId:"richard_childreth",role:"support"},{characterId:"bill_laurie",role:"recruiter",disguise:"Mr. Newton"},{characterId:"hannah_park",role:"recruiter",disguise:"Miss Gilchrist"},{characterId:"jane_maclean",role:"recruiter"},{characterId:"peter_snowden",role:"target"},{characterId:"marjorie_snowden",role:"target"},{characterId:"bob_harrington",role:"target"},{characterId:"louise_harrington",role:"target"},{characterId:"amy_wyndholme",role:"facilitator"}],significance:"Beginning of Cynthia's involvement in intelligence operations against Nazi sympathizers",keyActions:["Secret meeting in garden with Bill and Hannah","Discussion of potential security threat","Cynthia agreed to infiltrate circle of Nazi sympathizers"]},{id:"berlin_trip",title:"Berlin Trip",date:"1932-1933",description:"Richard and Cynthia travel to Berlin on business pretext, stay at Hotel Adlon, meet Nazi sympathizers and establish cover as Nazi supporters.",location:"hotel_adlon",characters:[{characterId:"cynthia_childreth",role:"operative"},{characterId:"richard_childreth",role:"operative"},{characterId:"gerda_stammer",role:"contact"},{characterId:"franz_stammer",role:"contact"},{characterId:"lena_weber",role:"contact"}],significance:"Establishes Cynthia and Richard as sympathetic to Nazi cause for future operations",keyActions:["Meetings at Reichsbank","Social gatherings at Hotel Adlon","Pretending limited German language ability","Expressing subtle support for National Socialism"]},{id:"hitler_sighting",title:"Hitler Reception",date:"1932-1933",description:"Brief appearance of Hitler at a reception at Hotel Adlon, attended by Richard and Cynthia among other guests.",location:"hotel_adlon",characters:[{characterId:"cynthia_childreth",role:"observer"},{characterId:"richard_childreth",role:"observer"},{characterId:"bob_harrington",role:"attendee"},{characterId:"louise_harrington",role:"attendee"},{characterId:"john_davies",role:"attendee"},{characterId:"megan_davies",role:"attendee"}],significance:"First revelation that the Harringtons and Davies were already connected to Nazi high society",keyActions:["Hitler enters reception with bodyguards","Adulation from German supporters","Observation of British guests interacting with Hitler"]},{id:"first_party",title:"First Party at Cynthia's House",date:"May 27 (year unspecified)",description:"Gathering of Nazi sympathizers at Cynthia's home, with intelligence agents observing and German visitors present.",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"host"},{characterId:"richard_childreth",role:"host"},{characterId:"gerda_stammer",role:"guest"},{characterId:"lena_weber",role:"guest"},{characterId:"peter_snowden",role:"guest"},{characterId:"marjorie_snowden",role:"guest"},{characterId:"bob_harrington",role:"guest"},{characterId:"louise_harrington",role:"guest"},{characterId:"john_davies",role:"guest"},{characterId:"megan_davies",role:"guest"},{characterId:"bill_laurie",role:"undercover",disguise:"Mr. Newton"},{characterId:"hannah_park",role:"undercover",disguise:"Miss Gilchrist"},{characterId:"jane_maclean",role:"undercover"}],significance:"First gathering of Nazi sympathizers under observation, establishing network connections",keyActions:["Marjorie and Lena search Cynthia's office","Political discussions revealing Nazi sympathies","Bill and team gathering intelligence on attendees"]},{id:"second_party",title:"Second Party at Cynthia's House",date:"July 7 (year unspecified)",description:"Second gathering with Oswald Mosley in attendance, revealing deeper connections and plans.",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"host"},{characterId:"richard_childreth",role:"host"},{characterId:"peter_snowden",role:"guest"},{characterId:"marjorie_snowden",role:"guest"},{characterId:"bob_harrington",role:"guest"},{characterId:"louise_harrington",role:"guest"},{characterId:"john_davies",role:"guest"},{characterId:"megan_davies",role:"guest"},{characterId:"oswald_mosley",role:"special_guest"}],significance:"Introduction of Mosley element and request for Cynthia's house as safe house",keyActions:["Mosley arrives with bodyguards","Mosley asks Cynthia to act as safe house","Further intelligence gathered on fifth columnist network"]},{id:"edwards_arrival",title:"Edwards Arrives in Scilly Isles",date:"1943",description:"German agent Edwards arrives at Scilly Isles and travels to Penzance",location:"scilly_isles",characters:[{characterId:"edwards",role:"agent"},{characterId:"george_bennet",role:"surveillance"}],significance:"Beginning of final operation that leads to assassination attempt",keyActions:["Edwards arrives by boat","Pays with distinctive cheque from Martins Bank","Followed by George Bennet"]},{id:"train_journey",title:"The Critical Train Journey",date:"1943",description:"Edwards, Davies (as Young), and Louise (disguised with grey hair) travel by train from Penzance to London, with case switch occurring",location:"train",characters:[{characterId:"edwards",role:"agent"},{characterId:"john_davies",role:"conspirator",disguise:"Young"},{characterId:"louise_harrington",role:"conspirator",disguise:"Elderly knitting woman"},{characterId:"george_bennet",role:"surveillance"},{characterId:"alison",role:"agent",disguise:"Rambler"}],significance:"Critical exchange of suitcases and setup for Edwards' murder",keyActions:["Three conspirators sit in same compartment","Switch of cases in Box Tunnel darkness","Louise exits at Goring","Davies/Young exits at Reading","Edwards continues to London"]},{id:"edwards_murder",title:"Murder of Edwards",date:"1943",description:"Edwards found shot dead in London flat with single bullet to head",location:"crawford_place",characters:[{characterId:"edwards",role:"victim"},{characterId:"megan_davies",role:"killer",disguise:"Postman"}],significance:"Elimination of potential weak link and acquisition of cheque book",keyActions:["Megan Davies disguised as postman enters building","Edwards shot with single bullet to head","Cheque book taken"]},{id:"rifle_testing",title:"Rifle Testing at Churn",date:"Late 1943",description:"Bob and Louise Harrington test German sniper rifle at Churn Ranges",location:"churn_ranges",characters:[{characterId:"bob_harrington",role:"marksman"},{characterId:"louise_harrington",role:"accomplice/informant"}],significance:"Preparation for assassination attempt, leaves evidence (shell casing)",keyActions:["After-hours entry to rifle range","Test firing of German FG42 rifle","Calibration of scope","One shell casing missed during cleanup"]},{id:"davies_ireland_escape",title:"Davies Escape to Ireland",date:"December 1943",description:"Sir John and Lady Davies escape to Ireland via ferry from Fishguard",location:"fishguard",characters:[{characterId:"john_davies",role:"fugitive"},{characterId:"megan_davies",role:"fugitive"}],significance:"Advance escape of conspirators before assassination attempt",keyActions:["Transfer of assets to Irish banks","Silent departure from Yattendon","Travel to Wales","Ferry crossing using Edwards' cheque book"]},{id:"house_occupation",title:"Occupation of Cynthia's House",date:"December 5-7, 1943",description:"Harringtons and Davies take over Cynthia's house in preparation for assassination attempt",location:"cynthia_house",characters:[{characterId:"bob_harrington",role:"assassin"},{characterId:"louise_harrington",role:"double_agent"},{characterId:"john_davies",role:"accomplice"},{characterId:"cynthia_childreth",role:"hostage"},{characterId:"richard_childreth",role:"hostage"},{characterId:"mary",role:"hostage"},{characterId:"alison",role:"hidden_operative"}],significance:"Final preparation for assassination attempt",keyActions:["Cut phone lines","Blockade entrance with car","Set up rifle in tower studio","Hold Cynthia and family hostage","Alison hides in summerhouse then cellar"]},{id:"assassination_attempt",title:"Attempted Assassination of Montgomery",date:"December 7, 1943",description:"Failed attempt to shoot Montgomery from Cynthia's tower, foiled by Louise and intelligence team",location:"cynthia_house",characters:[{characterId:"bob_harrington",role:"assassin"},{characterId:"louise_harrington",role:"saboteur"},{characterId:"john_davies",role:"accomplice"},{characterId:"bill_laurie",role:"operative"},{characterId:"cynthia_childreth",role:"hostage"},{characterId:"richard_childreth",role:"hostage"},{characterId:"edwin",role:"operative"},{characterId:"george_bennet",role:"operative"},{characterId:"jim",role:"operative"}],significance:"Climax of novel, prevention of assassination, revelation of Louise as double agent",keyActions:["Bob prepares to shoot from tower",'Confusion with three "Montys" in convoy',"Louise reveals herself by preventing shot","Bill and team raid the house","Bob shot in hand","Davies shot in arm","Both arrested"]},{id:"louise_death",title:"Death of Louise Harrington",date:"Two weeks after assassination attempt",description:"Louise killed in suspicious gas explosion at cottage",location:"aldworth",characters:[{characterId:"louise_harrington",role:"victim"}],significance:"Revenge killing by remaining Nazi sympathizers",keyActions:["Gas explosion destroys cottage","Louise and neighbor killed","No official suspicion of foul play"]},{id:"tradecraft_training",title:"Cynthia's Tradecraft Training",date:"Unspecified",description:"Don visits Cynthia to teach her surveillance detection and other tradecraft skills",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"trainee"},{characterId:"don",role:"trainer"},{characterId:"mary",role:"observer"}],significance:"Cynthia learns essential skills for her role, including counter-surveillance techniques",keyActions:['Don teaches "back doubles" technique',"Instruction on using reflections to detect surveillance","Travel arrangement methods","General tradecraft principles"]},{id:"secure_line_installation",title:"Secure Phone Line Installation",date:"Unspecified",description:"Intelligence team installs a separate secure telephone line at Cynthia's house",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"resident"},{characterId:"mary",role:"assistant"}],significance:"Creates secure communication channel that becomes vital during the final operation",keyActions:["Technicians install separate phone line","Line connected directly to intelligence headquarters","Phone placed in bedroom away from potential eavesdroppers"]},{id:"edwards_discovery",title:"Discovery of Edwards' Body",date:"1943",description:"Bert, disguised as gas inspector, discovers Edwards' body in London flat",location:"crawford_place",characters:[{characterId:"bert",role:"discoverer"},{characterId:"george_bennet",role:"investigator"},{characterId:"jim",role:"assistant"}],significance:"Confirms murder of Edwards and begins focus on assassination plot investigation",keyActions:["Bert enters flat disguised as gas man","Discovery of body with single shot to head","Identification of books in suitcase instead of radio","Beginning of deeper investigation"]},{id:"intelligence_meeting",title:"Intelligence Meeting at National Gallery",date:"December 1943",description:"Bill gathers team at National Gallery to plan response to emerging assassination threat",location:"national_gallery",characters:[{characterId:"bill_laurie",role:"leader"},{characterId:"cynthia_childreth",role:"informant"},{characterId:"george_bennet",role:"investigator"},{characterId:"jane_maclean",role:"agent"},{characterId:"hannah_park",role:"agent"}],significance:"Critical planning meeting that identifies Montgomery as likely target",keyActions:["Team discusses possible targets","Sharing of intelligence about fifth columnists","Development of counter-strategy","Decision to focus on Montgomery's visits"]},{id:"intelligence_meeting_blenheim",title:"Meeting at Blenheim Palace",date:"1943",description:"George meets Bill at Blenheim Palace MI5 headquarters to discuss Edwards investigation",location:"blenheim_palace",characters:[{characterId:"bill_laurie",role:"host"},{characterId:"george_bennet",role:"visitor"}],significance:"Connects Special Branch investigation with MI5 operation, sharing critical information",keyActions:["George shares details of Edwards murder investigation","Bill reveals background of fifth columnist operation","Decision to collaborate on investigation","Discussion of possible assassination targets"]},{id:"ritz_meeting",title:"Cynthia and Hannah Meet at The Ritz",date:"1943",description:"Cynthia meets Hannah (disguised as blonde society lady) at The Ritz while under surveillance",location:"the_ritz",characters:[{characterId:"cynthia_childreth",role:"operative"},{characterId:"hannah_park",role:"operative",disguise:"Blonde society lady"},{characterId:"marjorie_snowden",role:"surveillance"}],significance:"Planning meeting that reveals Cynthia is under surveillance by fifth columnists",keyActions:["Hannah appears in completely new disguise","Identification of Snowdens conducting surveillance","Discussion of Mosley invitation plan","Counter-surveillance measures practiced"]},{id:"cottage_surveillance",title:"Felicity's Cottage Surveillance",date:"December 1943",description:"Felicity poses as writer to rent cottage in Aldworth for surveillance of Harringtons",location:"felicity_cottage",characters:[{characterId:"felicity",role:"operative",disguise:"Writer"},{characterId:"bob_harrington",role:"target"},{characterId:"louise_harrington",role:"target/double_agent"},{characterId:"jack",role:"suspicious_local"}],significance:"Establishes close surveillance of Harringtons before assassination attempt",keyActions:["Felicity establishes cover as writer","Observation of Harringtons' activities","Reports sent via postal system","Identification of Jack as fifth columnist supporter"]},{id:"final_planning",title:"Final Operation Planning",date:"December 6, 1943",description:"Intelligence team meets at Queen's Head pub to plan intervention at Cynthia's house",location:"queens_head_pub",characters:[{characterId:"bill_laurie",role:"leader"},{characterId:"george_bennet",role:"planner"},{characterId:"jim",role:"operative"},{characterId:"bert",role:"operative"},{characterId:"mike",role:"operative"},{characterId:"keith",role:"operative"}],significance:"Detailed planning for the operation to prevent Montgomery assassination",keyActions:["Team reviews intelligence","Assignment of roles","Planning of approach and entry methods","Coordination with Montgomery's security team"]},{id:"cynthia_diversion_call",title:"Cynthia's Diversion Phone Call",date:"Late 1943",description:"Cynthia makes deliberate call on open line to Richard expressing concerns about surveillance",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"caller"},{characterId:"richard_childreth",role:"receiver"}],significance:"Strategic move to test fifth columnist reaction and potentially draw away watchers",keyActions:["Deliberate call on unsecured line","Expression of concern about surveillance","Richard's scripted reassuring response","Results in withdrawal of some watchers"]},{id:"summerhouse_hiding",title:"Alison Hides in Summerhouse",date:"December 5-7, 1943",description:"Alison hides in Cynthia's summerhouse after escaping detection during house search",location:"cynthia_house",characters:[{characterId:"alison",role:"agent in hiding"},{characterId:"cynthia_childreth",role:"supporter"},{characterId:"louise_harrington",role:"searcher"}],significance:"Maintains intelligence presence during house occupation",keyActions:["Alison escapes initial house search","Hides in summerhouse overnight","Cynthia provides covert food drops","Later relocates to cellar for better position"]},{id:"berlin_departure",title:"Departure for Berlin Mission",date:"1932",description:"Richard and Cynthia depart from Croydon Airport for their mission to Berlin",location:"croydon_airport",characters:[{characterId:"cynthia_childreth",role:"operative"},{characterId:"richard_childreth",role:"operative"}],significance:"Beginning of the Berlin infiltration mission, first stage of establishing Nazi sympathizer cover",keyActions:["Briefing on airport procedures","First-time flyers experiencing anxiety","Boarding the Junkers G38 aircraft","Uncomfortable flight to Berlin"]},{id:"suitcase_opening",title:"Opening of the Mysterious Suitcase",date:"Late 1943",description:"Edwin unlocks the suitcase left by Davies/Young to reveal women's clothes and disguise elements",location:"cynthia_house",characters:[{characterId:"edwin",role:"lockpicker"},{characterId:"cynthia_childreth",role:"observer"},{characterId:"mary",role:"assistant"}],significance:"Revelation of suitcase contents, confirming its role in preparing for the assassination",keyActions:["Edwin picks lock without leaving traces","Discovery of women's clothes and disguise elements","Realization of deception regarding radio equipment","Careful resealing of case"]},{id:"bank_account_investigation",title:"Investigation of Edwards' Bank Account",date:"1943",description:"Richard investigates the T.G. Edwards account at Martins Bank",location:"martins_bank",characters:[{characterId:"richard_childreth",role:"investigator"}],significance:"Reveals financial arrangements behind German operations and status of Edwards' account",keyActions:["Checking account history","Discovery of substantial funds","Confirmation of Reichsbank deposits","Setting up monitoring for future transactions"]},{id:"three_montgomerys_arrangement",title:'Arrangement of "Three Montgomerys" Decoy',date:"December 1943",description:"Bill coordinates with Montgomery's ADC to arrange multiple decoys for the convoy",location:"thames_house",characters:[{characterId:"bill_laurie",role:"planner"},{characterId:"montys_adc",role:"facilitator"}],significance:"Critical deception plan that ultimately confuses assassin and contributes to foiling the attempt",keyActions:["Bill explains assassination threat","Development of decoy strategy","Arrangement of three similar jeeps","Recruiting and briefing of Montgomery lookalikes"]},{id:"shell_casing_identification",title:"Identification of Shell Casing",date:"December 1943",description:"Jacobs identifies the spent shell casing as from a German FG42 rifle",location:"thames_house",characters:[{characterId:"jacobs",role:"expert"},{characterId:"mike",role:"investigator"}],significance:"Confirms German weapon type, providing crucial evidence linking to assassination plot",keyActions:["Technical examination of shell casing","Identification of German manufacture","Confirmation of FG42 as source weapon","Assessment of weapon capabilities"]}]},1434:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characterPositions:()=>a,eventPositions:()=>r,locationPositions:()=>i,mapBoundaries:()=>o,objectPositions:()=>s});const i={cynthia_house:{lat:51.4286,lon:-1.2507,label:"Cynthia's House",type:"uk"},denleigh_manor:{lat:51.3564,lon:-1.9103,label:"Denleigh Manor",type:"uk"},imperial_aggregates:{lat:51.4971,lon:-.1863,label:"Imperial Aggregates",type:"uk"},thames_house:{lat:51.4953,lon:-.1251,label:"Thames House",type:"uk"},aldworth:{lat:51.5103,lon:-1.21,label:"Aldworth",type:"uk"},ashampstead:{lat:51.4628,lon:-1.1942,label:"Ashampstead",type:"uk"},yattendon:{lat:51.453,lon:-1.189,label:"Yattendon",type:"uk"},scilly_isles:{lat:49.9359,lon:-6.3228,label:"Scilly Isles",type:"uk"},churn_ranges:{lat:51.5731,lon:-1.2748,label:"Churn Rifle Ranges",type:"uk"},crawford_place:{lat:51.5201,lon:-.1653,label:"Crawford Place Flat",type:"uk"},bucklebury_camp:{lat:51.4201,lon:-1.2651,label:"American Camp",type:"uk"},felicity_cottage:{lat:51.5153,lon:-1.215,label:"Felicity's Cottage",type:"uk"},national_gallery:{lat:51.5085,lon:-.1281,label:"National Gallery",type:"uk"},blenheim_palace:{lat:51.8417,lon:-1.3614,label:"Blenheim Palace",type:"uk"},the_ritz:{lat:51.5071,lon:-.1444,label:"The Ritz Hotel",type:"uk"},long_boat_inn:{lat:50.121,lon:-5.5409,label:"Long Boat Inn",type:"uk"},queens_head_pub:{lat:51.4242,lon:-1.2401,label:"Queen's Head Pub",type:"uk"},reading_hotel:{lat:51.4582,lon:-.9731,label:"Great Western Hotel",type:"uk"},aldworth_village:{lat:51.5103,lon:-1.21,label:"Aldworth Village",type:"uk"},croydon_airport:{lat:51.357,lon:-.1208,label:"Croydon Airport",type:"uk"},fishguard_harbor:{lat:52.0102,lon:-4.985,label:"Fishguard Harbor",type:"uk"},goring_station:{lat:51.521,lon:-1.1401,label:"Goring & Streatley Station",type:"uk"},box_tunnel:{lat:51.4184,lon:-2.2156,label:"Box Tunnel",type:"uk"},admiral_duncan:{lat:51.514,lon:-.134,label:"Admiral Duncan Pub",type:"uk"},martins_bank:{lat:51.513,lon:-.0873,label:"Martins Bank",type:"uk"},penzance:{lat:50.1186,lon:-5.5371,label:"Penzance",type:"uk"},london:{lat:51.5074,lon:-.1278,label:"London",type:"uk"},hotel_adlon:{lat:52.5163,lon:13.3797,label:"Hotel Adlon",type:"german"},tempelhof_airport:{lat:52.473,lon:13.4016,label:"Tempelhof Airport",type:"german"},rosslare:{lat:52.2507,lon:-6.3396,label:"Rosslare Harbor",type:"irish"}},r={german_infiltration:{locationId:"scilly_isles"},cynthia_recruitment:{locationId:"denleigh_manor"},berlin_trip:{locationId:"hotel_adlon"},hitler_sighting:{locationId:"hotel_adlon"},first_party:{locationId:"cynthia_house"},second_party:{locationId:"cynthia_house"},edwards_arrival:{locationId:"scilly_isles"},train_journey:{path:[{lat:50.121,lon:-5.5409,label:"Penzance"},{lat:51.4184,lon:-2.2156,label:"Box Tunnel"},{lat:51.521,lon:-1.1401,label:"Goring"},{lat:51.4582,lon:-.9731,label:"Reading"},{lat:51.5014,lon:-.1419,label:"London"}]},edwards_murder:{locationId:"crawford_place"},rifle_testing:{locationId:"churn_ranges"},davies_ireland_escape:{path:[{lat:51.453,lon:-1.189,label:"Yattendon"},{lat:52.0102,lon:-4.985,label:"Fishguard"},{lat:52.2507,lon:-6.3396,label:"Rosslare"}]},house_occupation:{locationId:"cynthia_house"},assassination_attempt:{locationId:"cynthia_house"},louise_death:{locationId:"aldworth_village"},tradecraft_training:{locationId:"cynthia_house"},secure_line_installation:{locationId:"cynthia_house"},edwards_discovery:{locationId:"crawford_place"},intelligence_meeting:{locationId:"national_gallery"},intelligence_meeting_blenheim:{locationId:"blenheim_palace"},ritz_meeting:{locationId:"the_ritz"},cottage_surveillance:{locationId:"felicity_cottage"},final_planning:{locationId:"queens_head_pub"},cynthia_diversion_call:{locationId:"cynthia_house"},summerhouse_hiding:{locationId:"cynthia_house"},berlin_departure:{locationId:"croydon_airport"},suitcase_opening:{locationId:"cynthia_house"},bank_account_investigation:{locationId:"martins_bank"},thames_house_meeting:{locationId:"thames_house"},shell_casing_identification:{locationId:"thames_house"},edwards_penzance_stay:{locationId:"long_boat_inn"},davies_reading_stay:{locationId:"reading_hotel"},investigation_meeting:{locationId:"admiral_duncan"},montgomery_visit:{locationId:"bucklebury_camp"}},a={cynthia_childreth:{locationId:"cynthia_house"},richard_childreth:{locationId:"cynthia_house"},bill_laurie:{locationId:"thames_house"},hannah_park:{locationId:"thames_house"},jane_maclean:{locationId:"thames_house"},edwin:{locationId:"cynthia_house"},george_bennet:{locationId:"thames_house"},peter_snowden:{locationId:"ashampstead"},marjorie_snowden:{locationId:"ashampstead"},bob_harrington:{locationId:"aldworth"},louise_harrington:{locationId:"aldworth"},john_davies:{locationId:"yattendon"},megan_davies:{locationId:"yattendon"},mary:{locationId:"cynthia_house"},alison:{locationId:"cynthia_house"},felicity:{locationId:"felicity_cottage"},gladys:{locationId:"aldworth_village"},montgomery:{locationId:"bucklebury_camp"},edwards:{locationId:"crawford_place"},gerda_stammer:{locationId:"hotel_adlon"},franz_stammer:{locationId:"hotel_adlon"},lena_weber:{locationId:"hotel_adlon"},helmut_schnitter:{locationId:"scilly_isles"},jim:{locationId:"thames_house"},bert:{locationId:"ashampstead"},mike:{locationId:"crawford_place"},keith:{locationId:"yattendon"},amy_wyndholme:{locationId:"denleigh_manor"},horace_wyndholme:{locationId:"denleigh_manor"},patrick:{locationId:"denleigh_manor"},sheila:{locationId:"denleigh_manor"},oswald_mosley:{locationId:"london"},montys_adc:{locationId:"bucklebury_camp"},jack:{locationId:"aldworth_village"},paul_holness:{locationId:"london"},don:{locationId:"london"},inspector_williams:{locationId:"fishguard_harbor"},jacobs:{locationId:"thames_house"},chief_inspector:{locationId:"london"}},o={uk:{minLat:49.5,maxLat:59,minLon:-8,maxLon:2},europe:{minLat:47,maxLat:59,minLon:-8,maxLon:15}},s={german_rifle:{locationId:"cynthia_house"},mysterious_suitcase:{locationId:"cynthia_house"},cheque_book:{locationId:"fishguard_harbor"},secure_phone_line:{locationId:"cynthia_house"},shell_casing:{locationId:"churn_ranges"},montys_beret:{locationId:"bucklebury_camp"},blockade_car:{locationId:"cynthia_house"},auburn_wig:{locationId:"cynthia_house"},edwards_cheques:{locationId:"fishguard_harbor"},fg42_rifle:{locationId:"churn_ranges"},secure_briefcase:{locationId:"thames_house"},berts_painting:{locationId:"ashampstead"}}},1450:(e,t,n)=>{"use strict";n.r(t),n.d(t,{objects:()=>i});const i=[{id:"german_rifle",name:"German FG42 Sniper Rifle",type:"Weapon",description:"German paratrooper weapon adapted as a sniper rifle, used in the assassination attempt on Montgomery.",physical_details:"Modified FG42 with advanced scope, designed for long-range precision shooting.",technical_details:["FG42 (Fallschirmj\xe4gergewehr 42) - German automatic rifle","Modified with enhanced scope","Uses 7.92mm ammunition","Added bipod for stability"],significance:["Primary weapon intended for Montgomery assassination","Evidence linking conspirators to plot","Found cartridge at Churn range provided key clue"],history:[{event:"Smuggled into UK",details:"Brought into UK via multiple agents in parts"},{event:"Testing at Churn Ranges",details:"Bob Harrington tested the rifle at night"},{event:"Assassination Attempt",details:"Used in the tower at Cynthia's house"}],possessors:[{characterId:"edwards",period:"early",alias:"German agent"},{characterId:"john_davies",period:"mid",alias:"Young"},{characterId:"bob_harrington",period:"late",alias:"Assassin"}],appearances:["rifle_testing","house_occupation","assassination_attempt"],image_description:"A German FG42 rifle with scope attachment and bipod."},{id:"mysterious_suitcase",name:"The Mysterious Suitcase",type:"Container",description:"A suitcase delivered to Cynthia's house, initially believed to contain a radio but actually containing women's clothes and disguised rifle components.",physical_details:"Medium-sized leather suitcase with brass fittings, appearing unremarkable but constructed with a false bottom.",technical_details:["Hidden compartment in base","Reinforced corners","Special lining to defeat casual inspection","Components disguised as everyday items"],significance:["Key method of delivering assassination weapon components","Red herring appearing to be radio equipment","Central to the plot's misdirection"],history:[{event:"Delivered to Cynthia",details:'Brought by "Young" (John Davies in disguise)'},{event:"Inspection by Intelligence",details:"Initially believed to contain radio equipment"},{event:"Stored in Tower",details:"Placed in Cynthia's studio tower room"},{event:"Contents Revealed",details:"Actually contained rifle components and disguise items"}],possessors:[{characterId:"john_davies",period:"early",alias:"Young"},{characterId:"cynthia_childreth",period:"mid"},{characterId:"bob_harrington",period:"late"}],appearances:["train_journey","house_occupation"],image_description:"A vintage leather suitcase with brass fittings and leather straps."},{id:"cheque_book",name:"Edwards' Cheque Book",type:"Document",description:"Martins Bank cheque book belonging to T.G. Edwards, later used by the Davies to finance their escape to Ireland.",physical_details:'Standard cheque book from Martins Bank (68 Lombard St.), with printed name "T.G. Edwards".',significance:["Used as identification for German agents","Financial paper trail linking conspirators","Used to pay for ferry escape to Ireland","Evidence connecting various events"],history:[{event:"Used by Edwards",details:"Original user paying for accommodation at Scilly Isles"},{event:"Stolen after murder",details:"Taken by Megan Davies after killing Edwards"},{event:"Used for escape",details:"Davies used it to pay for Fishguard-Rosslare ferry"}],possessors:[{characterId:"edwards",period:"early"},{characterId:"megan_davies",period:"mid"},{characterId:"john_davies",period:"late"}],appearances:["edwards_arrival","edwards_murder","davies_ireland_escape"],image_description:"A 1940s cheque book from Martins Bank with handwritten entries."},{id:"secure_phone_line",name:"Secure Telephone Line",type:"Communication device",description:"Special dedicated telephone line installed at Cynthia's house for secure communications with intelligence headquarters.",physical_details:"Standard-looking telephone with direct secure line separate from normal house phone system.",technical_details:["Dedicated wire directly to intelligence headquarters","Not connected to main telephone exchange","Required special installation by disguised engineers","Located in master bedroom away from normal phone"],significance:["Secure communication method for sensitive information","Protected from fifth columnist wire-tapping","Critical lifeline during the final operation","Demonstrated intelligence service foresight"],history:[{event:"Installation",details:"Installed by intelligence service engineers disguised as telephone workers"},{event:"Regular Use",details:"Used by Cynthia for reporting to Bill"},{event:"Line Cut",details:"Cut by conspirators during house occupation"}],possessors:[{characterId:"cynthia_childreth",period:"entire story"}],appearances:["secure_line_installation","cynthia_diversion_call"],image_description:"A 1940s-style black bakelite telephone with rotary dial."},{id:"shell_casing",name:"7.92mm Shell Casing",type:"Evidence",description:"Spent cartridge from German FG42 rifle found at Churn range, providing critical evidence linking conspirators to assassination plot.",physical_details:"Brass casing from 7.92mm round, non-standard caliber for British weapons.",technical_details:["German manufacture","Specifically designed for FG42 rifle","Distinctive markings different from British ammunition","Missed during conspirators' clean-up"],significance:["Physical evidence linking conspirators to German weapon","Confirmation of assassination preparations","Key investigative breakthrough"],history:[{event:"Fired at Churn",details:"Discharged during rifle testing by Harringtons"},{event:"Discovery",details:"Found by Keith and Mike during range investigation"},{event:"Analysis",details:"Identified as from German FG42 rifle by armorer Jacobs"}],appearances:["rifle_testing"],image_description:"A tarnished brass shell casing with German manufacturer markings."},{id:"berts_painting",name:"Bert's Surveillance Painting",type:"Cover prop",description:"Watercolor painting created by Bert while conducting surveillance in Ashampstead.",physical_details:"Watercolor landscape painting of cottages in Ashampstead, including Snowdens' residence.",significance:["Cover for surveillance operation","Eventually purchased by Marjorie Snowden, ironically funding intelligence operation","Demonstration of creative surveillance techniques"],history:[{event:"Creation",details:"Painted by Bert during surveillance of Snowdens"},{event:"Interaction",details:"Marjorie Snowden discusses the painting with Bert"},{event:"Sale",details:"Purchased by Marjorie Snowden, unaware of Bert's true purpose"}],possessors:[{characterId:"bert",period:"creation"},{characterId:"marjorie_snowden",period:"end"}],appearances:["surveillance_operation"],image_description:"A watercolor painting of a row of country cottages."},{id:"montys_beret",name:"Montgomery's Distinctive Beret",type:"Identification item",description:"General Montgomery's trademark black beret with two cap badges that made him instantly recognizable.",physical_details:"Black beret with Royal Tank Regiment badge and British General Officer's badge side by side.",significance:["Montgomery's recognizable trademark","Symbol of his leadership style","Critical identification element for assassination targeting","Replicated for decoy operation"],history:[{event:"Montgomery's Visits",details:"Worn during troop inspections and public appearances"},{event:"Decoy Operation",details:"Replicated for Montgomery lookalikes in decoy jeeps"}],possessors:[{characterId:"montgomery",period:"throughout"}],appearances:["three_montgomerys_arrangement","assassination_attempt"],image_description:"Black military beret with two distinct cap badges side by side."},{id:"blockade_car",name:"Blockade Car",type:"Vehicle",description:"Car parked across Cynthia's drive to prevent access or escape during occupation.",physical_details:"Car positioned tightly against gate to block entrance/exit.",significance:["Physical mechanism for isolating Cynthia's house","Part of conspirators' control tactics","Symbol of captivity"],history:[{event:"House Occupation",details:"Positioned by Louise across drive entrance"}],possessors:[{characterId:"john_davies",period:"during occupation"}],appearances:["house_occupation"],image_description:"Car positioned sideways across driveway entrance, blocking access."},{id:"auburn_wig",name:"Bob's Auburn Wig",type:"Disguise",description:"Auburn wig intended for Bob Harrington's female disguise during escape after assassination.",physical_details:"Auburn-colored woman's wig, part of disguise from suitcase.",significance:["Key element of escape plan","Evidence of meticulous planning","Symbol of deception","Ultimately unused when plot foiled"],history:[{event:"Suitcase Delivery",details:"Brought in suitcase delivered by Davies/Young"},{event:"Assassination Attempt",details:"Prepared for use but never employed due to Louise's intervention"}],possessors:[{characterId:"john_davies",period:"delivery",alias:"Young"},{characterId:"bob_harrington",period:"attempt"}],appearances:["house_occupation","assassination_attempt"],image_description:"Auburn-colored woman's wig with shoulder-length styled hair."},{id:"secure_briefcase",name:"Bill's Secure Briefcase",type:"Equipment",description:"Specially designed briefcase used by Bill for transporting sensitive documents and planning materials.",physical_details:"Standard-looking leather briefcase with hidden compartments and security features.",technical_details:["Hidden compartments for sensitive documents","Special lock mechanisms","Potentially booby-trapped if forced open","Unmarked exterior to avoid attention"],significance:["Secure transport for operation plans","Symbol of official intelligence work","Contains maps and operational details"],possessors:[{characterId:"bill_laurie",period:"throughout"}],appearances:["intelligence_meeting","final_planning"],image_description:"Ordinary-looking brown leather briefcase with brass fittings."}]},1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},1549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bookMetadata:()=>i});const i={title:"The Strange Case of Dr Jekyll and Mr Hyde",author:"Robert Louis Stevenson",genre:"Gothic fiction / Novella",setting:"London, late 19th century",description:"A Victorian lawyer investigates the unsettling connection between the respectable Dr. Jekyll and the violent Mr. Hyde, uncovering a chilling secret about human duality.",publisher:"Public Domain",publicationYear:1886,series:"Classic Literature",seriesOrder:1,appTitle:"Jekyll & Hyde - Interactive Companion",appSubtitle:"Explore the duality at the heart of Stevenson's classic",welcomeMessage:"Welcome to the Jekyll & Hyde Interactive Companion",welcomeDescription:"Navigate characters, events, locations, and themes of Stevenson's novella while avoiding spoilers with chapter-based filtering.",aboutApp:"This companion maps the narrative of 'The Strange Case of Dr Jekyll and Mr Hyde' into an interactive network of characters, relationships, events, and themes.",aboutBook:"Utterson's inquiry into Mr. Hyde leads to the revelation of Dr. Jekyll's experiment in splitting his nature, a tale of respectability, repression, and the duality of man.",tourWelcome:"Use the tabs to browse characters, relationships, and maps. Filter by chapter to follow the mystery as it unfolds.",tourConclusion:"You're ready to explore the world of Jekyll & Hyde. Advance the chapter filter as you read to reveal more of the story.",characterGroups:{Protagonists:"Central investigators and sympathetic figures",Antagonists:"Opposing or threatening figures",Victims:"Characters harmed by events","Supporting Characters":"Other figures who influence the plot"},characterGroupStyles:{Protagonists:"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200",Antagonists:"bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200",Victims:"bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200","Supporting Characters":"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200"},characterGroupColors:{Protagonists:"#3182CE",Antagonists:"#E53E3E",Victims:"#D69E2E","Supporting Characters":"#38A169"},relationshipCategoryColors:{Spouse:"#805AD5","Handler/Asset":"#3182CE","Conspirator/Enemy":"#E53E3E","Colleague/Partner":"#38A169","Superior/Subordinate":"#DD6B20",Friend:"#4299E1","Informant/Double-Agent":"#D53F8C",Other:"#718096"},importanceWeights:{keyScenes:{perItem:6,max:30},eventParticipation:{perItem:2.5,max:25},relationships:{perItem:2,max:20},development:{perItem:2.5,max:10},defaultGroupBonus:3,groupBonuses:{Protagonists:15,Antagonists:10,Victims:8,"Supporting Characters":5}},literaryAnalysis:{title:"Literary Analysis",paragraphs:["Stevenson's novella distills Victorian anxieties about respectability, repression, and scientific transgression into the iconic figure of a self-divided man. Through the dual personae of Jekyll and Hyde, the text dramatizes the split between public virtue and private appetite, suggesting that moral identity is not a steady essence but a precarious performance susceptible to rupture.","Formally, the narrative withholds its revelation through testimony, legal documents, and nested accounts, mirroring the investigative process while foregrounding the instability of witness and memory. London's fogbound streets, locked doors, and recurrent thresholds function as spatial metaphors for divided selves and compartmentalized desire, making the city itself an anatomy of doubleness."]},copyright:"Text is public domain; dataset \xa9 2025 by Contributors"}},1676:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mysteryElements:()=>i});const i=[]},1852:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characters:()=>i});const i=[{id:"gabriel_utterson",name:"Mr. Gabriel John Utterson",group:"Protagonists",role:"Lawyer and primary investigator",background:"A reputable London lawyer, reserved and rational, who gradually uncovers the connection between Dr. Jekyll and Mr. Hyde.",personality:"Reserved, loyal, methodical, moral",traits:["Rational","Loyal friend","Perseverant"],relations:[{characterId:"mr_enfield",type:"cousin_friend",description:"Sunday walking companion",introducedInChapter:"chapter_01"},{characterId:"henry_jekyll",type:"friend",description:"Old friend and client",introducedInChapter:"chapter_03"},{characterId:"edward_hyde",type:"investigator_of",description:"Investigates Hyde\u2019s connection to Jekyll",introducedInChapter:"chapter_02"},{characterId:"hastie_lanyon",type:"colleague_friend",description:"Respected colleague and mutual friend of Jekyll",introducedInChapter:"chapter_03"},{characterId:"poole",type:"ally",description:"Jekyll\u2019s butler seeks Utterson\u2019s help",introducedInChapter:"chapter_08"},{characterId:"mr_guest",type:"colleague",description:"Handwriting expert who assists Utterson",introducedInChapter:"chapter_05"},{characterId:"inspector_newcomen",type:"colleague",description:"Works with Utterson on the Carew case",introducedInChapter:"chapter_04"},{characterId:"guest_housekeeper",type:"admitted_by",description:"Admitted to Hyde\u2019s Soho rooms during investigation",introducedInChapter:"chapter_04"},{characterId:"sir_danvers_carew",type:"solicitor_of",description:"Carew is Utterson\u2019s client",introducedInChapter:"chapter_04"}],development:[{phase:"Beginning",description:"Hears Enfield\u2019s story about Hyde"},{phase:"Middle",description:"Investigates Hyde\u2019s connection to Jekyll"},{phase:"End",description:"Breaks into Jekyll\u2019s lab with Poole and discovers the truth"}],introducedInChapter:"chapter_01"},{id:"henry_jekyll",name:"Dr. Henry Jekyll",group:"Protagonists",role:"Respected doctor with a hidden experiment",background:"A well-known physician who explores separating the good and evil sides of human nature, resulting in Hyde.",personality:"Genial, charitable, conflicted",traits:["Respected","Wealthy","Scientific curiosity"],relations:[{characterId:"gabriel_utterson",type:"friend",description:"Long-standing friendship and legal counsel",introducedInChapter:"chapter_03"},{characterId:"hastie_lanyon",type:"estranged_friend",description:"Former close friend; fell out over unorthodox science",introducedInChapter:"chapter_03"},{characterId:"edward_hyde",type:"alter_ego",description:"His transformed self created by experiment",introducedInChapter:"chapter_10"},{characterId:"poole",type:"master",description:"Employer and master of the household",introducedInChapter:"chapter_05"}],development:[{phase:"Beginning",description:"At ease; downplays concerns about Hyde"},{phase:"Middle",description:"Withdrawn, erratic; disappears from society"},{phase:"End",description:"Confession reveals full truth of the experiment"}],introducedInChapter:"chapter_03"},{id:"edward_hyde",name:"Mr. Edward Hyde",group:"Antagonists",role:"Violent figure tied to Jekyll",background:"A smaller, deformed-seeming man representing the unrestrained evil side of Jekyll\u2019s nature.",personality:"Cruel, remorseless, secretive",traits:["Violent","Secretive","Repugnant aura"],relations:[{characterId:"henry_jekyll",type:"beneficiary",description:"Named beneficiary in Jekyll\u2019s will",introducedInChapter:"chapter_02"},{characterId:"gabriel_utterson",type:"avoids",description:"Avoids Utterson; subject of investigation",introducedInChapter:"chapter_02"},{characterId:"sir_danvers_carew",type:"murderer",description:"Beats Carew to death with a cane",introducedInChapter:"chapter_04"},{characterId:"mr_enfield",type:"detained_by",description:"Detained after the trampling incident",introducedInChapter:"chapter_01"},{characterId:"maid_witness",type:"witnessed_by",description:"Witnessed committing the Carew murder",introducedInChapter:"chapter_04"},{characterId:"child_victim",type:"assailant_of",description:"Trampled the child in the by-street",introducedInChapter:"chapter_01"},{characterId:"apothecary_doctor",type:"repulses",description:"Elicits the doctor\u2019s visible loathing",introducedInChapter:"chapter_01"},{characterId:"hastie_lanyon",type:"transforms_before",description:"Reveals transformation before Lanyon",introducedInChapter:"chapter_09"},{characterId:"guest_housekeeper",type:"lodger_of",description:"Lodger whose rooms she keeps in Soho",introducedInChapter:"chapter_04"}],introducedInChapter:"chapter_02"},{id:"hastie_lanyon",name:"Dr. Hastie Lanyon",group:"Protagonists",role:"Physician; former friend of Jekyll",background:"A reputable doctor who rejects Jekyll\u2019s unorthodox science; later witnesses Hyde\u2019s transformation and falls gravely ill.",personality:"Stout, conventional, principled",traits:["Conventional","Scientific integrity"],relations:[{characterId:"henry_jekyll",type:"estranged_friend",description:"Scientific quarrel caused a rift",introducedInChapter:"chapter_03"},{characterId:"gabriel_utterson",type:"colleague_friend",description:"Friend of Utterson and Jekyll",introducedInChapter:"chapter_03"},{characterId:"edward_hyde",type:"witnesses_transformation_of",description:"Witnessed Hyde transform into Jekyll",introducedInChapter:"chapter_09"}],introducedInChapter:"chapter_02"},{id:"mr_enfield",name:"Mr. Enfield",group:"Protagonists",role:"Utterson\u2019s cousin and walking companion",background:"A respectable gentleman whose story of the \u201cdoor\u201d and Hyde sparks Utterson\u2019s investigation.",personality:"Sociable, discreet",traits:["Observant","Discreet"],relations:[{characterId:"gabriel_utterson",type:"cousin_friend",description:"Sunday walking companion",introducedInChapter:"chapter_01"},{characterId:"edward_hyde",type:"detains",description:"Detains Hyde after the trampling incident",introducedInChapter:"chapter_01"},{characterId:"child_victim",type:"assists",description:"Helps after the trampling incident",introducedInChapter:"chapter_01"}],introducedInChapter:"chapter_01"},{id:"poole",name:"Poole",group:"Supporting Characters",role:"Jekyll\u2019s butler",background:"Long-time butler in Dr. Jekyll\u2019s household who becomes alarmed at his master\u2019s condition.",personality:"Loyal, practical",traits:["Loyal","Courageous"],relations:[{characterId:"henry_jekyll",type:"servant",description:"Faithful servant",introducedInChapter:"chapter_05"},{characterId:"gabriel_utterson",type:"ally",description:"Seeks help from Utterson during the last night",introducedInChapter:"chapter_08"}],introducedInChapter:"chapter_05"},{id:"sir_danvers_carew",name:"Sir Danvers Carew",group:"Victims",role:"Member of Parliament; murder victim",background:"A distinguished elderly statesman murdered by Hyde in a senseless attack.",personality:"Courteous, dignified",traits:["Respected","Elderly statesman"],introducedInChapter:"chapter_04",relations:[{characterId:"edward_hyde",type:"murdered_by",description:"Killed by Hyde with a cane",introducedInChapter:"chapter_04"},{characterId:"maid_witness",type:"witnessed_by",description:"Murder witnessed by the maid",introducedInChapter:"chapter_04"},{characterId:"gabriel_utterson",type:"solicitor",description:"Utterson is his lawyer",introducedInChapter:"chapter_04"}]},{id:"child_victim",name:"Child Victim",group:"Victims",role:"Girl trampled by Hyde",background:"A young girl knocked down and trampled by Hyde in the by-street incident Enfield recounts.",personality:"Innocent",traits:["Child"],introducedInChapter:"chapter_01",relations:[{characterId:"edward_hyde",type:"victim_of",description:"Trampled by Hyde",introducedInChapter:"chapter_01"},{characterId:"mr_enfield",type:"assisted_by",description:"Helped after the incident",introducedInChapter:"chapter_01"},{characterId:"apothecary_doctor",type:"treated_by",description:"Examined by the apothecary doctor",introducedInChapter:"chapter_01"}]},{id:"apothecary_doctor",name:"Apothecary Doctor",group:"Supporting Characters",role:"Doctor called to examine the child",background:"A \u201ccut and dry\u201d apothecary with an Edinburgh accent who reacts with visible loathing toward Hyde.",personality:"Professional, restrained",traits:["Apothecary","Physician"],introducedInChapter:"chapter_01",relations:[{characterId:"child_victim",type:"treats",description:"Examines the child after the trampling",introducedInChapter:"chapter_01"},{characterId:"edward_hyde",type:"abhors",description:"Feels a strong desire to harm Hyde upon seeing him",introducedInChapter:"chapter_01"}]},{id:"inspector_newcomen",name:"Inspector Newcomen",group:"Supporting Characters",role:"Detective investigating the Carew murder",background:"A practical police inspector who works with Utterson on the case.",personality:"Practical, thorough",traits:["Methodical"],relations:[{characterId:"gabriel_utterson",type:"colleague",description:"Works jointly on the Carew case",introducedInChapter:"chapter_04"},{characterId:"guest_housekeeper",type:"admitted_by",description:"Admitted to search Hyde\u2019s rooms",introducedInChapter:"chapter_04"}],introducedInChapter:"chapter_04"},{id:"mr_guest",name:"Mr. Guest",group:"Supporting Characters",role:"Utterson\u2019s clerk and handwriting expert",background:"Assists Utterson by comparing handwriting samples.",personality:"Observant, skilled",traits:["Handwriting expert"],relations:[{characterId:"gabriel_utterson",type:"colleague",description:"Clerk who helps Utterson analyze the letter",introducedInChapter:"chapter_05"},{characterId:"henry_jekyll",type:"compares_handwriting_with",description:"Compares Jekyll\u2019s hand to Hyde\u2019s letter",introducedInChapter:"chapter_05"}],introducedInChapter:"chapter_05"},{id:"maid_witness",name:"Maid Witness",group:"Supporting Characters",role:"Witness to the Carew murder",background:"A housemaid who sees Hyde attack Sir Danvers Carew from a window.",personality:"Frightened, honest",traits:["Witness"],relations:[{characterId:"sir_danvers_carew",type:"witness",description:"Witnessed the murder",introducedInChapter:"chapter_04"},{characterId:"edward_hyde",type:"witness_of",description:"Saw Hyde commit the murder",introducedInChapter:"chapter_04"}],introducedInChapter:"chapter_04"},{id:"guest_housekeeper",name:"Hyde\u2019s Housekeeper",group:"Supporting Characters",role:"Caretaker of Hyde\u2019s Soho lodgings",background:"A woman who admits Utterson and the inspector to Hyde\u2019s rooms; she is eager to assist the authorities.",personality:"Obliging, self-interested",traits:["Housekeeper"],introducedInChapter:"chapter_04",relations:[{characterId:"gabriel_utterson",type:"admits",description:"Admits Utterson to Hyde\u2019s rooms",introducedInChapter:"chapter_04"},{characterId:"inspector_newcomen",type:"admits",description:"Admits Inspector Newcomen to Hyde\u2019s rooms",introducedInChapter:"chapter_04"},{characterId:"edward_hyde",type:"housekeeper_for",description:"Housekeeper for Hyde at his Soho lodgings",introducedInChapter:"chapter_04"}]},{id:"bradshaw",name:"Bradshaw",group:"Supporting Characters",role:"Servant assisting during the last night",background:"A footman or servant who helps Poole and Utterson during the break-in.",personality:"Loyal, steady",traits:["Dependable"],relations:[{characterId:"poole",type:"colleague",description:"Assists Poole in the house",introducedInChapter:"chapter_08"},{characterId:"gabriel_utterson",type:"ally",description:"Aids Utterson during the last night",introducedInChapter:"chapter_08"}],introducedInChapter:"chapter_08"}]},2065:(e,t,n)=>{"use strict";n.r(t),n.d(t,{relationships:()=>i});const i=[{from:"bill_laurie",to:"cynthia_childreth",type:"handler-asset"},{from:"bill_laurie",to:"richard_childreth",type:"handler-asset"},{from:"bill_laurie",to:"hannah_park",type:"superior-subordinate"},{from:"bill_laurie",to:"jane_maclean",type:"superior-subordinate"},{from:"bill_laurie",to:"edwin",type:"superior-subordinate"},{from:"bill_laurie",to:"george_bennet",type:"colleague"},{from:"bill_laurie",to:"louise_harrington",type:"handler-informant"},{from:"cynthia_childreth",to:"richard_childreth",type:"spouse"},{from:"cynthia_childreth",to:"mary",type:"employer-confidante"},{from:"cynthia_childreth",to:"amy_wyndholme",type:"friend"},{from:"john_davies",to:"megan_davies",type:"spouse"},{from:"john_davies",to:"peter_snowden",type:"conspirator"},{from:"john_davies",to:"bob_harrington",type:"conspirator"},{from:"peter_snowden",to:"marjorie_snowden",type:"spouse"},{from:"peter_snowden",to:"bob_harrington",type:"conspirator"},{from:"bob_harrington",to:"louise_harrington",type:"spouse"},{from:"george_bennet",to:"jim",type:"superior-subordinate"},{from:"gerda_stammer",to:"franz_stammer",type:"spouse"},{from:"gerda_stammer",to:"lena_weber",type:"colleague"},{from:"hannah_park",to:"jane_maclean",type:"colleague-partner"},{from:"louise_harrington",to:"gerda_stammer",type:"associate"},{from:"megan_davies",to:"edwards",type:"assassin-victim"},{from:"montgomery",to:"montys_adc",type:"superior-subordinate"},{from:"bill_laurie",to:"montys_adc",type:"intelligence-contact"},{from:"gladys",to:"cynthia_childreth",type:"informant-contact"},{from:"gladys",to:"mary",type:"village-connection"},{from:"bill_laurie",to:"alison",type:"superior-subordinate"},{from:"alison",to:"cynthia_childreth",type:"protector-protected"},{from:"alison",to:"john_davies",type:"surveillance-target"},{from:"bill_laurie",to:"felicity",type:"superior-subordinate"},{from:"felicity",to:"paul_holness",type:"cover-contact"},{from:"felicity",to:"bob_harrington",type:"surveillance-target"},{from:"felicity",to:"louise_harrington",type:"surveillance-target"},{from:"felicity",to:"jack",type:"observed-observer"},{from:"bill_laurie",to:"don",type:"superior-subordinate"},{from:"don",to:"cynthia_childreth",type:"trainer-trainee"},{from:"jack",to:"bob_harrington",type:"co-conspirator"},{from:"jack",to:"louise_harrington",type:"co-conspirator"},{from:"george_bennet",to:"bert",type:"superior-subordinate"},{from:"george_bennet",to:"mike",type:"superior-subordinate"},{from:"george_bennet",to:"keith",type:"superior-subordinate"},{from:"george_bennet",to:"ken",type:"superior-subordinate"},{from:"bert",to:"marjorie_snowden",type:"surveillance-target"},{from:"keith",to:"john_davies",type:"surveillance-target"},{from:"mike",to:"peter_snowden",type:"surveillance-target"},{from:"patrick",to:"amy_wyndholme",type:"employee-employer"},{from:"sheila",to:"amy_wyndholme",type:"employee-employer"},{from:"horace_wyndholme",to:"amy_wyndholme",type:"spouse"},{from:"horace_wyndholme",to:"bill_laurie",type:"intelligence-colleague"},{from:"oswald_mosley",to:"peter_snowden",type:"ideological-supporter"},{from:"oswald_mosley",to:"bob_harrington",type:"ideological-supporter"},{from:"helmut_schnitter",to:"edwards",type:"predecessor-successor"},{from:"bill_laurie",to:"jacobs",type:"superior-subordinate"},{from:"bill_laurie",to:"paul_holness",type:"intelligence-contact"},{from:"george_bennet",to:"chief_inspector",type:"colleague-rival"},{from:"george_bennet",to:"inspector_williams",type:"superior-cooperator"},{from:"john_davies",to:"edwards",type:"conspirator"},{from:"mary",to:"richard_childreth",type:"employee-employer"},{from:"gerda_stammer",to:"cynthia_childreth",type:"recruiter-target"},{from:"hannah_park",to:"alison",type:"colleague"},{from:"jane_maclean",to:"alison",type:"colleague"}]},2119:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mysteryElements:()=>i});const i=[{id:"cynthia_recruitment_mystery",title:"Cynthia's Recruitment Mystery",description:"The mysterious note from Amy about being approached by one of the guests, and the subsequent recruitment by British intelligence.",type:"Recruitment Mystery",introducedInChapter:"chapter_01",resolvedInChapter:"chapter_03",significance:"Sets up the main plot and Cynthia's transformation from socialite to intelligence operative",clues:["Mysterious note from Amy","Unusual behavior of Miss Gilchrist and Mr Newton","Amy's insistence on Cynthia attending","Secretive communication methods"],resolution:"Cynthia is recruited by Bill Lawrie and Hannah Park for British intelligence work"},{id:"nazi_sympathizer_network",title:"The Nazi Sympathizer Network",description:'The extent and structure of the Nazi sympathizer network known as "the knitters" operating in Britain.',type:"Network Mystery",introducedInChapter:"chapter_02",resolvedInChapter:"chapter_15",significance:"The main threat that British intelligence is working to uncover and neutralize",clues:["Pro-Nazi sympathies revealed at dinner","Political discussions praising Hitler","Connections between guests","German connections established"],resolution:"The full extent of the network is revealed through intelligence operations"},{id:"edwards_murder_mystery",title:"T.G. Edwards Murder Mystery",description:"The murder of T.G. Edwards in his London flat by a woman disguised as a postman.",type:"Murder Mystery",introducedInChapter:"chapter_13",resolvedInChapter:"chapter_14",significance:"Provides the catalyst for official investigation and reveals the network's violent methods",clues:["Postman disguise used","Professional execution","No obvious motive","German connections discovered"],resolution:"Investigation reveals Edwards was a German agent and the murder was operational security"},{id:"suitcase_contents_mystery",title:"Mysterious Suitcase Contents",description:'The suitcase delivered by Davies (alias "Young") believed to contain a radio but actually containing women\'s clothes.',type:"Deception Mystery",introducedInChapter:"chapter_08",resolvedInChapter:"chapter_08",significance:"Shows the network's use of deception and aliases",clues:["Heavy suitcase",'Alias "Young" used',"Expected radio contents","Actual women's clothes"],resolution:"The suitcase was a decoy to test Cynthia's trust and establish operational methods"},{id:"louise_double_agent_mystery",title:"Louise's True Allegiance",description:"Louise Harrington's true role as a double agent working for British intelligence while pretending to be part of the Nazi network.",type:"Identity Mystery",introducedInChapter:"chapter_01",resolvedInChapter:"chapter_16",significance:"Provides an inside source in the Nazi network and changes operational dynamics",clues:["Louise's knitting habit","Her educated background","Skilled marksmanship","Unusual behavior patterns"],resolution:"Louise reveals herself as a double agent working for Bill Lawrie"},{id:"german_infiltration_method",title:"German Infiltration Method",description:"How German agents successfully infiltrate the UK via the vulnerable Isles of Scilly.",type:"Infiltration Mystery",introducedInChapter:"preface",resolvedInChapter:"chapter_25",significance:"Reveals the vulnerability of British coastal defenses",clues:["Submarine arrival at Scilly Isles","Regular steamship service to mainland","Minimal coastal defenses","No documentation required"],resolution:"German agents use the regular steamship service from Scilly Isles to Penzance"},{id:"assassination_target_mystery",title:"Assassination Target Mystery",description:"The identity of the high-level target that the Nazi network is planning to assassinate.",type:"Target Mystery",introducedInChapter:"chapter_19",resolvedInChapter:"chapter_19",significance:"The main operational objective of the Nazi network",clues:["Military inspection scheduled","High-level target","American Transport Division Camp","Strategic importance"],resolution:"Field Marshal Montgomery is the target during his inspection of the American Transport Division Camp"},{id:"case_switching_operation",title:"Case Switching Operation",description:"The mysterious case switching operation in Box Tunnel during the train journey.",type:"Operational Mystery",introducedInChapter:"chapter_12",resolvedInChapter:"chapter_12",significance:"Shows the network's sophisticated operational techniques",clues:["Train journey with multiple cases","Box Tunnel location","Case switching timing","Operational logistics"],resolution:"Cases are switched in Box Tunnel to confuse surveillance and transport materials"},{id:"green_car_connection",title:"Green Car Connection",description:"The mysterious green car discovered outside Cynthia's house and its connection to the Snowdens.",type:"Evidence Mystery",introducedInChapter:"chapter_35",resolvedInChapter:"chapter_35",significance:"Potential evidence linking Snowdens to operations",clues:["Green car outside Cynthia's house","Snowdens own a green car","Timing of appearance","Operational context"],resolution:"The green car is potentially linked to the Snowdens' involvement in operations"},{id:"harrington_mystery_trip",title:"Harrington's Mystery Trip",description:"Bob Harrington's mysterious 40-minute car trip, potentially visiting a hidden location.",type:"Movement Mystery",introducedInChapter:"chapter_36",resolvedInChapter:"chapter_36",significance:"Shows Harrington's operational activities and potential hidden locations",clues:["40-minute round trip","Unknown destination","Operational timing","Surveillance observation"],resolution:"Harrington visits a hidden location within his travel radius for operational purposes"},{id:"rifle_practice_location",title:"Rifle Practice Location",description:"The discovery of German rifle practice at Churn Rifle Ranges and how the conspirators accessed the facility.",type:"Location Mystery",introducedInChapter:"chapter_10",resolvedInChapter:"chapter_10",significance:"Provides physical evidence of the network's violent intentions",clues:["German rifle discovered","Practice sessions identified","Poor security at facility","Unauthorized access"],resolution:"The conspirators practiced shooting at Churn Rifle Ranges due to poor security"},{id:"financial_network_mystery",title:"Financial Network Mystery",description:"How the Nazi network finances their operations through British banking institutions.",type:"Financial Mystery",introducedInChapter:"chapter_11",resolvedInChapter:"chapter_11",significance:"Reveals the network's financial infrastructure",clues:["Edwards bank account","Martins Bank connection","Cheque book discovery","Lombard Street location"],resolution:"The network uses British banking institutions like Martins Bank to finance operations"},{id:"surveillance_detection",title:"Surveillance Detection",description:"Whether the conspirators detected the British intelligence surveillance teams monitoring them.",type:"Detection Mystery",introducedInChapter:"chapter_31",resolvedInChapter:"chapter_38",significance:"Affects the success of intelligence operations",clues:["Unusual behavior patterns","Saturday lunch gathering","Limited movement during surveillance","Coordination between conspirators"],resolution:"Some conspirators likely detected surveillance, leading to coordinated testing and limited movement"},{id:"louise_death_mystery",title:"Louise's Death Mystery",description:"The suspicious gas explosion that killed Louise Harrington and whether it was orchestrated.",type:"Death Mystery",introducedInChapter:"chapter_23",resolvedInChapter:"chapter_23",significance:"Shows the network's willingness to eliminate traitors",clues:["Suspicious gas explosion","Timing after betrayal","No responsibility claimed","Operational context"],resolution:"Louise's death was likely orchestrated by remaining conspirators as revenge for her betrayal"},{id:"network_escape_planning",title:"Network Escape Planning",description:"How the conspirators planned and executed their escape to Ireland as the net closed in.",type:"Escape Mystery",introducedInChapter:"chapter_18",resolvedInChapter:"chapter_18",significance:"Shows the network's escape planning and operational continuity",clues:["Flight to Ireland","Harringtons left behind","Timing of escape","Operational continuity"],resolution:"The network had pre-planned escape routes to Ireland, leaving some members behind to continue operations"},{id:"intelligence_operation_success",title:"Intelligence Operation Success",description:"The overall success and effectiveness of British intelligence operations against the Nazi network.",type:"Operation Mystery",introducedInChapter:"chapter_09",resolvedInChapter:"chapter_50",significance:"Shows the effectiveness of British counter-intelligence",clues:["Surveillance operations","Double agent infiltration","Evidence gathering","Final confrontation"],resolution:"The operation was partially successful, capturing some conspirators but others escaped to Ireland"},{id:"mosley_internment_impact",title:"Mosley Internment Impact",description:"How Oswald Mosley's internment and release affected the fascist network's operations.",type:"Political Mystery",introducedInChapter:"chapter_07",resolvedInChapter:"chapter_07",significance:"Shows the British government's response to fascist activities",clues:["Mosley interned in May 1940","Released in 1943","Network continued operations","Marjorie contacts Cynthia"],resolution:"Mosley's internment disrupted but did not stop fascist operations, which continued under other leadership"},{id:"berlin_connection_scope",title:"Berlin Connection Scope",description:"The full extent of German Nazi sympathizer connections established in Berlin.",type:"Connection Mystery",introducedInChapter:"chapter_04",resolvedInChapter:"chapter_04",significance:"Establishes the German connection to the Nazi sympathizer network",clues:["Hotel Adlon meetings","Gerda and Franz Stammer","Reichsbank connection","Operational framework"],resolution:"The Berlin connection established the operational framework and financial support for Nazi operations in England"},{id:"surveillance_team_effectiveness",title:"Surveillance Team Effectiveness",description:"How effective the British intelligence surveillance teams were in monitoring the conspirators.",type:"Surveillance Mystery",introducedInChapter:"chapter_31",resolvedInChapter:"chapter_38",significance:"Shows the effectiveness of British intelligence methods",clues:["Multiple surveillance teams","Village monitoring","Behavior patterns observed","Intelligence gathered"],resolution:"Surveillance teams were moderately effective, gathering intelligence but some conspirators detected their presence"},{id:"final_operation_timing",title:"Final Operation Timing",description:"Why the Nazi network chose December 1943 for their final assassination attempt.",type:"Timing Mystery",introducedInChapter:"chapter_17",resolvedInChapter:"chapter_19",significance:"Shows the network's strategic planning",clues:["December 1943 timing","Montgomery inspection schedule","Network pressure","Intelligence closing in"],resolution:"The network chose December 1943 due to Montgomery's scheduled inspection and increasing pressure from intelligence operations"}]},2160:(e,t,n)=>{"use strict";var i=n(5043);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},l={};function c(e){return!!a.call(l,e)||!a.call(s,e)&&(o.test(e)?l[e]=!0:(s[e]=!0,!1))}function d(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var u={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){u[e]=new d(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];u[t]=new d(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){u[e]=new d(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){u[e]=new d(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){u[e]=new d(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){u[e]=new d(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){u[e]=new d(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){u[e]=new d(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){u[e]=new d(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,p);u[t]=new d(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,p);u[t]=new d(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,p);u[t]=new d(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){u[e]=new d(e,1,!1,e.toLowerCase(),null,!1,!1)})),u.xlinkHref=new d("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){u[e]=new d(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","ms","Moz","O"];Object.keys(f).forEach((function(e){m.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),f[t]=f[e]}))}));var g=/["'&<>]/;function y(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=g.exec(e);if(t){var n,i="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(i+=e.substring(r,n)),r=n+1,i+=t}e=r!==n?i+e.substring(r,n):i}return e}var v=/([A-Z])/g,_=/^ms-/,b=Array.isArray;function w(e,t){return{insertionMode:e,selectedValue:t}}var x=new Map;function k(e,t,n){if("object"!==typeof n)throw Error(r(62));for(var i in t=!0,n)if(a.call(n,i)){var o=n[i];if(null!=o&&"boolean"!==typeof o&&""!==o){if(0===i.indexOf("--")){var s=y(i);o=y((""+o).trim())}else{s=i;var l=x.get(s);void 0!==l||(l=y(s.replace(v,"-$1").toLowerCase().replace(_,"-ms-")),x.set(s,l)),s=l,o="number"===typeof o?0===o||a.call(f,i)?""+o:o+"px":y((""+o).trim())}t?(t=!1,e.push(' style="',s,":",o)):e.push(";",s,":",o)}}t||e.push('"')}function C(e,t,n,i){switch(n){case"style":return void k(e,t,i);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=u.hasOwnProperty(n)?u[n]:null)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:i&&e.push(" ",n,'=""');break;case 4:!0===i?e.push(" ",n,'=""'):!1!==i&&e.push(" ",n,'="',y(i),'"');break;case 5:isNaN(i)||e.push(" ",n,'="',y(i),'"');break;case 6:!isNaN(i)&&1<=i&&e.push(" ",n,'="',y(i),'"');break;default:t.sanitizeURL&&(i=""+i),e.push(" ",n,'="',y(i),'"')}}else if(c(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',y(i),'"')}}function S(e,t,n){if(null!=t){if(null!=n)throw Error(r(60));if("object"!==typeof t||!("__html"in t))throw Error(r(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function I(e,t,n,i){e.push(E(n));var r,o=n=null;for(r in t)if(a.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:C(e,i,r,s)}}return e.push(">"),S(e,o,n),"string"===typeof n?(e.push(y(n)),null):n}var j=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,T=new Map;function E(e){var t=T.get(e);if(void 0===t){if(!j.test(e))throw Error(r(65,e));t="<"+e,T.set(e,t)}return t}function P(e,t,n,o,s){switch(t){case"select":e.push(E("select"));var l=null,d=null;for(f in n)if(a.call(n,f)){var u=n[f];if(null!=u)switch(f){case"children":l=u;break;case"dangerouslySetInnerHTML":d=u;break;case"defaultValue":case"value":break;default:C(e,o,f,u)}}return e.push(">"),S(e,d,l),l;case"option":d=s.selectedValue,e.push(E("option"));var h=u=null,p=null,f=null;for(l in n)if(a.call(n,l)){var m=n[l];if(null!=m)switch(l){case"children":u=m;break;case"selected":p=m;break;case"dangerouslySetInnerHTML":f=m;break;case"value":h=m;default:C(e,o,l,m)}}if(null!=d)if(n=null!==h?""+h:function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(u),b(d)){for(o=0;o<d.length;o++)if(""+d[o]===n){e.push(' selected=""');break}}else""+d===n&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),S(e,f,u),u;case"textarea":for(u in e.push(E("textarea")),f=d=l=null,n)if(a.call(n,u)&&null!=(h=n[u]))switch(u){case"children":f=h;break;case"value":l=h;break;case"defaultValue":d=h;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:C(e,o,u,h)}if(null===l&&null!==d&&(l=d),e.push(">"),null!=f){if(null!=l)throw Error(r(92));if(b(f)&&1<f.length)throw Error(r(93));l=""+f}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),null!==l&&e.push(y(""+l)),null;case"input":for(d in e.push(E("input")),h=f=u=l=null,n)if(a.call(n,d)&&null!=(p=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":h=p;break;case"defaultValue":u=p;break;case"checked":f=p;break;case"value":l=p;break;default:C(e,o,d,p)}return null!==f?C(e,o,"checked",f):null!==h&&C(e,o,"checked",h),null!==l?C(e,o,"value",l):null!==u&&C(e,o,"value",u),e.push("/>"),null;case"menuitem":for(var g in e.push(E("menuitem")),n)if(a.call(n,g)&&null!=(l=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:C(e,o,g,l)}return e.push(">"),null;case"title":for(m in e.push(E("title")),l=null,n)if(a.call(n,m)&&null!=(d=n[m]))switch(m){case"children":l=d;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:C(e,o,m,d)}return e.push(">"),l;case"listing":case"pre":for(h in e.push(E(t)),d=l=null,n)if(a.call(n,h)&&null!=(u=n[h]))switch(h){case"children":l=u;break;case"dangerouslySetInnerHTML":d=u;break;default:C(e,o,h,u)}if(e.push(">"),null!=d){if(null!=l)throw Error(r(60));if("object"!==typeof d||!("__html"in d))throw Error(r(61));null!==(n=d.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var v in e.push(E(t)),n)if(a.call(n,v)&&null!=(l=n[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,t));default:C(e,o,v,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return I(e,n,t,o);case"html":return 0===s.insertionMode&&e.push("<!DOCTYPE html>"),I(e,n,t,o);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return I(e,n,t,o);for(p in e.push(E(t)),d=l=null,n)if(a.call(n,p)&&null!=(u=n[p]))switch(p){case"children":l=u;break;case"dangerouslySetInnerHTML":d=u;break;case"style":k(e,o,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:c(p)&&"function"!==typeof u&&"symbol"!==typeof u&&e.push(" ",p,'="',y(u),'"')}return e.push(">"),S(e,d,l),l}}function N(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(r(395));return e.push(n),e.push('"></template>')}var L=/[<\u2028\u2029]/g;function M(e){return JSON.stringify(e).replace(L,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function A(e,t,n,i){return n.generateStaticMarkup?(e.push(y(t)),!1):(""===t?e=i:(i&&e.push("\x3c!-- --\x3e"),e.push(y(t)),e=!0),e)}var z=Object.assign,B=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),U=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),J=Symbol.for("react.scope"),K=Symbol.for("react.debug_trace_mode"),$=Symbol.for("react.legacy_hidden"),Y=Symbol.for("react.default_value"),Q=Symbol.iterator;function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case D:return"Fragment";case R:return"Portal";case F:return"Profiler";case O:return"StrictMode";case W:return"Suspense";case q:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case G:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return null!==(t=e.displayName||null)?t:X(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var n,i={};for(n in e)i[n]=t[n];return i}var ne=null;function ie(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));ie(e,n)}t.context._currentValue2=t.value}}function re(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&re(e)}function ae(e){var t=e.parent;null!==t&&ae(t),e.context._currentValue2=e.value}function oe(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(r(402));e.depth===t.depth?ie(e,t):oe(e,t)}function se(e,t){var n=t.parent;if(null===n)throw Error(r(402));e.depth===n.depth?ie(e,n):se(e,n),t.context._currentValue2=t.value}function le(e){var t=ne;t!==e&&(null===t?ae(e):null===e?re(t):t.depth===e.depth?ie(t,e):t.depth>e.depth?oe(t,e):se(t,e),ne=e)}var ce={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function de(e,t,n,i){var r=void 0!==e.state?e.state:null;e.updater=ce,e.props=n,e.state=r;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"===typeof o&&null!==o?o._currentValue2:i,"function"===typeof(o=t.getDerivedStateFromProps)&&(r=null===(o=o(n,r))||void 0===o?r:z({},r,o),e.state=r),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ce.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,r=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"===typeof s?s.call(e,a,n,i):s)&&(r?(r=!1,a=z({},a,s)):z(a,s))}e.state=a}else a.queue=null}var ue={id:1,overflow:""};function he(e,t,n){var i=e.id;e=e.overflow;var r=32-pe(i)-1;i&=~(1<<r),n+=1;var a=32-pe(t)+r;if(30<a){var o=r-r%5;return a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,{id:1<<32-pe(t)+r|n<<r|i,overflow:a+e}}return{id:1<<a|n<<r|i,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ye=null,ve=null,_e=null,be=null,we=!1,xe=!1,ke=0,Ce=null,Se=0;function Ie(){if(null===ye)throw Error(r(321));return ye}function je(){if(0<Se)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Te(){return null===be?null===_e?(we=!1,_e=be=je()):(we=!0,be=_e):null===be.next?(we=!1,be=be.next=je()):(we=!0,be=be.next),be}function Ee(){ve=ye=null,xe=!1,_e=null,Se=0,be=Ce=null}function Pe(e,t){return"function"===typeof t?t(e):t}function Ne(e,t,n){if(ye=Ie(),be=Te(),we){var i=be.queue;if(t=i.dispatch,null!==Ce&&void 0!==(n=Ce.get(i))){Ce.delete(i),i=be.memoizedState;do{i=e(i,n.action),n=n.next}while(null!==n);return be.memoizedState=i,[i,t]}return[be.memoizedState,t]}return e=e===Pe?"function"===typeof t?t():t:void 0!==n?n(t):t,be.memoizedState=e,e=(e=be.queue={last:null,dispatch:null}).dispatch=Me.bind(null,ye,e),[be.memoizedState,e]}function Le(e,t){if(ye=Ie(),t=void 0===t?null:t,null!==(be=Te())){var n=be.memoizedState;if(null!==n&&null!==t){var i=n[1];e:if(null===i)i=!1;else{for(var r=0;r<i.length&&r<t.length;r++)if(!ge(t[r],i[r])){i=!1;break e}i=!0}if(i)return n[0]}}return e=e(),be.memoizedState=[e,t],e}function Me(e,t,n){if(25<=Se)throw Error(r(301));if(e===ye)if(xe=!0,e={action:n,next:null},null===Ce&&(Ce=new Map),void 0===(n=Ce.get(t)))Ce.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function Ae(){throw Error(r(394))}function ze(){}var Be={readContext:function(e){return e._currentValue2},useContext:function(e){return Ie(),e._currentValue2},useMemo:Le,useReducer:Ne,useRef:function(e){ye=Ie();var t=(be=Te()).memoizedState;return null===t?(e={current:e},be.memoizedState=e):t},useState:function(e){return Ne(Pe,e)},useInsertionEffect:ze,useLayoutEffect:function(){},useCallback:function(e,t){return Le((function(){return e}),t)},useImperativeHandle:ze,useEffect:ze,useDebugValue:ze,useDeferredValue:function(e){return Ie(),e},useTransition:function(){return Ie(),[!1,Ae]},useId:function(){var e=ve.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var n=Re;if(null===n)throw Error(r(404));return t=ke++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ie(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(r(407));return n()}},Re=null,De=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Oe(e){return console.error(e),null}function Fe(){}function He(e,t,n,i,r,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&nt(e)},blockedBoundary:n,blockedSegment:i,abortSet:r,legacyContext:a,context:o,treeContext:s};return r.add(l),l}function Ue(e,t,n,i,r,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n,lastPushedText:r,textEmbedded:a}}function Ge(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function We(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function qe(e,t,n,i,r){for(ye={},ve=t,ke=0,e=n(i,r);xe;)xe=!1,ke=0,Se+=1,be=null,e=n(i,r);return Ee(),e}function Ze(e,t,n,i){var a=n.render(),o=i.childContextTypes;if(null!==o&&void 0!==o){var s=t.legacyContext;if("function"!==typeof n.getChildContext)i=s;else{for(var l in n=n.getChildContext())if(!(l in o))throw Error(r(108,X(i)||"Unknown",l));i=z({},s,n)}t.legacyContext=i,Ke(e,t,a),t.legacyContext=s}else Ke(e,t,a)}function Ve(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Je(e,t,n,i,a){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){a=te(n,t.legacyContext);var o=n.contextType;de(o=new n(i,"object"===typeof o&&null!==o?o._currentValue2:a),n,i,a),Ze(e,t,o,n)}else{a=qe(e,t,n,i,o=te(n,t.legacyContext));var s=0!==ke;if("object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof)de(a,n,i,o),Ze(e,t,a,n);else if(s){i=t.treeContext,t.treeContext=he(i,1,0);try{Ke(e,t,a)}finally{t.treeContext=i}}else Ke(e,t,a)}else{if("string"!==typeof n){switch(n){case $:case K:case O:case F:case D:case q:return void Ke(e,t,i.children);case J:throw Error(r(343));case W:e:{n=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},c=Ue(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(c),a.lastPushedText=!1;var d=Ue(0,0,null,a.formatContext,!1,!1);d.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=d;try{if(Ye(e,t,i),e.responseState.generateStaticMarkup||d.lastPushedText&&d.textEmbedded&&d.chunks.push("\x3c!-- --\x3e"),d.status=1,et(l,d),0===l.pendingTasks)break e}catch(u){d.status=4,l.forceClientRender=!0,l.errorDigest=Ge(e,u)}finally{t.blockedBoundary=n,t.blockedSegment=a}t=He(e,o,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case G:if(i=qe(e,t,n.render,i,a),0!==ke){n=t.treeContext,t.treeContext=he(n,1,0);try{Ke(e,t,i)}finally{t.treeContext=n}}else Ke(e,t,i);return;case Z:return void Je(e,t,n=n.type,i=Ve(n,i),a);case H:if(a=i.children,n=n._context,i=i.value,o=n._currentValue2,n._currentValue2=i,ne=i={parent:s=ne,depth:null===s?0:s.depth+1,context:n,parentValue:o,value:i},t.context=i,Ke(e,t,a),null===(e=ne))throw Error(r(403));return i=e.parentValue,e.context._currentValue2=i===Y?e.context._defaultValue:i,e=ne=e.parent,void(t.context=e);case U:return void Ke(e,t,i=(i=i.children)(n._currentValue2));case V:return void Je(e,t,n=(a=n._init)(n._payload),i=Ve(n,i),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(o=P((a=t.blockedSegment).chunks,n,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return w(1,null!=n.value?n.value:n.defaultValue);case"svg":return w(2,null);case"math":return w(3,null);case"foreignObject":return w(1,null);case"table":return w(4,null);case"thead":case"tbody":case"tfoot":return w(5,null);case"colgroup":return w(7,null);case"tr":return w(6,null)}return 4<=e.insertionMode||0===e.insertionMode?w(1,null):e}(s,n,i),Ye(e,t,o),a.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push("</",n,">")}a.lastPushedText=!1}}function Ke(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case B:return void Je(e,t,n.type,n.props,n.ref);case R:throw Error(r(257));case V:var i=n._init;return void Ke(e,t,n=i(n._payload))}if(b(n))return void $e(e,t,n);if(null===n||"object"!==typeof n?i=null:i="function"===typeof(i=Q&&n[Q]||n["@@iterator"])?i:null,i&&(i=i.call(n))){if(!(n=i.next()).done){var a=[];do{a.push(n.value),n=i.next()}while(!n.done);$e(e,t,a)}return}throw e=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(i=t.blockedSegment).lastPushedText=A(t.blockedSegment.chunks,n,e.responseState,i.lastPushedText):"number"===typeof n&&((i=t.blockedSegment).lastPushedText=A(t.blockedSegment.chunks,""+n,e.responseState,i.lastPushedText))}function $e(e,t,n){for(var i=n.length,r=0;r<i;r++){var a=t.treeContext;t.treeContext=he(a,i,r);try{Ye(e,t,n[r])}finally{t.treeContext=a}}}function Ye(e,t,n){var i=t.blockedSegment.formatContext,r=t.legacyContext,a=t.context;try{return Ke(e,t,n)}catch(l){if(Ee(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=a,le(a),l;n=l;var o=t.blockedSegment,s=Ue(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=He(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=a,le(a)}}function Qe(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function Xe(e,t,n){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===n?Error(r(432)):n,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return Xe(e,t,n)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&et(e,n)}else e.completedSegments.push(t)}function tt(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(r(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Fe,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&et(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Qe,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(et(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function nt(e){if(2!==e.status){var t=ne,n=De.current;De.current=Be;var i=Re;Re=e.responseState;try{var r,a=e.pingedTasks;for(r=0;r<a.length;r++){var o=a[r],s=e,l=o.blockedSegment;if(0===l.status){le(o.context);try{Ke(s,o,o.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),o.abortSet.delete(o),l.status=1,tt(s,o.blockedBoundary,l)}catch(p){if(Ee(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=Ge(s,u);if(null===d?We(s,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,r),null!==e.destination&&lt(e,e.destination)}catch(p){Ge(e,p),We(e,p)}finally{Re=i,De.current=n,n===Be&&le(t)}}}function it(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=i.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var a=!0;i=n.chunks;var o=0;n=n.children;for(var s=0;s<n.length;s++){for(a=n[s];o<a.index;o++)t.push(i[o]);a=rt(e,t,a)}for(;o<i.length-1;o++)t.push(i[o]);return o<i.length&&(a=t.push(i[o])),a;default:throw Error(r(390))}}function rt(e,t,n){var i=n.boundary;if(null===i)return it(e,t,n);if(i.parentFlushed=!0,i.forceClientRender)return e.responseState.generateStaticMarkup||(i=i.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),i&&(t.push(' data-dgst="'),i=y(i),t.push(i),t.push('"')),t.push("></template>")),it(e,t,n),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var a=e.responseState,o=a.nextSuspenseID++;return a=a.boundaryPrefix+o.toString(16),i=i.id=a,N(t,e.responseState,i),it(e,t,n),t.push("\x3c!--/$--\x3e")}if(i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),N(t,e.responseState,i.id),it(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=i.completedSegments).length)throw Error(r(391));return rt(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function at(e,t,n){return function(e,t,n,i){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');default:throw Error(r(397))}}(t,e.responseState,n.formatContext,n.id),rt(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(r(397))}}(t,n.formatContext)}function ot(e,t,n){for(var i=n.completedSegments,a=0;a<i.length;a++)st(e,t,n,i[a]);if(i.length=0,e=e.responseState,i=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===i)throw Error(r(395));return n=n.toString(16),t.push(i),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function st(e,t,n,i){if(2===i.status)return!0;var a=i.id;if(-1===a){if(-1===(i.id=n.rootSegmentID))throw Error(r(392));return at(e,t,i)}return at(e,t,i),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),a=a.toString(16),t.push(a),t.push('","'),t.push(e.placeholderPrefix),t.push(a),t.push('")<\/script>')}function lt(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){rt(e,t,n),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)t.push(i[n]);n<i.length&&t.push(i[n])}var a,o=e.clientRenderedBoundaries;for(a=0;a<o.length;a++){var s=o[a];i=t;var l=e.responseState,c=s.id,d=s.errorDigest,u=s.errorMessage,h=s.errorComponentStack;if(i.push(l.startInlineScript),l.sentClientRenderFunction?i.push('$RX("'):(l.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===c)throw Error(r(395));if(i.push(c),i.push('"'),d||u||h){i.push(",");var p=M(d||"");i.push(p)}if(u||h){i.push(",");var f=M(u||"");i.push(f)}if(h){i.push(",");var m=M(h);i.push(m)}if(!i.push(")<\/script>"))return e.destination=null,a++,void o.splice(0,a)}o.splice(0,a);var g=e.completedBoundaries;for(a=0;a<g.length;a++)if(!ot(e,t,g[a]))return e.destination=null,a++,void g.splice(0,a);g.splice(0,a);var y=e.partialBoundaries;for(a=0;a<y.length;a++){var v=y[a];e:{o=e,s=t;var _=v.completedSegments;for(l=0;l<_.length;l++)if(!st(o,s,v,_[l])){l++,_.splice(0,l);var b=!1;break e}_.splice(0,l),b=!0}if(!b)return e.destination=null,a++,void y.splice(0,a)}y.splice(0,a);var w=e.completedBoundaries;for(a=0;a<w.length;a++)if(!ot(e,t,w[a]))return e.destination=null,a++,void w.splice(0,a);w.splice(0,a)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ct(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return Xe(n,e,t)})),n.clear(),null!==e.destination&&lt(e,e.destination)}catch(i){Ge(e,i),We(e,i)}}function dt(){}function ut(e,t,n,i){var a=!1,o=null,s="",l={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){a=!0,o=e}},c=!1;if(e=function(e,t,n,i,r,a,o,s,l){var c=[],d=new Set;return(n=Ue(t={destination:null,responseState:t,progressiveChunkSize:void 0===i?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?Oe:r,onAllReady:void 0===a?Fe:a,onShellReady:void 0===o?Fe:o,onShellError:void 0===s?Fe:s,onFatalError:void 0===l?Fe:l},0,null,n,!1,!1)).parentFlushed=!0,e=He(t,e,null,n,d,ee,null,ue),c.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,dt,void 0,(function(){c=!0}),void 0,void 0),nt(e),ct(e,i),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{lt(e,l)}catch(d){Ge(e,d),We(e,d)}}if(a)throw o;if(!c)throw Error(r(426));return s}t.renderToNodeStream=function(){throw Error(r(207))},t.renderToStaticMarkup=function(e,t){return ut(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(r(208))},t.renderToString=function(e,t){return ut(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.3.1"},2266:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locations:()=>i});const i=[{id:"street_door",name:"The Mysterious Door",area:"London",type:"Alley door and passage",features:["Shabby door","Back entrance connected to Jekyll\u2019s laboratory"],significance:["Introduces Hyde via Enfield\u2019s tale","Utterson confronts Hyde here"],description:"A sinister, neglected door in a by-street connected to the rear of Dr. Jekyll\u2019s house.",introducedInChapter:"chapter_01",events:[{eventId:"story_of_the_door",role:"setting"},{eventId:"search_for_mr_hyde",role:"stakeout"}],occupants:[],proximity:[{locationId:"jekyll_laboratory",description:"Connected via passage from the rear"}]},{id:"jekyll_house",name:"Dr. Jekyll\u2019s House",area:"London",type:"Townhouse",features:["Front door","Dining room","Study"],significance:["Social dinners","Jekyll\u2019s withdrawal from society"],description:"A large, respectable townhouse with a front entrance on a square and a rear wing leading to the old laboratory.",introducedInChapter:"chapter_03",events:[{eventId:"jekyll_dinner",role:"host"}],occupants:[{characterId:"henry_jekyll",relationship:"owner"},{characterId:"poole",relationship:"servant"}]},{id:"jekyll_laboratory",name:"Jekyll\u2019s Laboratory",area:"London",type:"Laboratory and cabinet",features:["Operating theatre","Cabinet","Chemical bench"],significance:["Transformations occur here","Final discovery of Hyde\u2019s body"],description:"An old dissecting room and cabinet connected to the back of Jekyll\u2019s house, used for his secret experiments.",introducedInChapter:"chapter_08",events:[{eventId:"the_last_night",role:"discovery"},{eventId:"jekyll_full_statement",role:"confession_origin"}],occupants:[]},{id:"hyde_soho_house",name:"Hyde\u2019s Soho Rooms",area:"Soho, London",type:"Lodgings",features:["Tasteful furnishings","Disordered bed"],significance:["Searched by police after Carew\u2019s murder"],description:"Hyde\u2019s well-furnished but sinister-feeling lodgings in Soho.",introducedInChapter:"chapter_04",events:[{eventId:"carew_murder",role:"searched_after"}],occupants:[{characterId:"edward_hyde",relationship:"resident"}]},{id:"lanyon_house",name:"Dr. Lanyon\u2019s House",area:"Cavendish Square, London",type:"Residence",features:["Respectable chambers"],significance:["Site of the witnessed transformation as per Lanyon\u2019s narrative"],description:"The respectable home of Dr. Lanyon where the climactic transformation was witnessed.",introducedInChapter:"chapter_06",events:[{eventId:"remarkable_incident_of_dr_lanyon",role:"illness_origin"},{eventId:"dr_lanyon_narrative",role:"transformation_scene"}],occupants:[{characterId:"hastie_lanyon",relationship:"resident"}]},{id:"carew_murder_site",name:"Carew Murder Site",area:"London",type:"Street",features:["Foggy night","Street lamp"],significance:["Scene of Sir Danvers Carew\u2019s murder"],description:"A street where Sir Danvers Carew was brutally murdered by Hyde.",introducedInChapter:"chapter_04",events:[{eventId:"carew_murder",role:"crime_scene"}]},{id:"utterson_chambers",name:"Utterson\u2019s Chambers",area:"London (Temple)",type:"Law office/chambers",features:["Clerk office","Document storage"],significance:["Handwriting comparison of the letter"],description:"The office where Utterson works with his clerk Guest.",introducedInChapter:"chapter_05",events:[{eventId:"incident_of_the_letter",role:"analysis_site"}]},{id:"jekyll_courtyard",name:"Jekyll\u2019s Courtyard",area:"London",type:"Courtyard/garden",features:["Window to Jekyll\u2019s cabinet"],significance:["Window incident observed by Utterson and Enfield"],description:"A yard behind Jekyll\u2019s house with a window into his cabinet.",introducedInChapter:"chapter_07",events:[{eventId:"incident_at_the_window",role:"viewpoint"}]}]},2645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{events:()=>i});const i=[{id:"story_of_the_door",title:"Story of the Door",date:"N/A",description:"Enfield tells Utterson of a terrifying incident at a shabby door involving a man who trampled a child and paid hush money.",location:"street_door",characters:[{characterId:"gabriel_utterson",role:"listener"},{characterId:"mr_enfield",role:"narrator"},{characterId:"edward_hyde",role:"perpetrator"},{characterId:"child_victim",role:"victim"},{characterId:"apothecary_doctor",role:"doctor"}],significance:"Introduces Hyde and the mysterious door connected to Jekyll\u2019s property.",introducedInChapter:"chapter_01",keyActions:["Enfield recounts story","Hyde pays with a cheque signed by Jekyll"]},{id:"child_trampling",title:"The Child Trampling Incident",date:"N/A",description:"Hyde tramples a young girl in the small hours; Enfield detains him and forces compensation via a cheque tied to the mysterious door.",location:"street_door",characters:[{characterId:"edward_hyde",role:"perpetrator"},{characterId:"child_victim",role:"victim"},{characterId:"mr_enfield",role:"detains"},{characterId:"apothecary_doctor",role:"doctor"}],significance:"Establishes Hyde\u2019s brutality and links him to Jekyll through the cheque and key.",introducedInChapter:"chapter_01",keyActions:["Hyde tramples child","Cheque produced from the door","Group detains Hyde"]},{id:"search_for_mr_hyde",title:"Search for Mr. Hyde",date:"N/A",description:"Utterson reviews Jekyll\u2019s will naming Hyde as beneficiary and stakes out the door, confronting Hyde.",location:"street_door",characters:[{characterId:"gabriel_utterson",role:"investigator"},{characterId:"edward_hyde",role:"confronted"}],significance:"Confirms Hyde\u2019s connection to Jekyll; deepens Utterson\u2019s concern.",introducedInChapter:"chapter_02",keyActions:["Utterson confronts Hyde","Hyde shows a key to the door"]},{id:"jekyll_dinner",title:"Dr. Jekyll Was Quite at Ease",date:"N/A",description:"At a dinner, Jekyll dismisses Utterson\u2019s concerns about Hyde and asks him to respect his wishes.",location:"jekyll_house",characters:[{characterId:"gabriel_utterson",role:"guest"},{characterId:"henry_jekyll",role:"host"}],significance:"Shows Jekyll\u2019s apparent control and secrecy.",introducedInChapter:"chapter_03",keyActions:["Jekyll requests Utterson to bear with him"]},{id:"carew_murder",title:"The Carew Murder Case",date:"N/A",description:"Hyde murders Sir Danvers Carew with a cane; a maid witnesses the attack.",location:"carew_murder_site",characters:[{characterId:"edward_hyde",role:"murderer"},{characterId:"sir_danvers_carew",role:"victim"},{characterId:"maid_witness",role:"witness"},{characterId:"gabriel_utterson",role:"investigator"},{characterId:"inspector_newcomen",role:"investigator"},{characterId:"guest_housekeeper",role:"admits_search"}],significance:"Public crime escalates the investigation and exposes Hyde.",introducedInChapter:"chapter_04",keyActions:["Murder with cane","Police search Hyde\u2019s Soho rooms"]},{id:"soho_search",title:"Search of Hyde\u2019s Soho Rooms",date:"N/A",description:"Utterson and Inspector Newcomen search Hyde\u2019s lodgings, discovering the broken cane fragment and evidence of haste.",location:"hyde_soho_house",characters:[{characterId:"gabriel_utterson",role:"investigator"},{characterId:"inspector_newcomen",role:"investigator"},{characterId:"guest_housekeeper",role:"admits_search"}],significance:"Connects the murder weapon to Hyde and Jekyll.",introducedInChapter:"chapter_04",keyActions:["Housekeeper cooperates","Cane fragment discovered"]},{id:"incident_of_the_letter",title:"Incident of the Letter",date:"N/A",description:"Utterson receives a letter (apparently from Hyde) via Jekyll; Mr. Guest notes handwriting matches Jekyll\u2019s.",location:"utterson_chambers",characters:[{characterId:"gabriel_utterson",role:"examines_letter"},{characterId:"henry_jekyll",role:"source"},{characterId:"mr_guest",role:"handwriting_expert"}],significance:"Hints that Jekyll forged Hyde\u2019s letter.",introducedInChapter:"chapter_05",keyActions:["Guest compares handwriting","Utterson decides to keep the finding quiet"]},{id:"remarkable_incident_of_dr_lanyon",title:"Remarkable Incident of Dr. Lanyon",date:"N/A",description:"Jekyll withdraws from society; Lanyon grows deathly ill after a mysterious shock and entrusts Utterson with a sealed letter.",location:"lanyon_house",characters:[{characterId:"hastie_lanyon",role:"falls_ill"},{characterId:"gabriel_utterson",role:"recipient_of_packet"},{characterId:"henry_jekyll",role:"withdrawn"}],significance:"Sets up Lanyon\u2019s narrative and the final revelations.",introducedInChapter:"chapter_06",keyActions:["Lanyon gives sealed letter to Utterson"]},{id:"incident_at_the_window",title:"Incident at the Window",date:"N/A",description:"Utterson and Enfield see Jekyll at a window; a horror overtakes him and the window is slammed shut.",location:"jekyll_courtyard",characters:[{characterId:"gabriel_utterson",role:"witness"},{characterId:"mr_enfield",role:"witness"},{characterId:"henry_jekyll",role:"seen_at_window"}],significance:"Suggests Jekyll\u2019s loss of control.",introducedInChapter:"chapter_07",keyActions:["Window abruptly shuts"]},{id:"the_last_night",title:"The Last Night",date:"N/A",description:"Poole brings Utterson to Jekyll\u2019s house; they break into the lab and find Hyde dead from poison, Jekyll nowhere to be seen.",location:"jekyll_laboratory",characters:[{characterId:"poole",role:"summons_utterson"},{characterId:"gabriel_utterson",role:"breaker_in"},{characterId:"bradshaw",role:"assists"},{characterId:"edward_hyde",role:"found_dead"}],significance:"Climactic discovery leading to the confessional documents.",introducedInChapter:"chapter_08",keyActions:["Door forced","Papers discovered"]},{id:"dr_lanyon_narrative",title:"Dr. Lanyon\u2019s Narrative",date:"N/A",description:"Lanyon recounts how a visitor took powders and transformed from Hyde into Jekyll before his eyes.",location:"lanyon_house",characters:[{characterId:"hastie_lanyon",role:"narrator"},{characterId:"edward_hyde",role:"transforms"},{characterId:"henry_jekyll",role:"revealed"}],significance:"Explicitly reveals the connection between Hyde and Jekyll.",introducedInChapter:"chapter_09",keyActions:["Transformation witnessed"]},{id:"jekyll_full_statement",title:"Henry Jekyll\u2019s Full Statement",date:"N/A",description:"Jekyll explains his experiments, his motives, and his ultimate loss of control over Hyde.",location:"jekyll_laboratory",characters:[{characterId:"henry_jekyll",role:"confessor"},{characterId:"edward_hyde",role:"alter_ego"}],significance:"Concludes the mystery and provides moral framing.",introducedInChapter:"chapter_10",keyActions:["Full confession"]}]},2729:(e,t,n)=>{"use strict";n.r(t),n.d(t,{chapters:()=>i});const i=[{id:"preface",title:"Preface \u2014 Isles of Scilly Landing",description:"A German agent, Helmut Schnitter, is covertly landed by U-boat at St Mary\u2019s in the Isles of Scilly. The narrative outlines the islands\u2019 weak defenses and his plan to blend in and take the boat to Penzance. Unknown to him, British intelligence has prior warning of infiltration via the islands.",events:[],timeframe:"Summer 1943"},{id:"chapter_01",title:"Chapter 1: Wiltshire \u2014 Arrival at Denleigh Manor",description:"Lady Cynthia Childreth arrives at Denleigh Manor for a country-house weekend hosted by Lady Amelia Wyndholme. She meets Colonel Peter Snowden and other guests, sensing a rigid social ritual and undercurrents among the party. A secret note from Amy hints that someone will approach Cynthia privately for an important matter.",events:[],timeframe:"May 1932"},{id:"chapter_02",title:"Chapter 2: Dinner Conversations Turn Political",description:"Over dinner and drinks, the gathering\u2019s conversation turns to the last war and current politics. Colonel Snowden and Bob Harrington air pro-German and pro-Mosley sentiments, revealing sympathies that unsettle some. Cynthia observes and measures the group\u2019s dynamics while remaining outwardly polite.",events:[],timeframe:"May 1932"},{id:"chapter_03",title:"Chapter 3: The Approach",description:"In the garden, \u201cMr Newton\u201d and \u201cMiss Gilchrist\u201d reveal themselves as Wing-Commander Bill Lawrie and Hannah Park. They discreetly recruit Cynthia for a role \u201clistening and observing,\u201d hinting at a longer game involving domestic sympathizers. Cynthia agrees to consider, intrigued yet cautious.",events:[],timeframe:"May 1932"},{id:"chapter_04",title:"Chapter 4: Signals and Masks",description:"The house party continues with formal dinners and careful role-play. Miss Gilchrist\u2019s striking persona and Marjorie Snowden\u2019s frank opinions further expose the group\u2019s rightward leanings. Cynthia and Richard quietly coordinate, aware they are being tested and watched.",events:[],timeframe:"May 1932"},{id:"chapter_05",title:"Chapter 5: A Sunday Walk and a Plan",description:"Under cover of a church outing, Bill gives Cynthia the broad outlines: she is to infiltrate the social circle around the Snowdens and Harringtons. To provide \u201cpolitical provenance,\u201d plans are laid for travel and social access abroad. Cynthia agrees to the work, aware the details must come later.",events:[],timeframe:"Late May 1932"},{id:"chapter_06",title:"Chapter 6: Imperial Aggregates",description:"In London at \u201cImperial Aggregates,\u201d Bill, Hannah, and Jane brief Cynthia and Richard in detail. They outline the rise of right\u2011wing networks in Britain and the need to map them from within through social invitations and appearances. The couple\u2019s forthcoming Berlin trip will serve as their entr\xe9e.",events:[],timeframe:"1932"},{id:"chapter_07",title:"Chapter 7: Tickets to Berlin",description:"Travel is arranged from Croydon to Berlin with Deutsche Luft Hansa. Cynthia refreshes her wardrobe and the couple prepare for mixed business and social engagements. The logistics emphasize official fronts, careful pretenses, and the impression they must create.",events:[],timeframe:"1932"},{id:"chapter_08",title:"Chapter 8: Hotel Adlon",description:"They arrive in Berlin and are driven to the Hotel Adlon, conspicuous among government buildings and embassies. A discreet embassy-linked driver offers cover and contact. The couple settle in as invitations begin, including drinks with Reichsbank contacts.",events:[],timeframe:"1932"},{id:"chapter_09",title:"Chapter 9: First Meetings, First Impressions",description:"Richard meets at the Reichsbank while Cynthia explores and blends in with local society. She keeps her fluency in German concealed to overhear unguarded remarks. Routine social coffees with well-heeled German women begin to sketch the circle\u2019s views.",events:[],timeframe:"1932"},{id:"chapter_10",title:"Chapter 10: A Formal Welcome",description:"At a reception hosted by Gerda and Franz Stammer, Cynthia and Richard are introduced around. Cynthia deliberately uses her title to amplify the social effect. She senses the room\u2019s deference and the careful effort to position the couple as sympathetic.",events:[],timeframe:"1932"},{id:"chapter_11",title:"Chapter 11: The Mask Slips",description:"Coffee gatherings feel trivial until a more formal evening draws out candid political talk. Cynthia overhears admiration for Hitler\u2019s momentum, economic grievances, and anti\u2011communist fervor. The British Harringtons and Davies unexpectedly appear in Berlin, tightening links.",events:[],timeframe:"1932"},{id:"chapter_12",title:"Chapter 12: An Invitation to the Circle",description:"Cynthia is directly invited to join an elite pro\u2011Nazi support network, to host sympathizers and promote their ideas in England. She feigns surprise, asks for time, and signals likely assent. The network\u2019s expectations and contact methods are discreetly outlined.",events:[],timeframe:"1932"},{id:"chapter_13",title:"Chapter 13: Banking Favors",description:"Richard presses the Reichsbank for the true purpose behind his meetings and is asked to open a convenient UK bank account for visiting delegates. The couple prepare to leave Berlin with overtures accepted on both fronts. The stage is set for activity back in England.",events:[],timeframe:"1932"},{id:"chapter_14",title:"Chapter 14: Terms Agreed",description:"Cynthia accepts the women\u2019s invitation and confirms the couple\u2019s support in hosting. They fly home to a waiting brief from Bill in a Daimler. The week felt like theater, but the contacts and commitments are real.",events:[],timeframe:"1932"},{id:"chapter_15",title:"Chapter 15: Debrief and Lines",description:"Bill\u2019s team debriefs at Cynthia\u2019s home, installing a secure phone line and outlining tradecraft. Cynthia\u2019s German is to remain concealed; their home will serve social duties when called upon. The operation moves to a patient, watchful phase.",events:[],timeframe:"Late 1932"},{id:"chapter_16",title:"Chapter 16: The Quiet Winter",description:"A new private line is fitted and life resumes its routine through year\u2019s end. The Lausanne reparations talks come and go, domestic economics weigh, and there is little contact from either side. The lull is punctuated by small signs of surveillance and interest.",events:[],timeframe:"Late 1932 \u2013 Early 1933"},{id:"chapter_17",title:"Chapter 17: Chancellor",description:"Hitler becomes Chancellor on 30 January 1933 and quickly consolidates power. Gerda\u2019s letter urges Cynthia to begin her part in Britain, backed by \u201chighest authority.\u201d A list of prospective English invitees arrives for future gatherings.",events:[],timeframe:"Early 1933"},{id:"chapter_18",title:"Chapter 18: Tradecraft Delivery",description:"A \u201cfishmonger\u201d visits to teach tails, back\u2011doubles, and phone safety, collecting a copy of the German list. Cynthia, Richard, and Mary fix a date for the first outdoor event, with Bill\u2019s team to covertly staff and observe. Invitations are hand\u2011written for a personal touch.",events:[],timeframe:"Spring 1933"},{id:"chapter_19",title:"Chapter 19: The First Party",description:"On 27 May, guests gather in Cynthia\u2019s gardens as catering and covert watchers mingle. Gerda and Lena hold court while the British sympathizers circulate and exchange cards. Mary quietly clocks a private foray by Lena and Marjorie into Cynthia\u2019s office.",events:[],timeframe:"27 May 1933"},{id:"chapter_20",title:"Chapter 20: Aftermath and a Click",description:"The morning after, Gerda declares the event a success and asks for another. Bill suspects the \u201coffice visit\u201d planted a bug; a click on the line confirms it. The team turns the tap to their advantage and raises Cynthia\u2019s protection.",events:[],timeframe:"1933"},{id:"chapter_21",title:"Chapter 21: A Second Gathering",description:"Plans are set for another event the following summer to spread the guest list. Meanwhile, Mosley\u2019s movement grows and stumbles, and German consolidation accelerates. The watchers expand, and Cynthia keeps her footing in both worlds.",events:[],timeframe:"1933\u20131934"},{id:"chapter_22",title:"Chapter 22: Mosley Attends",description:"For the 7 July party, Mosley accepts a discreet invitation and arrives with intimidating minders. He flatters, he probes, and he asks the Childreths to consider serving as a \u201csafe house.\u201d Cynthia deflects publicly, reports privately, and the operation takes sharper aim.",events:[],timeframe:"July 1934"},{id:"chapter_23",title:"Chapter 23: Years Turning",description:"Cable Street, Public Order Act, rallies, and war: Britain\u2019s climate shifts and Mosley is interned, then released in 1943. The German women recede; the British core persist quietly. Marjorie Snowden rings Cynthia in 1943 with renewed intent.",events:[],timeframe:"1934\u20131943"},{id:"chapter_24",title:"Chapter 24: Edwards",description:"Special Branch brief Cynthia: an agent using the name \u201cEdwards\u201d has landed and will later seek her house. Colonel Snowden calls separately, instructing her to expect a man who will identify himself via a cheque book. Cynthia is to \u201cdo nothing\u201d until approached.",events:[],timeframe:"1943"},{id:"chapter_25",title:"Chapter 25: Atlantic Hotel Watch",description:"Chief Inspector George Bennet stakes out St Mary\u2019s on the Isles of Scilly, waiting for a traveler with two heavy cases. He tracks \u201cEdwards\u201d to a ferry ticket paid by cheque and confirms a Martins Bank account. The stalk heads to Penzance.",events:[],timeframe:"1943"},{id:"chapter_26",title:"Chapter 26: To London by Rail",description:"From Penzance, Edwards boards the London train with a grey\u2011haired knitter and a studious man later known as \u201cYoung.\u201d Alison, an MI5 asset, joins at Taunton to shadow the latter. Cases, compartments, and the long run to Paddington set up later revelations.",events:[],timeframe:"1943"},{id:"chapter_27",title:"Chapter 27: Reading",description:"The man with pince\u2011nez gives his name as \u201cYoung\u201d at the Great Western Hotel in Reading. Alison tailors her disguise and tracks his movements, noting an overnight pattern and a careful exit. The choreography suggests pre\u2011arranged links and staged identities.",events:[],timeframe:"1943"},{id:"chapter_28",title:"Chapter 28: Crawford Place",description:"Edwards reaches a flat off Edgware Road and draws a 24\u2011hour watch. In Reading, Young takes a bus into Berkshire and presents himself at Cynthia\u2019s house with a suitcase to leave. Alison warns Cynthia and relays the anomaly: Edwards was expected, but Sir John Davies came instead, now as \u201cYoung.\u201d",events:[],timeframe:"1943"},{id:"chapter_29",title:"Chapter 29: The Flat",description:"Special Branch make a gas\u2011meter pretext entry into the Crawford Place flat and find Edwards dead from a single shot. The room shows no struggle; the timing suggests a swift, silent execution. The case that was supposed to hold a radio instead holds English books.",events:[],timeframe:"1943"},{id:"chapter_30",title:"Chapter 30: Piece by Piece",description:"George reconstructs the journey and the Box Tunnel interval where a switch could have occurred. The missing cheque book and a \u201cpostman\u201d observed at the building become key threads. Attention pivots to the woman in the carriage, and to how the cheques might be repurposed as identification.",events:[],timeframe:"1943"},{id:"chapter_31",title:"Chapter 31: Blenheim Link\u2011Up",description:"At MI5\u2019s wartime offices, Bill and George compare operations and share sources and leads. The Edwards trail merges with MI5\u2019s long\u2011running survey of domestic fifth columnists. Joint focus sharpens on the Reading detour and the Berkshire trio.",events:[],timeframe:"1943"},{id:"chapter_32",title:"Chapter 32: Three in a Compartment",description:"George re\u2011considers the compartment: a decoy agent, a man under alias, and a grey\u2011haired knitter. The \u201cbooks suitcase\u201d implies a planned switch; the woman\u2019s role rises in importance. MI5 and Special Branch divide tasks: find the woman, watch the trio, define the \u201cwhy.\u201d",events:[],timeframe:"1943"},{id:"chapter_33",title:"Chapter 33: The Suitcase Left",description:"Davies, calling himself \u201cYoung,\u201d leaves a suitcase at Cynthia\u2019s with instructions it will be collected. Alison remains close and tracks Young\u2019s return to Reading, then London by train. Cynthia reports, and a secure meeting is set to synthesize the emerging pattern.",events:[],timeframe:"1943"},{id:"chapter_34",title:"Chapter 34: National Gallery Meeting",description:"Cynthia, trailed from Paddington, is brought into a covert meeting off the National Gallery foyer. The team lays out hypotheses: if not radio, then assassination\u2014and which target? Tasks are assigned to research senior commanders\u2019 movements and to protect Cynthia discreetly.",events:[],timeframe:"1943"},{id:"chapter_35",title:"Chapter 35: Targets and Timelines",description:"The group weighs Royals, Cabinet, and service chiefs, settling on ground commanders as most exposed. Montgomery and Eisenhower emerge as likely focal points given planned inspections and morale visits. Bill orders the suitcase at Cynthia\u2019s to be opened covertly, and protection measures escalated.",events:[],timeframe:"1943"},{id:"chapter_36",title:"Chapter 36: What the Case Contained",description:"Edwin opens the left suitcase: it holds women\u2019s clothing and toiletries, sizes suggesting a medium\u2011tall woman. Gladys notes new \u201cstrangers\u201d in the village while MI5 quietly positions cover assets. The team distinguishes hospital and transport\u2011camp vulnerabilities for December visits.",events:[],timeframe:"1943"},{id:"chapter_37",title:"Chapter 37: Addresses and a Ruse",description:"Using old invitation letters, the team fixes the home addresses of the Harringtons, Snowdens, and Davies. Cynthia is asked to make a lightly panicked call to Richard on an open line to flush watchers. Bill asks everyone to think back to Denleigh for overlooked tells.",events:[],timeframe:"1943"},{id:"chapter_38",title:"Chapter 38: Artists at Work",description:"Observation teams embed around Aldworth, Ashampstead, and Yattendon\u2014some as \u201cartists,\u201d others as repair crews. Cynthia\u2019s open\u2011line call is made; local watchers thin. Bert sells a painting; small details accumulate, including a green car and a 40\u2011minute Harrington drive.",events:[],timeframe:"1943"},{id:"chapter_39",title:"Chapter 39: The Rifle",description:"Elsewhere, an FG42 paratrooper rifle with scope and bipod is unwrapped and cleaned. Two shooters practice at the Churn rifle ranges, carefully recovering spent brass\u2014save one 7.92 shell left behind. The weapon\u2019s capability matches the conspiracy\u2019s likely aim.",events:[],timeframe:"Late 1943"},{id:"chapter_40",title:"Chapter 40: Circles on a Map",description:"With little from house watches, Bill and George stand down most observers and refocus on likely dates. Alison confirms Montgomery will inspect troops on 13 February; newspaper reports trail goodwill visits in December. A map radius from Harrington\u2019s trip points toward the Churn ranges.",events:[],timeframe:"Late 1943"},{id:"chapter_41",title:"Chapter 41: Knitting",description:"Cynthia recalls Louise\u2019s constant knitting\u2014at Denleigh, in Berlin, and in the train compartment\u2014linking the woman to the switch. Bill secures a draft itinerary showing December visits near Bucklebury Common and Hermitage. Attention converges on local geography and lines of sight.",events:[],timeframe:"Late 1943"},{id:"chapter_42",title:"Chapter 42: Common and Camp",description:"A recovered 7.92 shell from the range is identified as FG42 ammunition, reinforcing the sniper theory. Recon shows limited angles at the hospital but many access points and traffic backups near the American Transport Division on Bucklebury Common. Alison is embedded at Cynthia\u2019s as \u201cSarah\u201d to mind the house.",events:[],timeframe:"Early December 1943"},{id:"chapter_43",title:"Chapter 43: The Tower",description:"Alison\u2019s tour of the house reveals a glass-walled studio and a flat roof with a panoramic view over the Avenue and common. The vantage could serve a prone marksman if the house were accessed. The team prioritizes the transport camp and the February inspection while maintaining village surveillance.",events:[],timeframe:"December 1943"},{id:"chapter_44",title:"Chapter 44: Closing In",description:"Fresh teams rotate in around the trio\u2019s villages under new covers. Background checks illuminate the couples\u2019 histories and skills, including Louise\u2019s marksmanship. Plans are drawn to seed a nearby cottage if needed for closer watch.",events:[],timeframe:"December 1943"},{id:"chapter_45",title:"Chapter 45: Signals and Pressure",description:"With dates imminent, the group refines contingencies around the common and the Avenue choke point. Messages and movements among the trio suggest final coordination. Cynthia maintains normal routines as Alison quietly hardens the house.",events:[],timeframe:"December 1943"},{id:"chapter_46",title:"Chapter 46: A Test of Nerves",description:"Decoys and countersurveillance play out across lanes and hedgerows. The green car reappears and disappears, and phone traffic is watched for cues. The team holds position, wary of provoking the adversary into changing plans.",events:[],timeframe:"December 1943"},{id:"chapter_47",title:"Chapter 47: The Net Tightens",description:"Clues from logistics and local helpers point to which day is most likely. Quiet arrests for unrelated matters are readied as contingency. Everyone waits for the decisive signal.",events:[],timeframe:"December 1943"},{id:"chapter_48",title:"Chapter 48: Contact",description:"Final movements bring principals close to the common amid military traffic. Coordination between Special Branch, MI5, and local police is tested in real time. A last-minute change risks unraveling the carefully laid plan.",events:[],timeframe:"December 1943"},{id:"chapter_49",title:"Chapter 49: Break Point",description:"The conspiracy\u2019s shape is fully exposed: roles, routes, and the intended vantage. Swift actions prevent the plan from reaching its target. Debriefings begin even as residual threats are chased down.",events:[],timeframe:"December 1943"},{id:"chapter_50",title:"Chapter 50: Clearance",description:"With the immediate danger ended, searches and interviews unspool the network to its periphery. Evidence is secured, and the village returns to outward calm. Cynthia\u2019s house sheds its secret life as watchers quietly withdraw.",events:[],timeframe:"December 1943"},{id:"epilogue",title:"Epilogue",description:"Louise dies in a gas explosion, while Bob and Sir John are tried in camera and imprisoned. The Snowdens slip away to Ireland for a time. Cynthia receives an OBE for services to war work.",events:[],timeframe:"Post-December 1943"}]},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!u.call(f,e)||!u.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var B,R=Object.assign;function D(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var O=!1;function F(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function H(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case C:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=q(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ce=null;function Se(e){if(e=_r(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wr(t),xe(e.stateNode,e.type,t))}}function Ie(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function je(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ee(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ce)&&(Ee(),je())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){Me=!1}function ze(e,t,n,i,r,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Be=!1,Re=null,De=!1,Oe=null,Fe={onError:function(e){Be=!0,Re=e}};function He(e,t,n,i,r,a,o,s,l){Be=!1,Re=null,ze.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return We(r),e;if(o===i)return We(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var Ve=r.unstable_scheduleCallback,Je=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,$e=r.unstable_requestPaint,Ye=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Xe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~r;0!==s?i=ut(s):0!==(a&=o)&&(i=ut(a))}else 0!==(o=n&~r)?i=ut(o):0!==a&&(i=ut(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,Ct,St,It=!1,jt=[],Tt=null,Et=null,Pt=null,Nt=new Map,Lt=new Map,Mt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Bt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Rt(e){var t=vr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Ot(e,t,n){Dt(e)&&n.delete(t)}function Ft(){It=!1,null!==Tt&&Dt(Tt)&&(Tt=null),null!==Et&&Dt(Et)&&(Et=null),null!==Pt&&Dt(Pt)&&(Pt=null),Nt.forEach(Ot),Lt.forEach(Ot)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Ht(t,e)}if(0<jt.length){Ht(jt[0],e);for(var n=1;n<jt.length;n++){var i=jt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==Et&&Ht(Et,e),null!==Pt&&Ht(Pt,e),Nt.forEach(t),Lt.forEach(t),n=0;n<Mt.length;n++)(i=Mt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Mt.shift()}var Gt=b.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,i){var r=_t,a=Gt.transition;Gt.transition=null;try{_t=1,Vt(e,t,n,i)}finally{_t=r,Gt.transition=a}}function Zt(e,t,n,i){var r=_t,a=Gt.transition;Gt.transition=null;try{_t=4,Vt(e,t,n,i)}finally{_t=r,Gt.transition=a}}function Vt(e,t,n,i){if(Wt){var r=Kt(e,t,n,i);if(null===r)Wi(e,t,i,Jt,n),zt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Tt=Bt(Tt,e,t,n,i,r),!0;case"dragenter":return Et=Bt(Et,e,t,n,i,r),!0;case"mouseover":return Pt=Bt(Pt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Nt.set(a,Bt(Nt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Lt.set(a,Bt(Lt.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(zt(e,i),4&t&&-1<At.indexOf(e)){for(;null!==r;){var a=_r(r);if(null!==a&&wt(a),null===(a=Kt(e,t,n,i))&&Wi(e,t,i,Jt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Jt=null;function Kt(e,t,n,i){if(Jt=null,null!==(e=vr(e=we(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,i=n.length,r="value"in Yt?Yt.value:Yt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return Xt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=R({},cn,{view:0,detail:0}),hn=an(un),pn=R({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(pn),mn=an(R({},pn,{dataTransfer:0})),gn=an(R({},un,{relatedTarget:0})),yn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(vn),bn=an(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Cn}var In=R({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=an(In),Tn=an(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(R({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Nn),Mn=[9,13,27,32],An=d&&"CompositionEvent"in window,zn=null;d&&"documentMode"in document&&(zn=document.documentMode);var Bn=d&&"TextEvent"in window&&!zn,Rn=d&&(!An||zn&&8<zn&&11>=zn),Dn=String.fromCharCode(32),On=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function qn(e,t,n,i){Ie(i),0<(t=Zi(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Zn=null,Vn=null;function Jn(e){Di(e,0)}function Kn(e){if(V(br(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(d){var Qn;if(d){var Xn="oninput"in document;if(!Xn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Xn="function"===typeof ei.oninput}Qn=Xn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function ti(){Zn&&(Zn.detachEvent("onpropertychange",ni),Vn=Zn=null)}function ni(e){if("value"===e.propertyName&&Kn(Vn)){var t=[];qn(t,Vn,e,we(e)),Ne(Jn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Vn=n,(Zn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Vn)}function ai(e,t){if("click"===e)return Kn(t)}function oi(e,t){if("input"===e||"change"===e)return Kn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!u.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=di(n,a);var o=di(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=d&&"documentMode"in document&&11>=document.documentMode,gi=null,yi=null,vi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==gi||gi!==J(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=Zi(yi,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ki={},Ci={};function Si(e){if(ki[e])return ki[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ci)return ki[e]=n[t];return e}d&&(Ci=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ii=Si("animationend"),ji=Si("animationiteration"),Ti=Si("animationstart"),Ei=Si("transitionend"),Pi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){Pi.set(e,t),l(t,[e])}for(var Mi=0;Mi<Ni.length;Mi++){var Ai=Ni[Mi];Li(Ai.toLowerCase(),"on"+(Ai[0].toUpperCase()+Ai.slice(1)))}Li(Ii,"onAnimationEnd"),Li(ji,"onAnimationIteration"),Li(Ti,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Ei,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bi=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Ri(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,l,c){if(He.apply(this,arguments),Be){if(!Be)throw Error(a(198));var d=Re;Be=!1,Re=null,De||(De=!0,Oe=d)}}(i,t,void 0,e),e.currentTarget=null}function Di(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;Ri(r,s,c),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;Ri(r,s,c),a=l}}}if(De)throw e=Oe,De=!1,Oe=null,e}function Oi(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Gi(t,e,2,!1),n.add(i))}function Fi(e,t,n){var i=0;t&&(i|=4),Gi(n,e,i,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Hi]){e[Hi]=!0,o.forEach((function(t){"selectionchange"!==t&&(Bi.has(t)||Fi(t,!1,e),Fi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hi]||(t[Hi]=!0,Fi("selectionchange",!1,t))}}function Gi(e,t,n,i){switch($t(t)){case 1:var r=qt;break;case 4:r=Zt;break;default:r=Vt}n=r.bind(null,t,n,e),r=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=vr(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue e}s=s.parentNode}}i=i.return}Ne((function(){var i=a,r=we(n),o=[];e:{var s=Pi.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Ii:case ji:case Ti:l=yn;break;case Ei:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==s?s+"Capture":null:s;d=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Le(f,h))&&d.push(qi(f,m,p)))),u)break;f=f.return}0<d.length&&(s=new l(s,c,null,n,r),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?s:br(l),p=null==c?s:br(c),(s=new d(m,f+"leave",l,n,r)).target=u,s.relatedTarget=p,m=null,vr(r)===i&&((d=new d(h,f+"enter",c,n,r)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,f=0,p=d=l;p;p=Vi(p))f++;for(p=0,m=h;m;m=Vi(m))p++;for(;0<f-p;)d=Vi(d),f--;for(;0<p-f;)h=Vi(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Vi(d),h=Vi(h)}d=null}else d=null;null!==l&&Ji(o,s,l,d,!1),null!==c&&null!==u&&Ji(o,u,c,d,!0)}if("select"===(l=(s=i?br(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$n;else if(Wn(s))if(Yn)g=oi;else{g=ri;var y=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ai);switch(g&&(g=g(e,i))?qn(o,g,n,r):(y&&y(e,s,i),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=i?br(i):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gi=y,yi=i,vi=null);break;case"focusout":vi=yi=gi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(o,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":bi(o,n,r)}var v;if(An)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Un?Fn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Rn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==_?"onCompositionEnd"===_&&Un&&(v=en()):(Qt="value"in(Yt=r)?Yt.value:Yt.textContent,Un=!0)),0<(y=Zi(i,_)).length&&(_=new bn(_,e,null,n,r),o.push({event:_,listeners:y}),v?_.data=v:null!==(v=Hn(n))&&(_.data=v))),(v=Bn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(On=!0,Dn);case"textInput":return(e=t.data)===Dn&&On?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!An&&Fn(e,t)?(e=en(),Xt=Qt=Yt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Zi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=v))}Di(o,t)}))}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Le(e,n))&&i.unshift(qi(e,a,r)),null!=(a=Le(e,t))&&i.push(qi(e,a,r))),e=e.return}return i}function Vi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ji(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Le(n,a))&&o.unshift(qi(n,l,s)):r||null!=(l=Le(n,a))&&o.push(qi(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Ki=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Yi(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace($i,"")}function Qi(e,t,n){if(t=Yi(t),Yi(e)!==t&&n)throw Error(a(425))}function Xi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ut(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),hr="__reactFiber$"+ur,pr="__reactProps$"+ur,fr="__reactContainer$"+ur,mr="__reactEvents$"+ur,gr="__reactListeners$"+ur,yr="__reactHandles$"+ur;function vr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[hr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wr(e){return e[pr]||null}var xr=[],kr=-1;function Cr(e){return{current:e}}function Sr(e){0>kr||(e.current=xr[kr],xr[kr]=null,kr--)}function Ir(e,t){kr++,xr[kr]=e.current,e.current=t}var jr={},Tr=Cr(jr),Er=Cr(!1),Pr=jr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return jr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Lr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mr(){Sr(Er),Sr(Tr)}function Ar(e,t,n){if(Tr.current!==jr)throw Error(a(168));Ir(Tr,t),Ir(Er,n)}function zr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,G(e)||"Unknown",r));return R({},n,i)}function Br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Pr=Tr.current,Ir(Tr,e),Ir(Er,Er.current),!0}function Rr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=zr(e,t,Pr),i.__reactInternalMemoizedMergedChildContext=e,Sr(Er),Sr(Tr),Ir(Tr,e)):Sr(Er),Ir(Er,n)}var Dr=null,Or=!1,Fr=!1;function Hr(e){null===Dr?Dr=[e]:Dr.push(e)}function Ur(){if(!Fr&&null!==Dr){Fr=!0;var e=0,t=_t;try{var n=Dr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Dr=null,Or=!1}catch(r){throw null!==Dr&&(Dr=Dr.slice(e+1)),Ve(Xe,Ur),r}finally{_t=t,Fr=!1}}return null}var Gr=[],Wr=0,qr=null,Zr=0,Vr=[],Jr=0,Kr=null,$r=1,Yr="";function Qr(e,t){Gr[Wr++]=Zr,Gr[Wr++]=qr,qr=e,Zr=t}function Xr(e,t,n){Vr[Jr++]=$r,Vr[Jr++]=Yr,Vr[Jr++]=Kr,Kr=e;var i=$r;e=Yr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var a=32-ot(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,$r=1<<32-ot(t)+r|n<<r|i,Yr=a+e}else $r=1<<a|n<<r|i,Yr=e}function ea(e){null!==e.return&&(Qr(e,1),Xr(e,1,0))}function ta(e){for(;e===qr;)qr=Gr[--Wr],Gr[Wr]=null,Zr=Gr[--Wr],Gr[Wr]=null;for(;e===Kr;)Kr=Vr[--Jr],Vr[Jr]=null,Yr=Vr[--Jr],Vr[Jr]=null,$r=Vr[--Jr],Vr[Jr]=null}var na=null,ia=null,ra=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:$r,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ra){var t=ia;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=cr(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!ra)return da(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=cr(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?cr(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=cr(e.nextSibling)}function pa(){ia=na=null,ra=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function _a(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Rc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===k?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&va(a)===t.type)?((i=r(t,n.props)).ref=ga(e,t,n),i.return=e,i):((i=Ac(n.type,n.key,n.props,null,e.mode,i)).ref=ga(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,i,a){return null===t||7!==t.tag?((t=zc(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case x:return(t=Dc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=zc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,i):null;case x:return n.key===r?d(e,t,n,i):null;case L:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||z(n))return null!==r?null:u(e,t,n,i,null);ya(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r);case L:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||z(i))return u(t,e=e.get(n)||null,i,r,null);ya(t,i)}return null}function m(r,a,s,l){for(var c=null,d=null,u=a,m=a=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var y=p(r,u,s[m],l);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(r,u),a=o(y,a,m),null===d?c=y:d.sibling=y,d=y,u=g}if(m===s.length)return n(r,u),ra&&Qr(r,m),c;if(null===u){for(;m<s.length;m++)null!==(u=h(r,s[m],l))&&(a=o(u,a,m),null===d?c=u:d.sibling=u,d=u);return ra&&Qr(r,m),c}for(u=i(r,u);m<s.length;m++)null!==(g=f(u,r,m,s[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),a=o(g,a,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(r,e)})),ra&&Qr(r,m),c}function g(r,s,l,c){var d=z(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=p(r,m,v.value,c);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(r,m),s=o(_,s,g),null===u?d=_:u.sibling=_,u=_,m=y}if(v.done)return n(r,m),ra&&Qr(r,g),d;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(r,v.value,c))&&(s=o(v,s,g),null===u?d=v:u.sibling=v,u=v);return ra&&Qr(r,g),d}for(m=i(r,m);!v.done;g++,v=l.next())null!==(v=f(m,r,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===u?d=v:u.sibling=v,u=v);return e&&m.forEach((function(e){return t(r,e)})),ra&&Qr(r,g),d}return function e(i,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,d=a;null!==d;){if(d.key===c){if((c=o.type)===k){if(7===d.tag){n(i,d.sibling),(a=r(d,o.props.children)).return=i,i=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&va(c)===d.type){n(i,d.sibling),(a=r(d,o.props)).ref=ga(i,d,o),a.return=i,i=a;break e}n(i,d);break}t(i,d),d=d.sibling}o.type===k?((a=zc(o.props.children,i.mode,l,o.key)).return=i,i=a):((l=Ac(o.type,o.key,o.props,null,i.mode,l)).ref=ga(i,a,o),l.return=i,i=l)}return s(i);case x:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Dc(o,i.mode,l)).return=i,i=a}return s(i);case L:return e(i,a,(d=o._init)(o._payload),l)}if(te(o))return m(i,a,o,l);if(z(o))return g(i,a,o,l);ya(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=Rc(o,i.mode,l)).return=i,i=a),s(i)):n(i,a)}}var ba=_a(!0),wa=_a(!1),xa=Cr(null),ka=null,Ca=null,Sa=null;function Ia(){Sa=Ca=ka=null}function ja(e){var t=xa.current;Sr(xa),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ka=e,Sa=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===ka)throw Error(a(308));Ca=e,ka.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Na=null;function La(e){null===Na?Na=[e]:Na.push(e)}function Ma(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,La(t)):(n.next=r.next,r.next=n),t.interleaved=n,Aa(e,i)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var za=!1;function Ba(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Tl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Aa(e,n)}return null===(r=i.interleaved)?(t.next=t,La(i)):(t.next=r.next,r.next=t),i.interleaved=t,Aa(e,n)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ha(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,i){var r=e.updateQueue;za=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=r.baseState;for(o=0,d=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,u,h):f)||void 0===h)break e;u=R({},u,h);break e;case 2:za=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,o|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Bl|=o,e.lanes=o,e.memoizedState=u}}function Ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var Wa={},qa=Cr(Wa),Za=Cr(Wa),Va=Cr(Wa);function Ja(e){if(e===Wa)throw Error(a(174));return e}function Ka(e,t){switch(Ir(Va,t),Ir(Za,e),Ir(qa,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(qa),Ir(qa,t)}function $a(){Sr(qa),Sr(Za),Sr(Va)}function Ya(e){Ja(Va.current);var t=Ja(qa.current),n=le(t,e.type);t!==n&&(Ir(Za,e),Ir(qa,n))}function Qa(e){Za.current===e&&(Sr(qa),Sr(Za))}var Xa=Cr(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var io=b.ReactCurrentDispatcher,ro=b.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function go(e,t,n,i,r,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Xo:es,e=n(i,r),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,io.current=ts,e=n(i,r)}while(uo)}if(io.current=Qo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=so,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=s=null,c=null,d=o;do{var u=d.lane;if((ao&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,s=i):c=c.next=h,oo.lanes|=u,Bl|=u}d=d.next}while(null!==d&&d!==o);null===c?s=i:c.next=l,si(i,t.memoizedState)||(_s=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,Bl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);si(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ko(){}function Co(e,t){var n=oo,i=_o(),r=t(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,_s=!0),i=i.queue,Bo(jo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,Io.bind(null,n,i,r,t),void 0,null),null===El)throw Error(a(349));0!==(30&ao)||So(n,t,r)}return r}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,i){t.value=n,t.getSnapshot=i,To(t)&&Eo(e)}function jo(e,t,n){return n((function(){To(t)&&Eo(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Eo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,i){var r=vo();oo.flags|=e,r.memoizedState=No(1|t,n,void 0,void 0===i?null:i)}function Ao(e,t,n,i){var r=_o();i=void 0===i?null:i;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==i&&mo(i,o.deps))return void(r.memoizedState=No(t,n,a,i))}oo.flags|=e,r.memoizedState=No(1|t,n,a,i)}function zo(e,t){return Mo(8390656,8,e,t)}function Bo(e,t){return Ao(2048,8,e,t)}function Ro(e,t){return Ao(4,2,e,t)}function Do(e,t){return Ao(4,4,e,t)}function Oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4,4,Oo.bind(null,t,e),n)}function Ho(){}function Uo(e,t){var n=_o();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(si(n,t)||(n=mt(),oo.lanes|=n,Bl|=n,e.baseState=!0),t)}function qo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=ro.transition;ro.transition={};try{e(!1),t()}finally{_t=n,ro.transition=i}}function Zo(){return _o().memoizedState}function Vo(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ko(e))$o(t,n);else if(null!==(n=Ma(e,t,n,i))){nc(n,e,i,ec()),Yo(n,t,i)}}function Jo(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))$o(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,o)){var l=t.interleaved;return null===l?(r.next=r,La(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ma(e,t,r,i))&&(nc(n,e,i,r=ec()),Yo(n,t,i))}}function Ko(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function $o(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qo={readContext:Pa,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Xo={readContext:Pa,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Vo.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Po,useDebugValue:Ho,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,r=vo();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===El)throw Error(a(349));0!==(30&ao)||So(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,zo(jo.bind(null,i,o,e),[e]),i.flags|=2048,No(9,Io.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=El.identifierPrefix;if(ra){var n=Yr;t=":"+t+"R"+(n=($r&~(1<<32-ot($r)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pa,useCallback:Uo,useContext:Pa,useEffect:Bo,useImperativeHandle:Fo,useInsertionEffect:Ro,useLayoutEffect:Do,useMemo:Go,useReducer:wo,useRef:Lo,useState:function(){return wo(bo)},useDebugValue:Ho,useDeferredValue:function(e){return Wo(_o(),so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:Co,useId:Zo,unstable_isNewReconciler:!1},ts={readContext:Pa,useCallback:Uo,useContext:Pa,useEffect:Bo,useImperativeHandle:Fo,useInsertionEffect:Ro,useLayoutEffect:Do,useMemo:Go,useReducer:xo,useRef:Lo,useState:function(){return xo(bo)},useDebugValue:Ho,useDeferredValue:function(e){var t=_o();return null===so?t.memoizedState=e:Wo(t,so.memoizedState,e)},useTransition:function(){return[xo(bo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:Co,useId:Zo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),a=Da(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,r))&&(nc(t,e,r,i),Fa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),a=Da(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,r))&&(nc(t,e,r,i),Fa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=Da(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Oa(e,r,i))&&(nc(t,e,i,n),Fa(t,e,i))}};function as(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function os(e,t,n){var i=!1,r=jr,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(r=Lr(t)?Pr:Tr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Nr(e,r):jr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ba(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Pa(a):(a=Lr(t)?Pr:Tr.current,r.context=Nr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(is(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),Ua(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",i=t;do{n+=H(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,ql=i),us(0,t)},n}function fs(e,t,n){(n=Da(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){us(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof i&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vs=b.ReactCurrentOwner,_s=!1;function bs(e,t,n,i){t.child=null===e?wa(t,null,n,i):ba(t,e.child,n,i)}function ws(e,t,n,i,r){n=n.render;var a=t.ref;return Ea(t,r),i=go(e,t,n,i,a,r),n=yo(),null===e||_s?(ra&&n&&ea(t),t.flags|=1,bs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function xs(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Lc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Ws(e,t,r)}return t.flags|=1,(e=Mc(a,i)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(_s=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Ws(e,t,r);0!==(131072&e.flags)&&(_s=!0)}}return Is(e,t,n,i,r)}function Cs(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Ml,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ir(Ml,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Ir(Ml,Ll),Ll|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Ir(Ml,Ll),Ll|=i;return bs(e,t,r,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,i,r){var a=Lr(n)?Pr:Tr.current;return a=Nr(t,a),Ea(t,r),n=go(e,t,n,i,a,r),i=yo(),null===e||_s?(ra&&i&&ea(t),t.flags|=1,bs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function js(e,t,n,i,r){if(Lr(n)){var a=!0;Br(t)}else a=!1;if(Ea(t,r),null===t.stateNode)Gs(e,t),os(t,n,i),ls(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=Nr(t,c=Lr(n)?Pr:Tr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==c)&&ss(t,o,i,c),za=!1;var h=t.memoizedState;o.state=h,Ua(t,i,o,r),l=t.memoizedState,s!==i||h!==l||Er.current||za?("function"===typeof d&&(is(t,n,d,i),l=t.memoizedState),(s=za||as(t,n,s,i,h,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,u=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pa(l):l=Nr(t,l=Lr(n)?Pr:Tr.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==u||h!==l)&&ss(t,o,i,l),za=!1,h=t.memoizedState,o.state=h,Ua(t,i,o,r);var f=t.memoizedState;s!==u||h!==f||Er.current||za?("function"===typeof p&&(is(t,n,p,i),f=t.memoizedState),(c=za||as(t,n,c,i,h,f,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ts(e,t,n,i,a,r)}function Ts(e,t,n,i,r,a){Ss(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Rr(t,n,!1),Ws(e,t,a);i=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,s,a)):bs(e,t,s,a),t.memoizedState=i.state,r&&Rr(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Ar(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ar(0,t.context,!1),Ka(e,t.containerInfo)}function Ps(e,t,n,i,r){return pa(),fa(r),t.flags|=256,bs(e,t,n,i),t.child}var Ns,Ls,Ms,As,zs={dehydrated:null,treeContext:null,retryLane:0};function Bs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,n){var i,r=t.pendingProps,o=Xa.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ir(Xa,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Bc(l,r,0,null),e=zc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Bs(n),t.memoizedState=zs,e):Ds(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,Os(e,t,s,i=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Bc({mode:"visible",children:i.children},r,0,null),(o=zc(o,r,s,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&ba(t,e.child,null,s),t.child.memoizedState=Bs(s),t.memoizedState=zs,o);if(0===(1&t.mode))return Os(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Os(e,t,s,i=ds(o=Error(a(419)),i,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(i=El)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Aa(e,r),nc(i,e,r,-1))}return mc(),Os(e,t,s,i=ds(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ia=cr(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Vr[Jr++]=$r,Vr[Jr++]=Yr,Vr[Jr++]=Kr,$r=e.id,Yr=e.overflow,Kr=t),t=Ds(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(s){s=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=Mc(i,s):(s=zc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Bs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,r}return e=(s=e.child).sibling,r=Mc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ds(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Os(e,t,n,i){return null!==i&&fa(i),ba(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ta(e.return,t,n)}function Hs(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Us(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(bs(e,t,i.children,n),0!==(2&(i=Xa.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ir(Xa,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Hs(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Hs(t,!0,n,null,a);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Vs(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:case 17:return Lr(t.type)&&Mr(),Zs(t),null;case 3:return i=t.stateNode,$a(),Sr(Er),Sr(Tr),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ls(e,t),Zs(t),null;case 5:Qa(t);var r=Ja(Va.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Zs(t),null}if(e=Ja(qa.current),ua(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[hr]=t,i[pr]=o,e=0!==(1&t.mode),n){case"dialog":Oi("cancel",i),Oi("close",i);break;case"iframe":case"object":case"embed":Oi("load",i);break;case"video":case"audio":for(r=0;r<zi.length;r++)Oi(zi[r],i);break;case"source":Oi("error",i);break;case"img":case"image":case"link":Oi("error",i),Oi("load",i);break;case"details":Oi("toggle",i);break;case"input":$(i,o),Oi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Oi("invalid",i);break;case"textarea":re(i,o),Oi("invalid",i)}for(var l in ve(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qi(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qi(i.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Oi("scroll",i)}switch(n){case"input":Z(i),X(i,o,!0);break;case"textarea":Z(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Xi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":Oi("cancel",e),Oi("close",e),r=i;break;case"iframe":case"object":case"embed":Oi("load",e),r=i;break;case"video":case"audio":for(r=0;r<zi.length;r++)Oi(zi[r],e);r=i;break;case"source":Oi("error",e),r=i;break;case"img":case"image":case"link":Oi("error",e),Oi("load",e),r=i;break;case"details":Oi("toggle",e),r=i;break;case"input":$(e,i),r=K(e,i),Oi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=R({},i,{value:void 0}),Oi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Oi("invalid",e)}for(o in ve(n,r),c=r)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?ge(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Oi("scroll",e):null!=d&&_(e,o,d,l))}switch(n){case"input":Z(e),X(e,i,!1);break;case"textarea":Z(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Xi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&null!=t.stateNode)As(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=Ja(Va.current),Ja(qa.current),ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(o=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qi(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return Zs(t),null;case 13:if(Sr(Xa),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=ua(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hr]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xa.current)?0===Al&&(Al=3):mc())),null!==t.updateQueue&&(t.flags|=4),Zs(t),null);case 4:return $a(),Ls(e,t),null===e&&Ui(t.stateNode.containerInfo),Zs(t),null;case 10:return ja(t.type._context),Zs(t),null;case 19:if(Sr(Xa),null===(o=t.memoizedState))return Zs(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)qs(o,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qs(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ir(Xa,1&Xa.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Ul&&(t.flags|=128,i=!0,qs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ra)return Zs(t),null}else 2*Ye()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,i=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Xa.current,Ir(Xa,i?1&n|2:1&n),t):(Zs(t),null);case 22:case 23:return uc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Zs(t),6&t.subtreeFlags&&(t.flags|=8192)):Zs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Js(e,t){switch(ta(t),t.tag){case 1:return Lr(t.type)&&Mr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),Sr(Er),Sr(Tr),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(Sr(Xa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Xa),null;case 4:return $a(),null;case 10:return ja(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Ms=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Ja(qa.current);var a,o=null;switch(n){case"input":r=K(e,r),i=K(e,i),o=[];break;case"select":r=R({},r,{value:void 0}),i=R({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Xi)}for(d in ve(n,i),n=null,r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=r?r[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Oi("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},As=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ks=!1,$s=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Cc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Cc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,n,a)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[mr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:$s||Xs(n,t);case 6:var i=dl,r=ul;dl=null,hl(e,t,n),ul=r,null!==(dl=i)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ut(e)):lr(dl,n.stateNode));break;case 4:i=dl,r=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=i,ul=r;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!$s&&(Xs(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Cc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($s=(i=$s)||null!==n.memoizedState,hl(e,t,n),$s=i):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var i=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(o,s,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Cc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&i&&null!==n&&Xs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&i&&null!==n&&Xs(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){Cc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(r,o),_e(l,s);var d=_e(l,o);for(s=0;s<c.length;s+=2){var u=c[s],h=c[s+1];"style"===u?ge(r,h):"dangerouslySetInnerHTML"===u?ue(r,h):"children"===u?he(r,h):_(r,u,h,d)}switch(l){case"input":Q(r,o);break;case"textarea":ae(r,o);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(r,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[pr]=o}catch(g){Cc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(g){Cc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Hl=Ye())),4&i&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?($s=(d=$s)||u,ml(t,e),$s=d):ml(t,e),yl(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qs=e,u=e.child;null!==u;){for(h=Qs=u;null!==Qs;){switch(f=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Xs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(i,n,g)}}break;case 5:Xs(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Qs=f):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{r=h.stateNode,d?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&i&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),cl(e,sl(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,_l(e,t,n)}function _l(e,t,n){for(var i=0!==(1&e.mode);null!==Qs;){var r=Qs,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ks;if(!o){var s=r.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Ks;var c=$s;if(Ks=o,($s=l)&&!c)for(Qs=r;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?xl(r):null!==l?(l.return=o,Qs=l):xl(r);for(;null!==a;)Qs=a,_l(a,t,n),a=a.sibling;Qs=r,Ks=s,$s=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Qs=a):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!$s)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ga(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ga(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&rl(t)}catch(p){Cc(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Cc(t,r,l)}}var a=t.return;try{rl(t)}catch(l){Cc(t,a,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){Cc(t,o,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var kl,Cl=Math.ceil,Sl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,jl=b.ReactCurrentBatchConfig,Tl=0,El=null,Pl=null,Nl=0,Ll=0,Ml=Cr(0),Al=0,zl=null,Bl=0,Rl=0,Dl=0,Ol=null,Fl=null,Hl=0,Ul=1/0,Gl=null,Wl=!1,ql=null,Zl=null,Vl=!1,Jl=null,Kl=0,$l=0,Yl=null,Ql=-1,Xl=0;function ec(){return 0!==(6&Tl)?Ye():-1!==Ql?Ql:Ql=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Nl?Nl&-Nl:null!==ma.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,i){if(50<$l)throw $l=0,Yl=null,Error(a(185));yt(e,n,i),0!==(2&Tl)&&e===El||(e===El&&(0===(2&Tl)&&(Rl|=n),4===Al&&sc(e,Nl)),ic(e,i),1===n&&0===Tl&&0===(1&t.mode)&&(Ul=Ye()+500,Or&&Ur()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=r[o];-1===l?0!==(s&n)&&0===(s&i)||(r[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var i=ht(e,e===El?Nl:0);if(0===i)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Or=!0,Hr(e)}(lc.bind(null,e)):Hr(lc.bind(null,e)),or((function(){0===(6&Tl)&&Ur()})),n=null;else{switch(bt(i)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ec(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ql=-1,Xl=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var i=ht(e,e===El?Nl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gc(e,i);else{t=i;var r=Tl;Tl|=2;var o=fc();for(El===e&&Nl===t||(Gl=null,Ul=Ye()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ia(),Sl.current=o,Tl=r,null!==Pl?t=0:(El=null,Nl=0,t=Al)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ac(e,r))),1===t)throw n=zl,hc(e,0),sc(e,i),ic(e,Ye()),n;if(6===t)sc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!si(a(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,i))&&(0!==(o=ft(e))&&(i=o,t=ac(e,o))),1===t))throw n=zl,hc(e,0),sc(e,i),ic(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Fl,Gl);break;case 3:if(sc(e,i),(130023424&i)===i&&10<(t=Hl+500-Ye())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,Fl,Gl),t);break}wc(e,Fl,Gl);break;case 4:if(sc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-ot(i);o=1<<s,(s=t[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=Ye()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Cl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,Fl,Gl),i);break}wc(e,Fl,Gl);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Ol;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&oc(t)),e}function oc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Dl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Tl))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=zl,hc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fl,Gl),ic(e,Ye()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=Ye()+500,Or&&Ur())}}function dc(e){null!==Jl&&0===Jl.tag&&0===(6&Tl)&&xc();var t=Tl;Tl|=1;var n=jl.transition,i=_t;try{if(jl.transition=null,_t=1,e)return e()}finally{_t=i,jl.transition=n,0===(6&(Tl=t))&&Ur()}}function uc(){Ll=Ml.current,Sr(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Mr();break;case 3:$a(),Sr(Er),Sr(Tr),no();break;case 5:Qa(i);break;case 4:$a();break;case 13:case 19:Sr(Xa);break;case 10:ja(i.type._context);break;case 22:case 23:uc()}n=n.return}if(El=e,Pl=e=Mc(e.current,null),Nl=Ll=t,Al=0,zl=null,Dl=Rl=Bl=0,Fl=Ol=null,null!==Na){for(t=0;t<Na.length;t++)if(null!==(i=(n=Na[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}Na=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Ia(),io.current=Qo,co){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,Il.current=null,null===n||null===n.return){Al=1,zl=t,Pl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&ms(o,d,t),c=d;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,d,t),mc();break e}c=Error(a(426))}else if(ra&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),fa(cs(c,l));break e}}o=c=cs(c,l),4!==Al&&(Al=2),null===Ol?Ol=[o]:Ol.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ha(o,ps(0,c,t));break e;case 1:l=c;var v=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Zl||!Zl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ha(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Qo,null===e?Qo:e}function mc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===El||0===(268435455&Bl)&&0===(268435455&Rl)||sc(El,Nl)}function gc(e,t){var n=Tl;Tl|=2;var i=fc();for(El===e&&Nl===t||(Gl=null,hc(e,t));;)try{yc();break}catch(r){pc(e,r)}if(Ia(),Tl=n,Sl.current=i,null!==Pl)throw Error(a(261));return El=null,Nl=0,Al}function yc(){for(;null!==Pl;)_c(Pl)}function vc(){for(;null!==Pl&&!Ke();)_c(Pl)}function _c(e){var t=kl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Il.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vs(n,t,Ll)))return void(Pl=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function wc(e,t,n){var i=_t,r=jl.transition;try{jl.transition=null,_t=1,function(e,t,n,i){do{xc()}while(null!==Jl);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,o),e===El&&(Pl=El=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vl||(Vl=!0,Ec(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=jl.transition,jl.transition=null;var s=_t;_t=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(er=Wt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==o||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===r&&(l=s),p===o&&++u===i&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),fi(tr),Wt=!!er,tr=er=null,e.current=n,vl(n,e,r),$e(),Tl=l,_t=s,jl.transition=o}else e.current=n;if(Vl&&(Vl=!1,Jl=e,Kl=r),o=e.pendingLanes,0===o&&(Zl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Kl)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Yl?$l++:($l=0,Yl=e):$l=0,Ur()}(e,t,n,i)}finally{jl.transition=r,_t=i}return null}function xc(){if(null!==Jl){var e=bt(Kl),t=jl.transition,n=_t;try{if(jl.transition=null,_t=16>e?16:e,null===Jl)var i=!1;else{if(e=Jl,Jl=null,Kl=0,0!==(6&Tl))throw Error(a(331));var r=Tl;for(Tl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qs=d;null!==Qs;){var u=Qs;switch(u.tag){case 0:case 11:case 15:nl(8,u,o)}var h=u.child;if(null!==h)h.return=u,Qs=h;else for(;null!==Qs;){var p=(u=Qs).sibling,f=u.return;if(al(u),u===d){Qs=null;break}if(null!==p){p.return=f,Qs=p;break}Qs=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qs=v;break e}Qs=o.return}}var _=e.current;for(Qs=_;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=_;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){Cc(l,l.return,x)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Tl=r,Ur(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{_t=n,jl.transition=t}}return!1}function kc(e,t,n){e=Oa(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Zl||!Zl.has(i))){t=Oa(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Nl&n)===n&&(4===Al||3===Al&&(130023424&Nl)===Nl&&500>Ye()-Hl?hc(e,0):Dl|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Ic(e,n)}function Ec(e,t){return Ve(e,t)}function Pc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,i){return new Pc(e,t,n,i)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Lc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return zc(n.children,r,o,t);case C:s=8,r|=8;break;case S:return(e=Nc(12,n,t,2|r)).elementType=S,e.lanes=o,e;case E:return(e=Nc(13,n,t,r)).elementType=E,e.lanes=o,e;case P:return(e=Nc(19,n,t,r)).elementType=P,e.lanes=o,e;case M:return Bc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case j:s=9;break e;case T:s=11;break e;case N:s=14;break e;case L:s=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function zc(e,t,n,i){return(e=Nc(7,e,i,t)).lanes=n,e}function Bc(e,t,n,i){return(e=Nc(22,e,i,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,i,r,a,o,s,l){return e=new Oc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ba(a),e}function Hc(e){if(!e)return jr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Lr(n))return zr(e,n,t)}return t}function Uc(e,t,n,i,r,a,o,s,l){return(e=Fc(n,i,!0,e,0,a,0,s,l)).context=Hc(null),n=e.current,(a=Da(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,r),e.current.lanes=r,yt(e,r,i),ic(e,i),e}function Gc(e,t,n,i){var r=t.current,a=ec(),o=tc(r);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Oa(r,t,o))&&(nc(e,r,o,a),Fa(e,r,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Er.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Es(t),pa();break;case 5:Ya(t);break;case 1:Lr(t.type)&&Br(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Ir(xa,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Ir(Xa,1&Xa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(Ir(Xa,1&Xa.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ir(Xa,1&Xa.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Us(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ir(Xa,Xa.current),i)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Ws(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ra&&0!==(1048576&t.flags)&&Xr(t,Zr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Gs(e,t),e=t.pendingProps;var r=Nr(t,Tr.current);Ea(t,n),r=go(null,t,i,e,r,n);var o=yo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(i)?(o=!0,Br(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ba(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,ls(t,i,e,n),t=Ts(null,t,i,!0,o,n)):(t.tag=0,ra&&o&&ea(t),bs(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(i),e=ns(i,e),r){case 0:t=Is(null,t,i,e,n);break e;case 1:t=js(null,t,i,e,n);break e;case 11:t=ws(null,t,i,e,n);break e;case 14:t=xs(null,t,i,ns(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Is(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 1:return i=t.type,r=t.pendingProps,js(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 3:e:{if(Es(t),null===e)throw Error(a(387));i=t.pendingProps,r=(o=t.memoizedState).element,Ra(e,t),Ua(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,i,n,r=cs(Error(a(423)),t));break e}if(i!==r){t=Ps(e,t,i,n,r=cs(Error(a(424)),t));break e}for(ia=cr(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=wa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===r){t=Ws(e,t,n);break e}bs(e,t,i,n)}t=t.child}return t;case 5:return Ya(t),null===e&&ca(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==o&&nr(i,o)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Rs(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ba(t,null,i,n):bs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ws(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,Ir(xa,i._currentValue),i._currentValue=s,null!==o)if(si(o.value,s)){if(o.children===r.children&&!Er.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ta(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ta(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ea(t,n),i=i(r=Pa(r)),t.flags|=1,bs(e,t,i,n),t.child;case 14:return r=ns(i=t.type,t.pendingProps),xs(e,t,i,r=ns(i.type,r),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ns(i,r),Gs(e,t),t.tag=1,Lr(i)?(e=!0,Br(t)):e=!1,Ea(t,n),os(t,i,r),ls(t,i,r,n),Ts(null,t,i,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}Gc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}var o=Uc(t,i,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[fr]=o.current,Ui(8===e.nodeType?e.parentNode:e),dc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Wc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fr]=l.current,Ui(8===e.nodeType?e.parentNode:e),dc((function(){Gc(t,l,n,i)})),l}(n,t,e,r,i);return Wc(o)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Gc(null,e,null,null)})),t[fr]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Ye()),0===(6&Tl)&&(Ul=Ye()+500,Ur()))}break;case 13:dc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Zc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Zc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Zc(e,t)}},Ct=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=wr(i);if(!r)throw Error(a(90));V(i),Q(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[_r,br,wr,Ie,je,cc]},td={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{rt=id.inject(nd),at=id}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,i="",r=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=Vc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,r,0,o,s),e[fr]=t.current,Ui(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Kc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},2771:(e,t,n)=>{"use strict";n.r(t),n.d(t,{events:()=>i});const i=[]},3030:(e,t,n)=>{"use strict";n.r(t),n.d(t,{book:()=>f});var i=n(1549),r=n(1852),a=n(2645),o=n(2266),s=n(4926),l=n(8442),c=n(6686),d=n(9434),u=n(4282),h=n(6038);const p=(0,n(141).deriveRelationshipsFromCharacters)(r.characters,l.chapters),f={bookMetadata:i.bookMetadata,characters:r.characters,events:a.events,locations:o.locations,objects:s.objects,relationships:p,chapters:l.chapters,mysteryElements:c.mysteryElements,themeElements:d.themeElements,spycraftEntries:u.spycraftEntries,locationPositions:h.locationPositions,eventPositions:h.eventPositions,characterPositions:h.characterPositions,objectPositions:h.objectPositions,mapBoundaries:h.mapBoundaries}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{spycraftEntries:()=>i});const i=[{id:"recruitment_techniques",title:"Recruitment Techniques",description:"Methods used by British intelligence to recruit and assess potential assets for intelligence work.",category:"Recruitment",introducedInChapter:"chapter_01",examples:["Assessment of social background and connections","Testing of loyalty and discretion","Gradual revelation of true identities","Establishment of handler-asset relationship"],significance:"Shows how intelligence services identify and recruit suitable candidates",techniques:["Background investigation","Social observation","Trust building","Identity revelation","Role explanation"]},{id:"disguise_and_aliases",title:"Disguise and Aliases",description:"Techniques used by both British intelligence and Nazi agents to conceal their true identities.",category:"Identity Concealment",introducedInChapter:"chapter_01",examples:["Hannah Park as Miss Gilchrist","Bill Lawrie as Mr Newton","Sir John Davies as Young","Woman disguised as postman"],significance:"Demonstrates the importance of identity concealment in intelligence operations",techniques:["Name changes","Appearance modification","Role playing","Cover stories","Costume and props"]},{id:"surveillance_operations",title:"Surveillance Operations",description:"Methods used by British intelligence to monitor suspects and gather intelligence.",category:"Intelligence Gathering",introducedInChapter:"chapter_09",examples:["Village surveillance teams","Movement tracking","Behavior pattern observation","Cover stories for surveillance"],significance:"Shows the comprehensive nature of intelligence surveillance operations",techniques:["Static observation posts","Mobile surveillance","Cover stories","Behavior analysis","Pattern recognition"]},{id:"double_agent_operations",title:"Double Agent Operations",description:"Techniques for running double agents within enemy networks to gather intelligence.",category:"Infiltration",introducedInChapter:"chapter_16",examples:["Louise Harrington as double agent","Information flow management","Risk assessment","Handler-agent relationship"],significance:"Demonstrates the value and complexity of double agent operations",techniques:["Agent recruitment","Handler management","Information validation","Risk management","Operational security"]},{id:"case_switching_techniques",title:"Case Switching Techniques",description:"Operational methods used to confuse surveillance and transport materials covertly.",category:"Operational Security",introducedInChapter:"chapter_12",examples:["Box Tunnel case switching","Timing coordination","Surveillance confusion","Material transport"],significance:"Shows sophisticated operational techniques to avoid detection",techniques:["Location selection","Timing coordination","Case preparation","Switch execution","Escape planning"]},{id:"financial_intelligence",title:"Financial Intelligence",description:"Methods for tracking and analyzing financial transactions to uncover intelligence networks.",category:"Financial Analysis",introducedInChapter:"chapter_11",examples:["Bank account monitoring","Cheque book analysis","Transaction pattern analysis","Financial institution cooperation"],significance:"Demonstrates how financial trails can reveal intelligence operations",techniques:["Account monitoring","Transaction analysis","Pattern recognition","Institution cooperation","Document analysis"]},{id:"infiltration_methods",title:"Infiltration Methods",description:"Techniques used by German agents to infiltrate the UK and establish operational networks.",category:"Infiltration",introducedInChapter:"preface",examples:["Submarine landing at Scilly Isles","Steamship travel to mainland","Documentation avoidance","Operational establishment"],significance:"Reveals the vulnerability of coastal defenses and infiltration methods",techniques:["Covert landing","Transport exploitation","Identity establishment","Network building","Operational security"]},{id:"assassination_planning",title:"Assassination Planning",description:"Operational planning and execution techniques for high-value target elimination.",category:"Operational Planning",introducedInChapter:"chapter_19",examples:["Target identification","Location scouting","Weapon preparation","Escape planning","Timing coordination"],significance:"Shows the operational planning required for high-risk operations",techniques:["Target research","Location analysis","Weapon training","Timing selection","Escape routes"]},{id:"cover_story_development",title:"Cover Story Development",description:"Creation and maintenance of believable cover stories for intelligence operations.",category:"Identity Management",introducedInChapter:"chapter_01",examples:["Artistic cover for surveillance","Social guest cover for recruitment","Business cover for travel","Domestic cover for operations"],significance:"Demonstrates the importance of believable cover stories",techniques:["Background research","Story consistency","Supporting evidence","Behavior matching","Relationship building"]},{id:"network_analysis",title:"Network Analysis",description:"Methods for mapping and understanding intelligence networks and their connections.",category:"Intelligence Analysis",introducedInChapter:"chapter_15",examples:["Connection mapping","Operational structure analysis","Communication pattern analysis","Threat assessment"],significance:"Shows how intelligence services analyze and understand enemy networks",techniques:["Connection mapping","Pattern analysis","Threat assessment","Operational analysis","Risk evaluation"]},{id:"evidence_collection",title:"Evidence Collection",description:"Techniques for gathering and preserving evidence in intelligence operations.",category:"Evidence Management",introducedInChapter:"chapter_10",examples:["Physical evidence collection","Document analysis","Witness interviews","Forensic analysis"],significance:"Demonstrates the importance of evidence in intelligence operations",techniques:["Scene preservation","Evidence documentation","Chain of custody","Analysis coordination","Storage and security"]},{id:"interrogation_techniques",title:"Interrogation Techniques",description:"Methods for extracting information from captured intelligence subjects.",category:"Information Extraction",introducedInChapter:"chapter_48",examples:["Psychological pressure","Evidence presentation","Relationship exploitation","Information validation"],significance:"Shows how intelligence services extract information from captured subjects",techniques:["Psychological methods","Evidence leverage","Relationship analysis","Information validation","Threat assessment"]},{id:"operational_security",title:"Operational Security",description:"Methods for maintaining security and avoiding detection during intelligence operations.",category:"Security",introducedInChapter:"chapter_08",examples:["Communication security","Movement security","Identity protection","Operational compartmentalization"],significance:"Demonstrates the importance of operational security in intelligence work",techniques:["Communication protocols","Movement planning","Identity management","Compartmentalization","Threat assessment"]},{id:"escape_planning",title:"Escape Planning",description:"Techniques for planning and executing escapes when intelligence operations are compromised.",category:"Escape Operations",introducedInChapter:"chapter_18",examples:["Pre-planned escape routes","Safe house networks","Transportation arrangements","Operational continuity planning"],significance:"Shows the importance of escape planning in intelligence operations",techniques:["Route planning","Safe house preparation","Transportation coordination","Operational continuity","Risk assessment"]},{id:"intelligence_coordination",title:"Intelligence Coordination",description:"Methods for coordinating intelligence operations between different agencies and teams.",category:"Coordination",introducedInChapter:"chapter_14",examples:["Special Branch coordination","Intelligence service cooperation","Information sharing protocols","Operational coordination"],significance:"Demonstrates the complexity of coordinating intelligence operations",techniques:["Information sharing","Operational coordination","Resource allocation","Risk management","Communication protocols"]},{id:"target_analysis",title:"Target Analysis",description:"Methods for analyzing and selecting targets for intelligence operations.",category:"Target Selection",introducedInChapter:"chapter_39",examples:["Montgomery as assassination target","Target vulnerability assessment","Operational feasibility analysis","Risk-reward evaluation"],significance:"Shows how intelligence services analyze and select operational targets",techniques:["Vulnerability assessment","Operational analysis","Risk evaluation","Timing analysis","Resource assessment"]},{id:"deception_operations",title:"Deception Operations",description:"Techniques for deceiving enemy intelligence and creating false impressions.",category:"Deception",introducedInChapter:"chapter_08",examples:["Suitcase deception","False operational signals","Cover story maintenance","Operational misdirection"],significance:"Demonstrates the use of deception in intelligence operations",techniques:["False information","Operational misdirection","Cover story maintenance","Behavioral deception","Operational security"]},{id:"surveillance_detection",title:"Surveillance Detection",description:"Methods for detecting and avoiding surveillance by enemy intelligence services.",category:"Counter-Surveillance",introducedInChapter:"chapter_37",examples:["Behavior pattern changes","Surveillance testing","Operational timing adjustments","Communication security"],significance:"Shows how intelligence subjects detect and avoid surveillance",techniques:["Behavior analysis","Surveillance testing","Timing adjustments","Communication security","Operational security"]},{id:"intelligence_analysis",title:"Intelligence Analysis",description:"Methods for analyzing and interpreting gathered intelligence to support operations.",category:"Analysis",introducedInChapter:"chapter_30",examples:["Pattern recognition","Threat assessment","Operational analysis","Risk evaluation"],significance:"Demonstrates the analytical process in intelligence operations",techniques:["Pattern analysis","Threat assessment","Operational analysis","Risk evaluation","Information synthesis"]}]},3479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{themeElements:()=>i});const i=[{id:"betrayal_and_loyalty",title:"Betrayal and Loyalty",description:"The complex dynamics of betrayal and loyalty in intelligence operations and personal relationships.",category:"Moral Themes",introducedInChapter:"chapter_01",examples:["Louise Harrington as double agent","Cynthia's loyalty to British intelligence","Network betrayal of Louise","Cynthia's loyalty to her country"],significance:"Explores the moral complexities of intelligence work and the price of loyalty",development:["Initial loyalty to Nazi network","Gradual shift in allegiance","Final betrayal and consequences","Recognition of true loyalty"]},{id:"appearance_vs_reality",title:"Appearance vs. Reality",description:"The contrast between how things appear and their true nature, particularly in intelligence operations.",category:"Deception Themes",introducedInChapter:"chapter_01",examples:["Hannah Park as Miss Gilchrist","Bill Lawrie as Mr Newton","Nazi sympathizers as respectable guests","Cynthia's house as safe house"],significance:"Demonstrates the deceptive nature of intelligence work and social appearances",development:["Initial appearances established","Gradual revelation of true identities","Complete unmasking of deception","Recognition of true nature"]},{id:"social_class_and_intelligence",title:"Social Class and Intelligence",description:"How social class and background influence intelligence operations and recruitment.",category:"Social Themes",introducedInChapter:"chapter_01",examples:["Cynthia's aristocratic background","Social connections for intelligence gathering","Class-based cover stories","Social position as operational advantage"],significance:"Shows how social class can be both an advantage and a liability in intelligence work",development:["Social class as recruitment factor","Class-based operational advantages","Challenges of maintaining cover","Recognition of class limitations"]},{id:"gender_roles_in_intelligence",title:"Gender Roles in Intelligence",description:"The role of gender in intelligence operations and how women contribute to espionage.",category:"Gender Themes",introducedInChapter:"chapter_01",examples:["Cynthia as female intelligence operative","Hannah Park's recruitment role","Louise as double agent","Women in surveillance operations"],significance:"Challenges traditional gender roles and shows women's contributions to intelligence",development:["Traditional gender expectations","Women in intelligence roles","Gender-based operational advantages","Recognition of women's capabilities"]},{id:"war_and_peace",title:"War and Peace",description:"The contrast between peaceful social settings and the reality of wartime intelligence operations.",category:"War Themes",introducedInChapter:"chapter_01",examples:["Peaceful country house settings","Wartime intelligence operations","Social gatherings masking operations","Peaceful appearance hiding violence"],significance:"Shows how war disrupts peaceful social settings and reveals hidden threats",development:["Peaceful pre-war settings","Gradual revelation of wartime reality","Violence in peaceful settings","Recognition of wartime threats"]},{id:"trust_and_deception",title:"Trust and Deception",description:"The delicate balance between trust and deception in intelligence operations.",category:"Moral Themes",introducedInChapter:"chapter_01",examples:["Cynthia's trust in Amy","Deception of Nazi sympathizers","Trust building for recruitment","Deception in operational security"],significance:"Explores the moral complexities of deception in service of greater good",development:["Initial trust established","Gradual revelation of deception","Trust betrayed for intelligence","Recognition of deception's necessity"]},{id:"individual_vs_collective",title:"Individual vs. Collective",description:"The tension between individual actions and collective intelligence operations.",category:"Operational Themes",introducedInChapter:"chapter_01",examples:["Cynthia's individual recruitment","Collective intelligence operations","Individual sacrifice for collective good","Team coordination in operations"],significance:"Shows how individual actions contribute to larger intelligence operations",development:["Individual recruitment","Integration into team operations","Individual sacrifice and contribution","Recognition of collective success"]},{id:"power_and_control",title:"Power and Control",description:"The dynamics of power and control in intelligence operations and social relationships.",category:"Power Themes",introducedInChapter:"chapter_01",examples:["British intelligence control over operations","Nazi network control over members","Social power dynamics","Operational control and authority"],significance:"Explores how power is exercised and resisted in intelligence operations",development:["Initial power imbalances","Gradual shift in power dynamics","Power struggles in operations","Recognition of power structures"]},{id:"isolation_and_connection",title:"Isolation and Connection",description:"The tension between isolation required for security and the need for human connection.",category:"Social Themes",introducedInChapter:"chapter_01",examples:["Cynthia's isolation in intelligence work","Social connections for operations","Isolation for operational security","Connection through shared purpose"],significance:"Shows the personal cost of intelligence work and the importance of human connection",development:["Initial social isolation","Operational connections formed","Isolation for security","Recognition of connection's importance"]},{id:"morality_and_expediency",title:"Morality and Expediency",description:"The conflict between moral principles and the expedient requirements of intelligence operations.",category:"Moral Themes",introducedInChapter:"chapter_01",examples:["Deception of Nazi sympathizers","Use of double agents","Surveillance of suspects","Operational deception"],significance:"Explores the moral compromises required in intelligence work",development:["Initial moral principles","Gradual moral compromises","Recognition of expediency's necessity","Balancing morality and effectiveness"]},{id:"tradition_and_modernity",title:"Tradition and Modernity",description:"The contrast between traditional social structures and modern intelligence methods.",category:"Social Themes",introducedInChapter:"chapter_01",examples:["Traditional country house settings","Modern intelligence techniques","Traditional social roles","Modern operational methods"],significance:"Shows how traditional settings can mask modern intelligence operations",development:["Traditional social settings","Introduction of modern methods","Integration of old and new","Recognition of modernity's necessity"]},{id:"innocence_and_experience",title:"Innocence and Experience",description:"The transformation from innocence to experience in intelligence operations.",category:"Character Themes",introducedInChapter:"chapter_01",examples:["Cynthia's initial innocence","Gradual acquisition of experience","Loss of innocence through operations","Gained wisdom and understanding"],significance:"Shows the personal cost and growth in intelligence work",development:["Initial innocence","Gradual experience acquisition","Loss of innocence","Recognition of gained wisdom"]},{id:"order_and_chaos",title:"Order and Chaos",description:"The tension between maintaining social order and the chaos of intelligence operations.",category:"Operational Themes",introducedInChapter:"chapter_01",examples:["Orderly social gatherings","Chaotic intelligence operations","Orderly surveillance operations","Chaotic operational outcomes"],significance:"Shows how order can mask chaos and vice versa",development:["Initial social order","Gradual revelation of chaos","Attempts to maintain order","Recognition of chaos's reality"]},{id:"loyalty_and_treason",title:"Loyalty and Treason",description:"The complex dynamics of loyalty to country versus loyalty to individuals or groups.",category:"Moral Themes",introducedInChapter:"chapter_01",examples:["Cynthia's loyalty to Britain","Nazi sympathizers' loyalty to Germany","Louise's loyalty shift","Loyalty conflicts in operations"],significance:"Explores the moral complexities of loyalty in wartime",development:["Initial loyalty established","Loyalty conflicts revealed","Loyalty choices made","Recognition of loyalty's complexity"]},{id:"secrecy_and_revelation",title:"Secrecy and Revelation",description:"The tension between maintaining secrecy and the need for revelation in intelligence operations.",category:"Operational Themes",introducedInChapter:"chapter_01",examples:["Secrecy in recruitment","Revelation of true identities","Secrecy in operations","Revelation of network extent"],significance:"Shows how secrecy and revelation are managed in intelligence work",development:["Initial secrecy maintained","Gradual revelation of truth","Balancing secrecy and revelation","Recognition of revelation's necessity"]},{id:"courage_and_fear",title:"Courage and Fear",description:"The interplay between courage and fear in intelligence operations.",category:"Character Themes",introducedInChapter:"chapter_01",examples:["Cynthia's courage in recruitment","Fear of discovery in operations","Courage in confrontation","Fear of consequences"],significance:"Shows how courage and fear motivate actions in intelligence work",development:["Initial fear and uncertainty","Gradual development of courage","Courage tested in operations","Recognition of courage's necessity"]},{id:"justice_and_revenge",title:"Justice and Revenge",description:"The themes of justice and revenge in intelligence operations and their outcomes.",category:"Moral Themes",introducedInChapter:"chapter_21",examples:["Justice for captured conspirators","Revenge killing of Louise","Justice through legal process","Revenge through violence"],significance:"Explores the moral implications of justice and revenge in intelligence work",development:["Initial injustice revealed","Pursuit of justice","Revenge actions taken","Recognition of justice's complexity"]},{id:"sacrifice_and_reward",title:"Sacrifice and Reward",description:"The personal sacrifices made in intelligence work and the rewards received.",category:"Personal Themes",introducedInChapter:"chapter_01",examples:["Cynthia's personal sacrifices","Reward of OBE recognition","Sacrifice of personal safety","Reward of operational success"],significance:"Shows the personal cost and reward of intelligence work",development:["Initial sacrifices made","Gradual recognition of costs","Rewards received","Recognition of sacrifice's value"]},{id:"truth_and_lies",title:"Truth and Lies",description:"The complex relationship between truth and lies in intelligence operations.",category:"Moral Themes",introducedInChapter:"chapter_01",examples:["Lies for operational security","Truth revealed through operations","Lies to maintain cover","Truth about network extent"],significance:"Explores the moral complexities of deception in service of truth",development:["Initial lies for cover","Gradual revelation of truth","Balancing truth and lies","Recognition of truth's importance"]}]},3554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characters:()=>i});const i=[]},3743:(e,t,n)=>{var i={"./MattParry_StitchedUp_v1/chapters.js":6310,"./MattParry_StitchedUp_v1/characters.js":6696,"./MattParry_StitchedUp_v1/events.js":1177,"./MattParry_StitchedUp_v1/index.js":9490,"./MattParry_StitchedUp_v1/locations.js":4182,"./MattParry_StitchedUp_v1/metadata.js":8817,"./MattParry_StitchedUp_v1/mysteryElements.js":130,"./MattParry_StitchedUp_v1/objects.js":1450,"./MattParry_StitchedUp_v1/positions.js":1434,"./MattParry_StitchedUp_v1/relationships.js":2065,"./MattParry_StitchedUp_v1/spycraftEntries.js":14,"./MattParry_StitchedUp_v1/themeElements.js":6214,"./MattParry_StitchedUp_v2/chapters.js":2729,"./MattParry_StitchedUp_v2/characters.js":6079,"./MattParry_StitchedUp_v2/events.js":8798,"./MattParry_StitchedUp_v2/index.js":5559,"./MattParry_StitchedUp_v2/locations.js":8151,"./MattParry_StitchedUp_v2/metadata.js":4218,"./MattParry_StitchedUp_v2/mysteryElements.js":2119,"./MattParry_StitchedUp_v2/objects.js":5687,"./MattParry_StitchedUp_v2/positions.js":6115,"./MattParry_StitchedUp_v2/spycraftEntries.js":3227,"./MattParry_StitchedUp_v2/themeElements.js":3479,"./MattParry_StitchedUp_v2/timeline.js":4860,"./MattParry_StitchedUp_v3/chapters.js":5080,"./MattParry_StitchedUp_v3/characters.js":3554,"./MattParry_StitchedUp_v3/events.js":2771,"./MattParry_StitchedUp_v3/locations.js":4284,"./MattParry_StitchedUp_v3/metadata.js":375,"./MattParry_StitchedUp_v3/mysteryElements.js":1676,"./MattParry_StitchedUp_v3/objects.js":9328,"./MattParry_StitchedUp_v3/positions.js":5576,"./MattParry_StitchedUp_v3/spycraftEntries.js":9972,"./MattParry_StitchedUp_v3/themeElements.js":4224,"./MattParry_StitchedUp_v3/timeline.js":161,"./RobertLouisStevenson_JekyllAndHyde/chapters.js":8442,"./RobertLouisStevenson_JekyllAndHyde/characters.js":1852,"./RobertLouisStevenson_JekyllAndHyde/events.js":2645,"./RobertLouisStevenson_JekyllAndHyde/index.js":3030,"./RobertLouisStevenson_JekyllAndHyde/locations.js":2266,"./RobertLouisStevenson_JekyllAndHyde/metadata.js":1549,"./RobertLouisStevenson_JekyllAndHyde/mysteryElements.js":6686,"./RobertLouisStevenson_JekyllAndHyde/objects.js":4926,"./RobertLouisStevenson_JekyllAndHyde/positions.js":6038,"./RobertLouisStevenson_JekyllAndHyde/spycraftEntries.js":4282,"./RobertLouisStevenson_JekyllAndHyde/themeElements.js":9434,"./index.js":6705};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=3743},4182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locations:()=>i});const i=[{id:"cynthia_house",name:"Cynthia's House",area:"Bucklebury, Berkshire",type:"Country house",features:["Large Georgian country estate","Extensive gardens with flower beds and summerhouse","Tower/studio room originally used by Cynthia's mother for painting, with 360\xb0 views","Multiple entrances including front door, back door, conservatory, and cellar entrance","Cellar with external entrance used for storing wine and plants in winter","Flat roof accessible from tower studio"],significance:["Cynthia's childhood home and permanent residence","Site of two parties gathering Nazi sympathizers for intelligence collection","Location of attempted assassination of Montgomery","Strategic vantage point with view of Bucklebury Common and American camp"],description:"Isolated country house with tower providing view of Bucklebury Common. Surrounded by trees but with clear sight lines in key directions. Multiple entrances and large grounds make it both useful for intelligence gathering and vulnerable to infiltration.",events:[{eventId:"first_party",role:"setting"},{eventId:"second_party",role:"setting"},{eventId:"assassination_attempt",role:"critical_location"}],occupants:[{characterId:"cynthia_childreth",relationship:"owner"},{characterId:"richard_childreth",relationship:"resident"},{characterId:"mary",relationship:"secretary_resident"}],rooms:[{name:"Studio Tower",significance:"Vantage point used for assassination attempt, 360\xb0 views"},{name:"Library/Office",significance:"Where Cynthia conducts business and where suitcase was stored"},{name:"Cellar",significance:"Alternative entrance used during final operation"},{name:"Conservatory",significance:"Used for entertaining during parties"}]},{id:"denleigh_manor",name:"Denleigh Manor",area:"Wiltshire",type:"Country house",features:["Imposing Georgian architecture","Large dining room with highly polished walnut table","Extensive gardens and grounds","Tennis courts and croquet lawn"],significance:["Where Cynthia is recruited for intelligence work","First meeting place of main characters","Gathering point for Nazi sympathizers","Beginning of the operation against fifth columnists"],description:"Elegant country estate owned by Lady Amelia Wyndholme, Cynthia's old school friend. Setting for weekend gatherings of the social elite, including those with Nazi sympathies.",owner:"Amy and Horace Wyndholme",events:[{eventId:"cynthia_recruitment",role:"setting"}],occupants:[{characterId:"amy_wyndholme",relationship:"owner"},{characterId:"horace_wyndholme",relationship:"owner"}]},{id:"hotel_adlon",name:"Hotel Adlon",area:"Berlin, Germany",type:"Luxury hotel",features:["Japanese garden in lobby with bronze water-lily fountain","Bar and restaurant","Marble columns","Multiple lounges and function rooms","Located near Brandenburg Gate"],significance:["Where Richard and Cynthia meet German Nazi sympathizers","Where they briefly see Hitler","Base of operations during Berlin mission","Gateway to German high society"],description:"Opulent, historical hotel built in 1907 in the government quarter near Brandenburg Gate. Frequented by diplomats, wealthy travelers, and Nazi officials. Notable for its luxury and prestige in 1930s Berlin.",events:[{eventId:"berlin_trip",role:"setting"},{eventId:"hitler_sighting",role:"setting"}],proximity:[{locationId:"british_embassy",description:"Next door to hotel"},{locationId:"french_embassy",description:"Directly opposite on Pariser Platz"},{locationId:"reich_chancellery",description:"Short distance away"}]},{id:"churn_ranges",name:"Churn Rifle Ranges",area:"Berkshire Downs",type:"Military facility",features:["Outdoor shooting range with target lines","Basic security consisting of chain-link fence and padlock","Limited supervision","Accessible via dirt track off main road"],significance:["Where the assassins tested the German sniper rifle","Location where 7.92mm shell casing was found","Evidence connecting conspirators to assassination plot"],description:"Army rifle range with poor security, originally a private facility commandeered by British Army. Used mainly on Wednesdays by cadets from local public schools, otherwise lightly used.",events:[{eventId:"rifle_testing",role:"setting"}],accessibility:"Easily accessible by foot from railway at Churn Halt station."},{id:"bucklebury_camp",name:"American Transport Division Camp",area:"Bucklebury Common, Berkshire",type:"Military camp",features:["Temporary military installations","Vehicle depot","Concrete loading areas constructed by American troops","Camouflaged from air observation","Multiple access points"],significance:["Target location for Montgomery's inspection","Planned assassination site","Located near Cynthia's house providing vantage point"],description:"American military camp established on Bucklebury Common, visible from Cynthia's tower. Despite camouflage from air, activities clearly visible from higher ground nearby.",events:[{eventId:"montgomery_visit",role:"setting"}],security:"Basic checkpoint security with portable barrier across access road, but otherwise open terrain."},{id:"scilly_isles",name:"Scilly Isles",area:"Cornwall",type:"Island",significance:["Entry point for German agents","Weakly defended coastal area"],description:"Remote island archipelago off the southwest coast of England."},{id:"crawford_place",name:"Crawford Place Flat",area:"London",type:"Apartment",significance:["Where Edwards was murdered"],description:"Small flat in London where the German agent Edwards was staying."},{id:"felicity_cottage",name:"Felicity's Cottage",area:"Aldworth, Berkshire",type:"Surveillance post",features:["Small cottage with view of village square","Basic amenities (no electricity or gas)","Wood-burning stove","Large bow window for observation"],significance:["Surveillance post for watching Harringtons","Cover location for intelligence operations"],description:"Small, basic cottage rented as surveillance post to observe the Harringtons. Positioned with good view of village activities.",events:[{eventId:"cottage_surveillance",role:"setting"}],occupants:[{characterId:"felicity",relationship:"temporary_resident"}]},{id:"national_gallery",name:"National Gallery",area:"London",type:"Meeting place",features:["Public art gallery","Meeting rooms off main areas","Dame Myra Hess concerts during wartime","Multiple entrances and exits"],significance:["Secure meeting place for intelligence team","Public venue allowing inconspicuous meetings"],description:"Art gallery used as meeting place for intelligence operations. The lunchtime concerts provided cover for meetings.",events:[{eventId:"intelligence_meeting",role:"setting"}]},{id:"blenheim_palace",name:"Blenheim Palace",area:"Woodstock, Oxfordshire",type:"Intelligence headquarters",features:["Historic palace","MI5 wartime location","Secluded and secure grounds"],significance:["Wartime headquarters for MI5 operations","Location of intelligence meeting between George and Bill"],description:"Historic palace serving as MI5 headquarters during part of the war. Location of meeting between George Bennet and Bill Laurie.",events:[{eventId:"intelligence_meeting_blenheim",role:"setting"}]},{id:"the_ritz",name:"The Ritz Hotel",area:"London",type:"Meeting place",features:["Luxury hotel","Palm Court for afternoon tea","Public yet exclusive space"],significance:["Location of meeting between Cynthia and Hannah (disguised)"],description:"Prestigious London hotel used for intelligence meeting between Cynthia and disguised Hannah.",events:[{eventId:"ritz_meeting",role:"setting"}]},{id:"long_boat_inn",name:"Long Boat Inn",area:"Penzance, Cornwall",type:"Accommodation",features:["Inn located opposite Penzance station","Frequented by travelers"],significance:["Where Edwards stays after arriving from Scilly Isles","Where he pays with the distinctive cheque"],description:"Inn near Penzance station where Edwards stays overnight before taking the train to London.",events:[{eventId:"edwards_penzance_stay",role:"setting"}]},{id:"queens_head_pub",name:"The Queen's Head Pub",area:"Near Bucklebury, Berkshire",type:"Meeting place",features:["Country pub","Private meeting space"],significance:["Meeting place for final operation planning"],description:"Country pub where Bill, George and team meet to plan final operation.",events:[{eventId:"final_planning",role:"setting"}]},{id:"reading_hotel",name:"Great Western Hotel",area:"Reading, Berkshire",type:"Accommodation",features:["Hotel opposite Reading station","Sandy colored building"],significance:["Where Davies/Young stays when visiting the area","Where Alison conducts surveillance"],description:"Hotel in Reading where Davies (as Young) stays overnight and where Alison conducts surveillance.",events:[{eventId:"davies_reading_stay",role:"setting"}]},{id:"aldworth_village",name:"Aldworth Village",area:"Berkshire",type:"Village",features:["Small country village","Bell pub","Village shop/post office","Church"],significance:["Home of the Harringtons","Site of surveillance operation","Where Louise dies in gas explosion"],description:"Small Berkshire village where the Harringtons live and where surveillance operations are conducted.",events:[{eventId:"cottage_surveillance",role:"setting"},{eventId:"louise_death",role:"setting"}]},{id:"thames_house",name:"Thames House",area:"London, Millbank",type:"Intelligence headquarters",features:["Former MI5 headquarters","South Block, top floor"],significance:["Meeting location for intelligence team"],description:"Former MI5 headquarters on Millbank, used for meetings between George and Bill.",events:[{eventId:"thames_house_meeting",role:"setting"}]},{id:"croydon_airport",name:"Croydon Airport",area:"London",type:"Transportation hub",features:["First airport with air traffic control","World's only airport hotel on-site","Terminal with wooden benches and multi-paned glass doors","Central hexagonal structure with clocks showing times in various countries"],significance:["Departure point for Richard and Cynthia's Berlin trip","Entry/exit point for international travel","Connection between UK and continental operations"],description:"Modern airport south of London, departure point for flights to Europe including Cynthia and Richard's mission to Berlin.",events:[{eventId:"berlin_departure",role:"setting"}]},{id:"tempelhof_airport",name:"Tempelhof Airport",area:"Berlin, Germany",type:"Transportation hub",features:["First airport with underground railway","Imposing architecture","Customs and immigration control"],significance:["Arrival point in Berlin for Richard and Cynthia","First exposure to German efficiency and control"],description:"Berlin's main airport where Richard and Cynthia first arrive in Germany, met by their driver.",events:[{eventId:"berlin_arrival",role:"setting"}]},{id:"fishguard_harbor",name:"Fishguard Harbor",area:"Pembrokeshire, Wales",type:"Ferry terminal",features:["Harbor facilities","Ferry connections to Ireland","Booking office where Edwards' cheque was used"],significance:["Escape route for Davies and Megan to Ireland","Location where Edwards' cheque book was used"],description:"Welsh ferry terminal where Davies and Megan escaped to Ireland, paying with Edwards' cheque.",events:[{eventId:"davies_ireland_escape",role:"setting"}]},{id:"goring_station",name:"Goring & Streatley Station",area:"Berkshire",type:"Railway station",features:["Small country railway station","Platform where Louise alighted from train"],significance:["Where Louise (disguised as elderly woman) exited train with switched case","Critical transfer point in assassination weapon smuggling"],description:"Railway station where Louise Harrington (disguised as elderly woman) alighted from the train with the switched suitcase.",events:[{eventId:"train_journey",role:"setting"}]},{id:"box_tunnel",name:"Box Tunnel",area:"Wiltshire/Somerset",type:"Railway tunnel",features:["1.8 mile long railway tunnel","Complete darkness during passage"],significance:["Location where suitcase switch occurred during train journey","Critical moment in smuggling operation"],description:"Long railway tunnel where the suitcase switch between Edwards, Davies and Louise took place in darkness.",events:[{eventId:"train_journey",role:"critical_location"}]},{id:"admiral_duncan",name:"Admiral Duncan Pub",area:"Soho, London",type:"Meeting place",features:["Small pub in Soho","Public yet discreet meeting location"],significance:["Meeting place for Bill and George","Location for strategy discussions"],description:"Small London pub where Bill and George meet to discuss the investigation.",events:[{eventId:"investigation_meeting",role:"setting"}]},{id:"martins_bank",name:"Martins Bank",area:"Lombard Street, London",type:"Financial institution",features:["Bank at 68 Lombard Street","Location of Edwards account","Grasshopper logo and Liver Bird emblem on cheques"],significance:["Source of Edwards' cheque book","Financial connection between German intelligence and UK operations"],description:"London bank where the T.G. Edwards account was established for German intelligence operations.",events:[{eventId:"bank_account_investigation",role:"setting"}]}]},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!C.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,r,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+T(l,0):a,w(o)?(r="",null!=e&&(r=e.replace(j,"$&/")+"/"),E(o,t,r,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+T(s=e[c],c);l+=E(s,t,r,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,r,d=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var i=[],r=0;return E(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},M={transition:null},A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function z(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=z,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=z,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},4218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bookMetadata:()=>i});const i={title:"Stitched Up",author:"Matt Parry",genre:"Spy Thriller / Historical Fiction",setting:"England and Germany, 1932-1943",description:"A gripping spy thriller set during WWII, following Lady Cynthia Childreth as she becomes embroiled in British intelligence operations to uncover a network of Nazi sympathizers known as 'the knitters'.",publisher:"Self-Published",publicationYear:2023,series:"Stitched Up",seriesOrder:1,appTitle:"Stitched Up - Interactive Companion",appSubtitle:"Explore the world of Matt Parry's WWII spy thriller",welcomeMessage:"Welcome to the Stitched Up Interactive Companion",welcomeDescription:"Navigate the complex web of characters, relationships, and espionage in this gripping WWII spy thriller. Use the tabs below to explore different aspects of the story.",aboutApp:"This interactive companion helps readers explore the complex narrative of 'Stitched Up', tracking characters, relationships, locations, and plot developments through an intuitive interface.",aboutBook:"'Stitched Up' follows Lady Cynthia Childreth as she becomes involved in British intelligence operations during WWII, uncovering a network of Nazi sympathizers while navigating the dangerous world of espionage.",tourWelcome:"Welcome to the Stitched Up Interactive Companion! Let's take a tour of the key features.",tourConclusion:"You're now ready to explore the world of Stitched Up! Use the tabs to navigate through different aspects of the story.",characterGroups:{Protagonists:"Main characters working for British intelligence","Fifth Columnists":"Nazi sympathizers and traitors working against Britain","German Connection":"German agents and sympathizers",Military:"British military personnel and intelligence officers","Supporting Characters":"Secondary characters who aid the protagonists","Historical Figures":"Real historical figures mentioned in the story"},characterGroupStyles:{Protagonists:"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200","Fifth Columnists":"bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200","German Connection":"bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200","Supporting Characters":"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200",Military:"bg-gray-300 text-gray-800 dark:bg-gray-600 dark:text-gray-100","Historical Figures":"bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-200"},characterGroupColors:{Protagonists:"#3182CE","Fifth Columnists":"#E53E3E","German Connection":"#D69E2E","Supporting Characters":"#38A169",Military:"#4A5568","Historical Figures":"#805AD5"},relationshipCategoryColors:{Spouse:"#805AD5","Handler/Asset":"#3182CE","Conspirator/Enemy":"#E53E3E","Colleague/Partner":"#38A169","Superior/Subordinate":"#DD6B20",Friend:"#4299E1","Informant/Double-Agent":"#D53F8C",Other:"#718096"},importanceWeights:{keyScenes:{perItem:6,max:30},eventParticipation:{perItem:2.5,max:25},relationships:{perItem:2,max:20},development:{perItem:2.5,max:10},defaultGroupBonus:3,groupBonuses:{Protagonists:15,"Fifth Columnists":12,Military:10,"Historical Figures":10,"German Connection":8,"Supporting Characters":5}},literaryAnalysis:{title:"Literary Analysis",paragraphs:["The book uses the spy thriller genre to explore broader themes of loyalty, deception, class division, and the moral compromises made during wartime. The novel's structure mirrors the complexity of intelligence work itself, with information revealed gradually and perspectives shifting as characters' true motivations come to light.","The book's title operates on multiple levels, referring both to the knitting motif throughout the story and the way characters find themselves betrayed or trapped by circumstances and the actions of others."]},copyright:"\xa9 2023 Matt Parry. All rights reserved."}},4224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{themeElements:()=>i});const i=[]},4282:(e,t,n)=>{"use strict";n.r(t),n.d(t,{spycraftEntries:()=>i});const i=[{id:"investigative_discretion",title:"Investigative Discretion",description:"Utterson\u2019s discreet methods of inquiry and evidence handling.",introducedInChapter:"chapter_02",historicalContext:"Victorian legal and social norms favored discretion and reputation protection.",examples:["Quiet stakeout at the door","Keeping Guest\u2019s handwriting insight private"]}]},4284:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locations:()=>i});const i=[]},4391:(e,t,n)=>{"use strict";var i=n(7950);t.H=i.createRoot,i.hydrateRoot},4476:(e,t,n)=>{var i={"./MattParry_StitchedUp_v1/metadata.js":8817,"./MattParry_StitchedUp_v2/metadata.js":4218,"./MattParry_StitchedUp_v3/metadata.js":375,"./RobertLouisStevenson_JekyllAndHyde/metadata.js":1549};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=4476},4705:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function a(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>a})},4860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeline:()=>i});const i=[{id:"preface_1943",date:"Summer 1943",title:"German Infiltration via Scilly Isles",description:"German agent Helmut Schnitter arrives via submarine at the Isles of Scilly, demonstrating the vulnerability of British coastal defenses.",category:"German Operations",significance:"Shows the vulnerability of British coastal defenses",chapter:"preface",characters:["helmut_schnitter"],locations:["scilly_isles"]},{id:"chapter_01_1932",date:"May 1932",title:"Cynthia Arrives at Denleigh Manor",description:"Lady Cynthia Childreth arrives at Denleigh Manor for a weekend party, where she meets various guests and receives a mysterious note.",category:"Recruitment",significance:"Sets up Cynthia's recruitment for intelligence work",chapter:"chapter_01",characters:["cynthia_childreth","amy_wyndholme","peter_snowden","marjorie_snowden","bob_harrington","louise_harrington"],locations:["denleigh_manor"]},{id:"chapter_02_1932",date:"May 1932",title:"Dinner and Political Discussion",description:"During dinner, political tensions emerge as Colonel Snowden and the Harringtons express pro-Nazi sympathies.",category:"Political Revelation",significance:"First revelation of pro-Nazi sympathies among the guests",chapter:"chapter_02",characters:["peter_snowden","bob_harrington","louise_harrington","marjorie_snowden"],locations:["denleigh_manor"]},{id:"chapter_03_1932",date:"May 1932",title:"Cynthia Recruited for Intelligence Work",description:"In a secluded arbor, Miss Gilchrist (Hannah Park) and Mr Newton (Bill Lawrie) reveal their true identities and recruit Cynthia.",category:"Recruitment",significance:"Cynthia is recruited for British intelligence",chapter:"chapter_03",characters:["cynthia_childreth","hannah_park","bill_lawrie"],locations:["denleigh_manor"]},{id:"chapter_04_1932_1933",date:"1932-1933",title:"Berlin Trip",description:"Richard and Cynthia travel to Berlin, staying at the Hotel Adlon and meeting German Nazi sympathizers.",category:"German Connection",significance:"Establishes connections with German Nazi sympathizers",chapter:"chapter_04",characters:["cynthia_childreth","richard_childreth","gerda_stammer","franz_stammer"],locations:["hotel_adlon_berlin","berlin"]},{id:"chapter_05_unknown",date:"May 27, unknown year",title:"First Party at Bucklebury",description:"Cynthia hosts her first party for Nazi sympathizers at her house in Bucklebury, with intelligence agents attending in disguise.",category:"Intelligence Operations",significance:"First major intelligence-gathering operation hosted by Cynthia",chapter:"chapter_05",characters:["cynthia_childreth","gerda_stammer","lena_weber"],locations:["cynthia_house_bucklebury"]},{id:"chapter_06_unknown",date:"July 7, unknown year",title:"Second Party with Mosley",description:"Oswald Mosley attends Cynthia's second party, requesting her house as a safe house for fascist operations.",category:"Fascist Operations",significance:"Reveals the extent of fascist operations and Mosley's involvement",chapter:"chapter_06",characters:["cynthia_childreth","oswald_mosley"],locations:["cynthia_house_bucklebury"]},{id:"chapter_07_1943",date:"1943",title:"Time Skip to 1943",description:"The story jumps to 1943 where Mosley has been interned and released, and Marjorie Snowden contacts Cynthia.",category:"Time Transition",significance:"Moves the story to the wartime period",chapter:"chapter_07",characters:["cynthia_childreth","marjorie_snowden","oswald_mosley"],locations:["various"]},{id:"chapter_08_1943",date:"1943",title:"Mysterious Suitcase Delivery",description:'Davies (using the name "Young") delivers a mysterious suitcase to Cynthia\'s house, believed to contain a radio.',category:"Network Operations",significance:"Shows the network is actively using Cynthia's house",chapter:"chapter_08",characters:["sir_john_davies","cynthia_childreth"],locations:["cynthia_house_bucklebury"]},{id:"chapter_09_1943",date:"1943",title:"Increased Surveillance",description:"British intelligence increases surveillance of Cynthia and the conspirators, monitoring their movements and communications.",category:"Intelligence Operations",significance:"Shows the intelligence operation is actively monitoring the network",chapter:"chapter_09",characters:["intelligence_teams","cynthia_childreth"],locations:["various"]},{id:"chapter_10_1943",date:"1943",title:"German Rifle Discovery",description:"The German rifle (FG42) is discovered at Churn Rifle Ranges, where the assassins practiced their shooting.",category:"Evidence Discovery",significance:"Provides physical evidence of the network's violent intentions",chapter:"chapter_10",characters:["intelligence_teams"],locations:["churn_rifle_ranges"]},{id:"chapter_11_1943",date:"1943",title:"Cheque Book Discovery",description:"The cheque book for T.G. Edwards is found, revealing the bank account used for Nazi operations.",category:"Evidence Discovery",significance:"Provides financial evidence linking the network to Nazi operations",chapter:"chapter_11",characters:["intelligence_teams","tg_edwards"],locations:["london","martins_bank_london"]},{id:"chapter_12_1943",date:"1943",title:"Train Journey with Case Switching",description:"Edwards travels by train with a grey-haired woman (Louise) and Davies/Young, with cases being switched in Box Tunnel.",category:"Network Operations",significance:"Shows the network's operational methods and case-switching techniques",chapter:"chapter_12",characters:["tg_edwards","louise_harrington","sir_john_davies"],locations:["train_box_tunnel","box_tunnel"]},{id:"chapter_13_1943",date:"1943",title:"Edwards Murder",description:"T.G. Edwards is murdered in his London flat by a woman disguised as a postman.",category:"Violence",significance:"Shows the network's willingness to use violence",chapter:"chapter_13",characters:["tg_edwards","murderer"],locations:["crawford_place_london"]},{id:"chapter_14_1943",date:"1943",title:"Investigation Begins",description:"Chief Inspector George Bennet begins investigating Edwards' murder, discovering connections to Nazi operations.",category:"Investigation",significance:"Marks the beginning of the official investigation",chapter:"chapter_14",characters:["george_bennet"],locations:["london"]},{id:"chapter_15_1943",date:"1943",title:"The Knitters Network Revealed",description:'The extent of the Nazi sympathizer network known as "the knitters" is revealed.',category:"Network Analysis",significance:"Provides comprehensive understanding of the network's scope",chapter:"chapter_15",characters:["intelligence_teams"],locations:["uk"]},{id:"chapter_16_1943",date:"1943",title:"Louise's Betrayal Revealed",description:"Louise Harrington reveals herself as a double agent, working for British intelligence.",category:"Double Agent",significance:"Provides an inside source in the Nazi network",chapter:"chapter_16",characters:["louise_harrington","bill_lawrie"],locations:["various"]},{id:"chapter_17_1943",date:"December 1943",title:"Final Operation Preparation",description:"British intelligence teams track the movements of conspirators as they prepare for their final operation.",category:"Intelligence Operations",significance:"Shows the final phase of the intelligence operation",chapter:"chapter_17",characters:["intelligence_teams","conspirators"],locations:["various"]},{id:"chapter_18_1943",date:"December 1943",title:"Flight to Ireland",description:"Davies, Davies and Snowdens flee to Ireland as the net closes in, leaving the Harringtons to take over Cynthia's house.",category:"Escape",significance:"Shows the network's escape planning",chapter:"chapter_18",characters:["sir_john_davies","lady_megan_davies","peter_snowden","marjorie_snowden","bob_harrington","louise_harrington"],locations:["ireland","cynthia_house_bucklebury"]},{id:"chapter_19_1943",date:"December 1943",title:"Assassination Attempt",description:"The conspirators attempt to assassinate Montgomery during his inspection of the American Transport Division Camp.",category:"Assassination Attempt",significance:"The main operational objective of the Nazi network",chapter:"chapter_19",characters:["bob_harrington","louise_harrington","montgomery"],locations:["american_transport_division_camp"]},{id:"chapter_20_1943",date:"December 1943",title:"Louise's Intervention",description:"Louise intervenes during the assassination attempt, revealing her true allegiance and helping to foil the plot.",category:"Double Agent",significance:"Prevents the assassination and reveals Louise's true allegiance",chapter:"chapter_20",characters:["louise_harrington","bob_harrington"],locations:["american_transport_division_camp"]},{id:"chapter_21_1943",date:"December 1943",title:"Arrests and Capture",description:"Bob Harrington and Sir John Davies are arrested after the failed assassination attempt.",category:"Capture",significance:"Shows the partial success of the counter-intelligence operation",chapter:"chapter_21",characters:["bob_harrington","sir_john_davies","security_forces"],locations:["various"]},{id:"chapter_22_1943",date:"December 1943",title:"Aftermath of Assassination Attempt",description:"The immediate aftermath of the failed assassination attempt and the intelligence operation.",category:"Aftermath",significance:"Shows the immediate consequences and evidence gathering",chapter:"chapter_22",characters:["security_forces","intelligence_teams"],locations:["american_transport_division_camp"]},{id:"chapter_23_1943",date:"December 1943",title:"Louise's Gas Explosion Death",description:"Louise is killed in a suspicious gas explosion, likely orchestrated by the remaining conspirators.",category:"Murder",significance:"Shows the network's willingness to eliminate traitors",chapter:"chapter_23",characters:["louise_harrington","remaining_conspirators"],locations:["louise_cottage"]},{id:"chapter_24_1944",date:"1944",title:"Justice and Recognition",description:"Bob and Davies are tried and imprisoned, while Cynthia receives an OBE for her services.",category:"Justice",significance:"Shows the legal consequences and recognition",chapter:"chapter_24",characters:["bob_harrington","sir_john_davies","cynthia_childreth"],locations:["uk"]},{id:"chapter_25_1943",date:"1943",title:"George Bennet's Investigation",description:"Chief Inspector Bennet investigates the Edwards murder, tracking German agents in the Isles of Scilly.",category:"Investigation",significance:"Shows the official investigation into German infiltration",chapter:"chapter_25",characters:["george_bennet"],locations:["scilly_isles"]},{id:"chapter_26_1943",date:"1943",title:"The Scilly Isles",description:"Bennet discovers the vulnerability of the Scilly Isles and tracks German agent movements.",category:"Investigation",significance:"Reveals the vulnerability of British coastal defenses",chapter:"chapter_26",characters:["george_bennet"],locations:["scilly_isles"]},{id:"chapter_27_1943",date:"1943",title:"The Atlantic Hotel",description:"Bennet conducts surveillance from the Atlantic Hotel, watching for suspicious activity.",category:"Surveillance",significance:"Shows Bennet's surveillance operation in Scilly Isles",chapter:"chapter_27",characters:["george_bennet"],locations:["atlantic_hotel"]},{id:"chapter_28_1943",date:"1943",title:"The Cheque Discovery",description:"Bennet discovers the cheque used by Edwards, revealing the Martins Bank connection.",category:"Evidence Discovery",significance:"Provides financial evidence of German operations",chapter:"chapter_28",characters:["george_bennet"],locations:["scilly_isles"]},{id:"chapter_29_1943",date:"1943",title:"The Return Journey",description:"Bennet returns to the mainland, having gathered crucial intelligence about the German operation.",category:"Investigation",significance:"Completes Bennet's investigation in Scilly Isles",chapter:"chapter_29",characters:["george_bennet"],locations:["scilly_isles","uk"]},{id:"chapter_30_1943",date:"1943",title:"Intelligence Analysis",description:"The gathered intelligence is analyzed, revealing the scope of the German infiltration.",category:"Intelligence Analysis",significance:"Provides assessment of German infiltration threat",chapter:"chapter_30",characters:["intelligence_teams"],locations:["uk"]},{id:"chapter_31_1943",date:"1943",title:"The Surveillance Teams",description:"British intelligence sets up surveillance teams to monitor the conspirators in their villages.",category:"Surveillance",significance:"Shows the comprehensive surveillance operation",chapter:"chapter_31",characters:["intelligence_teams"],locations:["aldworth","ashampstead","yattendon"]},{id:"chapter_32_1943",date:"1943",title:"Aldworth Surveillance",description:"Surveillance team monitors the Harringtons in Aldworth, observing their daily activities.",category:"Surveillance",significance:"Shows surveillance of Harrington activities",chapter:"chapter_32",characters:["intelligence_teams","bob_harrington","louise_harrington"],locations:["aldworth"]},{id:"chapter_33_1943",date:"1943",title:"Ashampstead Watch",description:"Another team monitors the Snowdens in Ashampstead, gathering intelligence on their movements.",category:"Surveillance",significance:"Shows surveillance of Snowden activities",chapter:"chapter_33",characters:["intelligence_teams","peter_snowden","marjorie_snowden"],locations:["ashampstead"]},{id:"chapter_34_1943",date:"1943",title:"Yattendon Observation",description:"The Davies are monitored in Yattendon, completing the surveillance coverage of all conspirators.",category:"Surveillance",significance:"Completes surveillance coverage of all conspirators",chapter:"chapter_34",characters:["intelligence_teams","sir_john_davies","lady_megan_davies"],locations:["yattendon"]},{id:"chapter_35_1943",date:"1943",title:"The Green Car",description:"A green car is discovered outside Cynthia's house, potentially linking to the Snowdens.",category:"Evidence Discovery",significance:"Potential evidence linking Snowdens to operations",chapter:"chapter_35",characters:["intelligence_teams","peter_snowden","marjorie_snowden"],locations:["cynthia_house_bucklebury"]},{id:"chapter_36_1943",date:"1943",title:"Harrington's Trip",description:"Harrington makes a mysterious 40-minute car trip, potentially visiting a hidden location.",category:"Surveillance",significance:"Shows Harrington's operational activities",chapter:"chapter_36",characters:["bob_harrington","intelligence_teams"],locations:["aldworth"]},{id:"chapter_37_1943",date:"1943",title:"The Saturday Lunch",description:"All conspirators gather for lunch at the Snowdens, potentially testing for surveillance.",category:"Network Activity",significance:"Shows conspirator coordination and surveillance testing",chapter:"chapter_37",characters:["peter_snowden","marjorie_snowden","bob_harrington","louise_harrington","sir_john_davies","lady_megan_davies"],locations:["ashampstead"]},{id:"chapter_38_1943",date:"1943",title:"Surveillance Results",description:"The surveillance teams report their findings, revealing patterns in the conspirators' behavior.",category:"Intelligence Analysis",significance:"Provides assessment of surveillance results",chapter:"chapter_38",characters:["intelligence_teams"],locations:["various"]},{id:"chapter_39_1943",date:"1943",title:"The Decision",description:"British intelligence decides to focus on the Montgomery inspection as the likely target.",category:"Intelligence Analysis",significance:"Shows focus on Montgomery as target",chapter:"chapter_39",characters:["intelligence_teams"],locations:["various"]},{id:"chapter_40_1943",date:"1943",title:"The Meeting",description:"George Bennet and Bill Lawrie meet to discuss the surveillance results and plan their next move.",category:"Intelligence Planning",significance:"Shows coordination between Special Branch and intelligence",chapter:"chapter_40",characters:["george_bennet","bill_lawrie"],locations:["london"]},{id:"chapter_41_1943",date:"1943",title:"The Map Analysis",description:"Mike analyzes the map to identify potential locations within Harrington's travel radius.",category:"Intelligence Analysis",significance:"Shows detailed analysis of Harrington's movements",chapter:"chapter_41",characters:["mike","intelligence_teams"],locations:["aldworth"]},{id:"chapter_42_1943",date:"1943",title:"The Proactive Approach",description:"Bill decides to take a proactive approach, having Cynthia invite the conspirators for drinks.",category:"Intelligence Operations",significance:"Shows shift to proactive intelligence gathering",chapter:"chapter_42",characters:["bill_lawrie","cynthia_childreth"],locations:["various"]},{id:"chapter_43_1943",date:"1943",title:"The Invitation",description:"Cynthia extends invitations to all conspirators, setting up the intelligence operation.",category:"Intelligence Operations",significance:"Sets up the final intelligence operation",chapter:"chapter_43",characters:["cynthia_childreth","conspirators"],locations:["various"]},{id:"chapter_44_1943",date:"1943",title:"The Gathering",description:"The conspirators arrive at Cynthia's house, unaware they are walking into a trap.",category:"Intelligence Operations",significance:"Shows the conspirators falling into the trap",chapter:"chapter_44",characters:["conspirators","cynthia_childreth"],locations:["cynthia_house_bucklebury"]},{id:"chapter_45_1943",date:"1943",title:"The Confrontation",description:"The intelligence operation is revealed, and the conspirators realize they have been caught.",category:"Intelligence Operations",significance:"Shows the success of the intelligence operation",chapter:"chapter_45",characters:["conspirators","intelligence_teams"],locations:["cynthia_house_bucklebury"]},{id:"chapter_46_1943",date:"1943",title:"The Escape Attempt",description:"Some conspirators attempt to escape, leading to a chase and capture.",category:"Capture",significance:"Shows the final capture of conspirators",chapter:"chapter_46",characters:["conspirators","intelligence_teams"],locations:["various"]},{id:"chapter_47_1943",date:"1943",title:"The Aftermath",description:"The immediate aftermath of the intelligence operation and the capture of conspirators.",category:"Aftermath",significance:"Shows the results of the intelligence operation",chapter:"chapter_47",characters:["intelligence_teams","conspirators"],locations:["various"]},{id:"chapter_48_1943",date:"1943",title:"The Interrogations",description:"The captured conspirators are interrogated, revealing the full extent of their network.",category:"Intelligence Gathering",significance:"Provides comprehensive intelligence on the network",chapter:"chapter_48",characters:["conspirators","intelligence_teams"],locations:["various"]},{id:"chapter_49_1943",date:"1943",title:"The Full Picture",description:"The complete picture of the Nazi sympathizer network is revealed through interrogations and evidence.",category:"Intelligence Analysis",significance:"Provides complete understanding of the network",chapter:"chapter_49",characters:["intelligence_teams"],locations:["uk"]},{id:"chapter_50_1943",date:"1943",title:"The Cleanup",description:"British intelligence conducts a comprehensive cleanup operation, securing all evidence and locations.",category:"Intelligence Operations",significance:"Shows the comprehensive cleanup of the operation",chapter:"chapter_50",characters:["intelligence_teams"],locations:["various"]},{id:"epilogue_1944",date:"1944",title:"Final Outcomes",description:"The final outcomes for all characters, including Louise's death, the imprisonment of conspirators, and Cynthia's recognition.",category:"Resolution",significance:"Shows the final resolution of all storylines",chapter:"epilogue",characters:["cynthia_childreth","bob_harrington","sir_john_davies","louise_harrington"],locations:["uk","ireland"]}]},4926:(e,t,n)=>{"use strict";n.r(t),n.d(t,{objects:()=>i});const i=[{id:"jekyll_will",name:"Dr. Jekyll\u2019s Will",type:"Document",description:"A will leaving all of Jekyll\u2019s possessions to Edward Hyde in case of death or disappearance.",physical_details:"Legal document drafted by Utterson",introducedInChapter:"chapter_02",technical_details:[],significance:["Establishes Hyde as beneficiary and raises Utterson\u2019s suspicions"],history:[{event:"search_for_mr_hyde",details:"Utterson reviews the will and is alarmed"}],possessors:[{characterId:"gabriel_utterson",period:"early",alias:""},{characterId:"henry_jekyll",period:"early",alias:""}],appearances:["search_for_mr_hyde"]},{id:"coutts_cheque",name:"Coutts Cheque",type:"Cheque",description:"Cheque used to settle the hush money after Hyde trampled the child; signed with a reputable name connected to Jekyll.",physical_details:"Bank cheque on Coutts\u2019s, payable to bearer",introducedInChapter:"chapter_01",technical_details:[],significance:["Links Hyde to Jekyll\u2019s respectability and the door"],history:[{event:"child_trampling",details:"Produced to compensate the child\u2019s family"}],possessors:[{characterId:"edward_hyde",period:"early",alias:""}],appearances:["child_trampling"]},{id:"broken_cane",name:"Broken Cane",type:"Weapon",description:"A cane used by Hyde to murder Sir Danvers Carew, later found broken at the scene and in Hyde\u2019s rooms.",physical_details:"Heavy cane, recognizable as once given to Jekyll",introducedInChapter:"chapter_04",technical_details:[],significance:["Links Hyde to Jekyll through the gift of the cane"],history:[{event:"carew_murder",details:"Cane broken during the murder; fragments recovered"}],possessors:[{characterId:"edward_hyde",period:"mid",alias:""}],appearances:["carew_murder"]},{id:"transformative_potion",name:"Transformative Potion",type:"Chemical",description:"The concoction Jekyll uses to transform into Hyde and back.",physical_details:"Powders and a tincture mixed to produce the potion",introducedInChapter:"chapter_09",technical_details:["Impure salt later prevents reversal"],significance:["Embodies the scientific attempt to separate good and evil nature"],history:[{event:"dr_lanyon_narrative",details:"Hyde drinks the mixture and transforms into Jekyll before Lanyon"},{event:"jekyll_full_statement",details:"Jekyll explains the potion and the impurity problem"}],possessors:[{characterId:"henry_jekyll",period:"early",alias:""},{characterId:"edward_hyde",period:"late",alias:""}],appearances:["dr_lanyon_narrative","jekyll_full_statement"]},{id:"sealed_packet",name:"Lanyon\u2019s Sealed Packet",type:"Document",description:"A sealed letter and narrative entrusted to Utterson, to be opened under specific conditions.",physical_details:"Sealed envelope addressed to Mr. Utterson",introducedInChapter:"chapter_06",technical_details:[],significance:["Contains Lanyon\u2019s account revealing the Hyde/Jekyll truth"],history:[{event:"remarkable_incident_of_dr_lanyon",details:"Lanyon hands Utterson a sealed packet"},{event:"dr_lanyon_narrative",details:"Packet is opened per instructions"}],possessors:[{characterId:"hastie_lanyon",period:"mid",alias:""},{characterId:"gabriel_utterson",period:"late",alias:""}],appearances:["remarkable_incident_of_dr_lanyon","dr_lanyon_narrative"]},{id:"handwriting_letter",name:"Purported Hyde Letter",type:"Letter",description:"A letter presented by Jekyll as if from Hyde, later suspected to be forged.",physical_details:"Short handwritten note",introducedInChapter:"chapter_05",technical_details:["Handwriting matches Jekyll\u2019s with slant differences"],significance:["Key clue in Utterson and Guest\u2019s investigation"],history:[{event:"incident_of_the_letter",details:"Analyzed by Mr. Guest"},{event:"jekyll_full_statement",details:"Confirmed to have been written by Jekyll"}],possessors:[{characterId:"henry_jekyll",period:"mid",alias:""},{characterId:"gabriel_utterson",period:"mid",alias:""}],appearances:["incident_of_the_letter"]}]},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5080:(e,t,n)=>{"use strict";n.r(t),n.d(t,{chapters:()=>i});const i=[{id:"preface",title:"Preface",description:"",events:[],timeframe:""},{id:"chapter_01",title:"Chapter 1",description:"",events:[],timeframe:""},{id:"chapter_02",title:"Chapter 2",description:"",events:[],timeframe:""},{id:"chapter_03",title:"Chapter 3",description:"",events:[],timeframe:""},{id:"chapter_04",title:"Chapter 4",description:"",events:[],timeframe:""},{id:"chapter_05",title:"Chapter 5",description:"",events:[],timeframe:""},{id:"chapter_06",title:"Chapter 6",description:"",events:[],timeframe:""},{id:"chapter_07",title:"Chapter 7",description:"",events:[],timeframe:""},{id:"chapter_08",title:"Chapter 8",description:"",events:[],timeframe:""},{id:"chapter_09",title:"Chapter 9",description:"",events:[],timeframe:""},{id:"chapter_10",title:"Chapter 10",description:"",events:[],timeframe:""},{id:"chapter_11",title:"Chapter 11",description:"",events:[],timeframe:""},{id:"chapter_12",title:"Chapter 12",description:"",events:[],timeframe:""},{id:"chapter_13",title:"Chapter 13",description:"",events:[],timeframe:""},{id:"chapter_14",title:"Chapter 14",description:"",events:[],timeframe:""},{id:"chapter_15",title:"Chapter 15",description:"",events:[],timeframe:""},{id:"chapter_16",title:"Chapter 16",description:"",events:[],timeframe:""},{id:"chapter_17",title:"Chapter 17",description:"",events:[],timeframe:""},{id:"chapter_18",title:"Chapter 18",description:"",events:[],timeframe:""},{id:"chapter_19",title:"Chapter 19",description:"",events:[],timeframe:""},{id:"chapter_20",title:"Chapter 20",description:"",events:[],timeframe:""},{id:"chapter_21",title:"Chapter 21",description:"",events:[],timeframe:""},{id:"chapter_22",title:"Chapter 22",description:"",events:[],timeframe:""},{id:"chapter_23",title:"Chapter 23",description:"",events:[],timeframe:""},{id:"chapter_24",title:"Chapter 24",description:"",events:[],timeframe:""},{id:"chapter_25",title:"Chapter 25",description:"",events:[],timeframe:""},{id:"chapter_26",title:"Chapter 26",description:"",events:[],timeframe:""},{id:"chapter_27",title:"Chapter 27",description:"",events:[],timeframe:""},{id:"chapter_28",title:"Chapter 28",description:"",events:[],timeframe:""},{id:"chapter_29",title:"Chapter 29",description:"",events:[],timeframe:""},{id:"chapter_30",title:"Chapter 30",description:"",events:[],timeframe:""},{id:"chapter_31",title:"Chapter 31",description:"",events:[],timeframe:""},{id:"chapter_32",title:"Chapter 32",description:"",events:[],timeframe:""},{id:"chapter_33",title:"Chapter 33",description:"",events:[],timeframe:""},{id:"chapter_34",title:"Chapter 34",description:"",events:[],timeframe:""},{id:"chapter_35",title:"Chapter 35",description:"",events:[],timeframe:""},{id:"chapter_36",title:"Chapter 36",description:"",events:[],timeframe:""},{id:"chapter_37",title:"Chapter 37",description:"",events:[],timeframe:""},{id:"chapter_38",title:"Chapter 38",description:"",events:[],timeframe:""},{id:"chapter_39",title:"Chapter 39",description:"",events:[],timeframe:""},{id:"chapter_40",title:"Chapter 40",description:"",events:[],timeframe:""},{id:"chapter_41",title:"Chapter 41",description:"",events:[],timeframe:""},{id:"chapter_42",title:"Chapter 42",description:"",events:[],timeframe:""},{id:"chapter_43",title:"Chapter 43",description:"",events:[],timeframe:""},{id:"chapter_44",title:"Chapter 44",description:"",events:[],timeframe:""},{id:"chapter_45",title:"Chapter 45",description:"",events:[],timeframe:""},{id:"chapter_46",title:"Chapter 46",description:"",events:[],timeframe:""},{id:"chapter_47",title:"Chapter 47",description:"",events:[],timeframe:""},{id:"chapter_48",title:"Chapter 48",description:"",events:[],timeframe:""},{id:"chapter_49",title:"Chapter 49",description:"",events:[],timeframe:""},{id:"chapter_50",title:"Chapter 50",description:"",events:[],timeframe:""},{id:"epilogue",title:"Epilogue",description:"",events:[],timeframe:""}]},5173:(e,t,n)=>{e.exports=n(1497)()},5559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{book:()=>g,bookMetadata:()=>h.bookMetadata,chapters:()=>s.chapters,characterPositions:()=>p.characterPositions,characters:()=>i.characters,eventPositions:()=>p.eventPositions,events:()=>r.events,locationPositions:()=>p.locationPositions,locations:()=>a.locations,mapBoundaries:()=>p.mapBoundaries,mysteryElements:()=>c.mysteryElements,objectPositions:()=>p.objectPositions,objects:()=>o.objects,relationships:()=>f,spycraftEntries:()=>u.spycraftEntries,stitchedUp:()=>m,themeElements:()=>d.themeElements,timeline:()=>l.timeline});var i=n(6079),r=n(8798),a=n(8151),o=n(5687),s=n(2729),l=n(4860),c=n(2119),d=n(3479),u=n(3227),h=n(4218),p=n(6115);const f=(0,n(141).deriveRelationshipsFromCharacters)(i.characters,s.chapters),m={bookMetadata:h.bookMetadata,characters:i.characters,events:r.events,locations:a.locations,objects:o.objects,relationships:f,chapters:s.chapters,timeline:l.timeline,mysteryElements:c.mysteryElements,themeElements:d.themeElements,spycraftEntries:u.spycraftEntries,locationPositions:p.locationPositions,eventPositions:p.eventPositions,characterPositions:p.characterPositions,objectPositions:p.objectPositions,mapBoundaries:p.mapBoundaries},g=m},5576:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characterPositions:()=>a,eventPositions:()=>r,locationPositions:()=>i,mapBoundaries:()=>s,objectPositions:()=>o});const i={},r={},a={},o={},s={}},5687:(e,t,n)=>{"use strict";n.r(t),n.d(t,{objects:()=>i});const i=[{id:"german_rifle_fg42",name:"German Rifle (FG42)",type:"Weapon",description:"German rifle discovered at Churn Rifle Ranges, where the assassins practiced their shooting. This provides evidence of the network's preparation for violent operations.",significance:"Physical evidence of the network's violent intentions and preparation for assassination",events:["rifle_discovery","churn_ranges_practice"],introducedInChapter:"chapter_10",location:"churn_rifle_ranges",characters:["conspirators"],features:["German military rifle","Used for target practice","Evidence of violent intentions","Poor security allowed access"]},{id:"mysterious_suitcase",name:"Mysterious Suitcase",type:"Container",description:"Suitcase delivered by Davies (using alias \"Young\") to Cynthia's house, believed to contain a radio for Nazi operations. Actually contained women's clothes.",significance:"Shows the network's operational methods and use of disguises",events:["suitcase_delivery","davies_disguise"],introducedInChapter:"chapter_08",location:"cynthia_house_bucklebury",characters:["sir_john_davies","cynthia_childreth"],features:["Heavy suitcase","Believed to contain radio","Actually contained women's clothes","Delivered using alias"]},{id:"edwards_cheque_book",name:"Edwards Cheque Book",type:"Financial Document",description:"Cheque book for T.G. Edwards found at Martins Bank, 68 Lombard Street, London. Used for financing Nazi operations.",significance:"Financial evidence linking the network to Nazi operations",events:["cheque_book_discovery","edwards_account_revealed"],introducedInChapter:"chapter_11",location:"martins_bank_london",characters:["tg_edwards"],features:["Bank cheque book","Martins Bank account","Lombard Street location","Used for Nazi operations"]},{id:"postman_disguise",name:"Postman Disguise",type:"Disguise",description:"Disguise used by a woman to murder T.G. Edwards in his London flat. The disguise included a postman's uniform.",significance:"Demonstrates the network's use of sophisticated disguises for violent operations",events:["edwards_murder","postman_disguise"],introducedInChapter:"chapter_13",location:"crawford_place_london",characters:["murderer"],features:["Postman's uniform","Used by woman","Effective disguise","Aided escape"]},{id:"cynthia_house",name:"Cynthia's House",type:"Property",description:"Cynthia and Richard's house in Bucklebury, used as a venue for Nazi sympathizer parties and later taken over by the Harringtons.",significance:"Base for intelligence operations and Nazi sympathizer gatherings",events:["first_party_bucklebury","second_party_mosley","suitcase_delivery","harringtons_takeover"],introducedInChapter:"chapter_01",location:"cynthia_house_bucklebury",characters:["cynthia_childreth","richard_childreth","bob_harrington","louise_harrington"],features:["Expansive house and gardens","Party venue","Intelligence operations base","Later occupied by Harringtons"]},{id:"denleigh_manor_house",name:"Denleigh Manor House",type:"Property",description:"Imposing Georgian country house in Wiltshire, owned by Lady Amelia Wyndholme and her husband Horace. Setting for the weekend party where Cynthia is recruited.",significance:"Location of Cynthia's recruitment for British intelligence work",events:["cynthia_arrives_denleigh","weekend_party_introductions","dinner_politics","cynthia_recruited"],introducedInChapter:"chapter_01",location:"denleigh_manor",characters:["amy_wyndholme","horace_wyndholme","cynthia_childreth"],features:["Georgian architecture","Extensive gardens and grounds","Trout lake","Tennis courts","Croquet lawn","Stables","Multiple guest bedrooms"]},{id:"hotel_adlon_building",name:"Hotel Adlon Building",type:"Building",description:"Luxury hotel building in Berlin where Richard and Cynthia stay during their trip to Germany. Meeting place with German Nazi sympathizers.",significance:"Location of meetings with German Nazi sympathizers and establishment of operational framework",events:["berlin_trip","hotel_adlon_meeting","nazi_sympathizers_berlin"],introducedInChapter:"chapter_04",location:"hotel_adlon_berlin",characters:["cynthia_childreth","richard_childreth","gerda_stammer","franz_stammer"],features:["Luxury hotel","Meeting rooms","Reception areas","High-class service","Location near government buildings"]},{id:"churn_rifle_ranges_facility",name:"Churn Rifle Ranges Facility",type:"Military Facility",description:"Rifle ranges facility where the conspirators practiced shooting, preparing for their assassination attempt. Poor security allowed unauthorized practice.",significance:"Location where conspirators prepared for assassination attempt",events:["rifle_discovery","churn_ranges_practice"],introducedInChapter:"chapter_10",location:"churn_rifle_ranges",characters:["conspirators"],features:["Rifle ranges","Target practice facilities","Poor security","Unauthorized access possible","Training grounds"]},{id:"edwards_london_flat",name:"Edwards London Flat",type:"Property",description:"T.G. Edwards' London flat in Crawford Place where he was murdered by a woman disguised as a postman.",significance:"Scene of Edwards' murder",events:["edwards_murder","postman_disguise"],introducedInChapter:"chapter_13",location:"crawford_place_london",characters:["tg_edwards","murderer"],features:["London flat","Residential building","Urban location","Accessible by postman"]},{id:"box_tunnel_structure",name:"Box Tunnel Structure",type:"Infrastructure",description:"Railway tunnel structure on the main line where cases were switched during the train journey as part of the network's operational logistics.",significance:"Location of case switching operation during train journey",events:["train_journey","case_switching","box_tunnel_incident"],introducedInChapter:"chapter_12",location:"box_tunnel",characters:["louise_harrington","sir_john_davies"],features:["Railway tunnel","Main line location","Dark environment","Operational advantage","Surveillance difficulty"]},{id:"american_transport_camp",name:"American Transport Division Camp",type:"Military Facility",description:"Military camp facility where Montgomery was scheduled to conduct an inspection, becoming the target of the assassination attempt.",significance:"Target location for assassination attempt on Montgomery",events:["assassination_attempt","montgomery_target","louise_intervention"],introducedInChapter:"chapter_19",location:"american_transport_division_camp",characters:["montgomery","bob_harrington","louise_harrington"],features:["Military facilities","Inspection areas","March past grounds","Officers mess","Security perimeter"]},{id:"louise_cottage_building",name:"Louise's Cottage Building",type:"Property",description:"Louise Harrington's cottage building where she was killed in a suspicious gas explosion, likely orchestrated by remaining conspirators.",significance:"Scene of Louise's murder",events:["louise_gas_explosion","suspicious_death"],introducedInChapter:"chapter_23",location:"louise_cottage",characters:["louise_harrington","remaining_conspirators"],features:["Cottage building","Gas supply","Neighboring properties","Rural location"]},{id:"atlantic_hotel_building",name:"Atlantic Hotel Building",type:"Building",description:"Hotel building in the Isles of Scilly where Chief Inspector Bennet conducted surveillance operations, watching for suspicious activity.",significance:"Base for Bennet's surveillance operation in Scilly Isles",events:["atlantic_hotel_surveillance","suspicious_activity_watch"],introducedInChapter:"chapter_27",location:"atlantic_hotel",characters:["george_bennet"],features:["Hotel building","Observation windows","Restaurant facilities","Strategic location","Surveillance base"]},{id:"steamship_company_office",name:"Steamship Company Office",type:"Building",description:"Office building in Hugh Town where tickets to Penzance can be purchased, used by German agents for mainland travel.",significance:"Transport booking office used by infiltrating agents",events:["german_infiltration_scilly"],introducedInChapter:"preface",location:"steamship_company_offices",characters:["helmut_schnitter"],features:["Office building","Ticket sales","Travel information","Customer service","Transport hub"]},{id:"bishop_wolf_pub_building",name:"Bishop and Wolf Pub Building",type:"Building",description:"Pub building in Hugh Town where Bennet conducted surveillance, reading his newspaper while watching for suspicious activity.",significance:"Surveillance location for Bennet's operation",events:["bennet_scilly_investigation"],introducedInChapter:"chapter_25",location:"bishop_and_wolf_pub",characters:["george_bennet"],features:["Pub building","Surveillance vantage point","Local gathering place","Cover for observation"]},{id:"martins_bank_building",name:"Martins Bank Building",type:"Building",description:"Bank building in London where T.G. Edwards maintained an account used for Nazi operations. Located in the financial district.",significance:"Financial institution used by Nazi network",events:["cheque_book_discovery","edwards_account_revealed"],introducedInChapter:"chapter_11",location:"martins_bank_london",characters:["tg_edwards"],features:["Bank building","Lombard Street location","Account services","Cheque facilities","Professional banking"]},{id:"old_town_church",name:"Old Town Church",type:"Building",description:"Church building in Old Town Bay, Isles of Scilly, with the unusual grave of Naval Surgeon Abraham Leggatt.",significance:"Location of historical interest visited by Bennet during surveillance",events:["bennet_scilly_investigation"],introducedInChapter:"chapter_25",location:"old_town_bay",characters:["george_bennet"],features:["Church building","Unusual grave","Historical interest","Tourist attraction"]},{id:"cynthia_obe_medal",name:"Cynthia's OBE Medal",type:"Award",description:'Order of the British Empire (OBE) medal awarded to Cynthia for "services to war work" in recognition of her contribution to British intelligence operations.',significance:"Recognizes Cynthia's contribution to British intelligence and the war effort",events:["cynthia_obe"],introducedInChapter:"chapter_24",location:"uk",characters:["cynthia_childreth"],features:["OBE medal","Royal honor","Services to war work","Recognition of contribution"]},{id:"knitting_needles",name:"Knitting Needles",type:"Tool",description:'Knitting needles used by Louise Harrington, representing her signature trait and the network\'s name "the knitters".',significance:"Symbolic representation of the network's identity and Louise's character",events:["louise_betrayal"],introducedInChapter:"chapter_01",location:"various",characters:["louise_harrington"],features:["Knitting tools","Louise's signature trait","Network symbolism","Domestic appearance"]},{id:"german_submarine",name:"German Submarine",type:"Vehicle",description:"Type VIIC U-boat used to transport German agent Helmut Schnitter to the Isles of Scilly for infiltration into the UK.",significance:"Method of German infiltration into the UK",events:["german_infiltration_scilly"],introducedInChapter:"preface",location:"scilly_isles",characters:["helmut_schnitter"],features:["Type VIIC U-boat","German submarine","Infiltration vehicle","Covert operation"]},{id:"inflatable_boat",name:"Inflatable Boat",type:"Vehicle",description:"Small black inflatable boat used to transport Helmut Schnitter from the submarine to the shore of the Isles of Scilly.",significance:"Landing craft for German infiltration",events:["german_infiltration_scilly"],introducedInChapter:"preface",location:"scilly_isles",characters:["helmut_schnitter"],features:["Small inflatable boat","Black color","Landing craft","Covert operation"]},{id:"scillonian_steamship",name:"Scillonian Steamship",type:"Vehicle",description:"Regular steamship service from the Isles of Scilly to Penzance, used by German agents for mainland travel.",significance:"Regular transport service used for infiltration",events:["german_infiltration_scilly"],introducedInChapter:"preface",location:"scilly_isles",characters:["helmut_schnitter"],features:["Regular steamship service","Scilly to Penzance route","Public transport","Infiltration method"]},{id:"cynthia_alvis_car",name:"Cynthia's Alvis Car",type:"Vehicle",description:"Dark green 1931 Alvis 12/50 tourer owned by Cynthia, one of her few indulgences. 1500cc engine making it quite an exceptional sports car.",significance:"Shows Cynthia's wealth and independence",events:["cynthia_arrives_denleigh"],introducedInChapter:"chapter_01",location:"denleigh_manor",characters:["cynthia_childreth"],features:["1931 Alvis 12/50 tourer","Dark green color","1500cc engine","Sports car","Luxury vehicle"]},{id:"green_car_snowden",name:"Green Car (Snowden)",type:"Vehicle",description:"Green car discovered outside Cynthia's house, potentially linking to the Snowdens and their involvement in operations.",significance:"Potential evidence linking Snowdens to operations",events:["green_car_discovery","snowden_car_link"],introducedInChapter:"chapter_35",location:"cynthia_house_bucklebury",characters:["peter_snowden","marjorie_snowden"],features:["Green color","Car outside Cynthia's house","Potential Snowden ownership","Operational link"]},{id:"harrington_car",name:"Harrington Car",type:"Vehicle",description:"Car used by Bob Harrington for his mysterious 40-minute trip, potentially visiting a hidden location.",significance:"Vehicle used for operational activities",events:["harrington_mystery_trip","hidden_location_visit"],introducedInChapter:"chapter_36",location:"aldworth",characters:["bob_harrington"],features:["Personal vehicle","Used for operational trips","40-minute journey capability","Operational mobility"]},{id:"surveillance_equipment",name:"Surveillance Equipment",type:"Equipment",description:"Various surveillance equipment used by British intelligence teams to monitor the conspirators in their villages.",significance:"Tools used for intelligence gathering operations",events:["aldworth_surveillance","ashampstead_watch","yattendon_observation"],introducedInChapter:"chapter_31",location:"various",characters:["intelligence_teams"],features:["Surveillance tools","Monitoring equipment","Intelligence gathering","Operational support"]},{id:"art_supplies_bert",name:"Art Supplies (Bert)",type:"Equipment",description:"Art supplies used by Bert as cover for surveillance operations, including easel and painting materials.",significance:"Cover story for surveillance operations",events:["aldworth_surveillance","harrington_monitoring"],introducedInChapter:"chapter_14",location:"aldworth",characters:["bert"],features:["Easel","Painting materials","Artistic cover","Surveillance disguise"]},{id:"telephone_network",name:"Telephone Network",type:"Infrastructure",description:"Telephone network used by conspirators for communication and coordination of their operations.",significance:"Communication method for the Nazi network",events:["surveillance_increased","intelligence_monitoring"],introducedInChapter:"chapter_09",location:"various",characters:["conspirators"],features:["Telephone communication","Network coordination","Operational planning","Surveillance target"]},{id:"railway_network",name:"Railway Network",type:"Infrastructure",description:"British railway network used by conspirators for travel and case switching operations, including Box Tunnel.",significance:"Transport infrastructure used for operational logistics",events:["train_journey","case_switching","box_tunnel_incident"],introducedInChapter:"chapter_12",location:"uk",characters:["tg_edwards","louise_harrington","sir_john_davies"],features:["Main line railway","Box Tunnel location","Case switching advantage","Operational logistics"]}]},6038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characterPositions:()=>a,eventPositions:()=>r,locationPositions:()=>i,mapBoundaries:()=>s,objectPositions:()=>o});const i={street_door:{lat:51.5145,lon:-.127,label:"Mysterious Door (Fictional Alley)",type:"uk"},jekyll_house:{lat:51.5156,lon:-.1461,label:"Dr. Jekyll\u2019s House (Fictional Square)",type:"uk"},jekyll_laboratory:{lat:51.5153,lon:-.1455,label:"Jekyll\u2019s Laboratory (Rear of House)",type:"uk"},hyde_soho_house:{lat:51.5136,lon:-.134,label:"Hyde\u2019s Soho Rooms",type:"uk"},lanyon_house:{lat:51.5167,lon:-.1447,label:"Dr. Lanyon\u2019s House (Cavendish Sq.)",type:"uk"},carew_murder_site:{lat:51.511,lon:-.12,label:"Carew Murder Site (Street)",type:"uk"},utterson_chambers:{lat:51.5117,lon:-.113,label:"Utterson\u2019s Chambers (Temple)",type:"uk"},jekyll_courtyard:{lat:51.515,lon:-.1458,label:"Jekyll\u2019s Courtyard",type:"uk"}},r={carew_murder:{locationId:"carew_murder_site"},soho_search:{locationId:"hyde_soho_house"},story_of_the_door:{locationId:"street_door"},child_trampling:{locationId:"street_door"},search_for_mr_hyde:{locationId:"street_door"},jekyll_dinner:{locationId:"jekyll_house"},incident_of_the_letter:{locationId:"utterson_chambers"},remarkable_incident_of_dr_lanyon:{locationId:"lanyon_house"},incident_at_the_window:{locationId:"jekyll_courtyard"},the_last_night:{locationId:"jekyll_laboratory"},dr_lanyon_narrative:{locationId:"lanyon_house"},jekyll_full_statement:{locationId:"jekyll_laboratory"}},a={gabriel_utterson:{locationId:"utterson_chambers"},henry_jekyll:{locationId:"jekyll_house"},edward_hyde:{locationId:"hyde_soho_house"},hastie_lanyon:{locationId:"lanyon_house"},poole:{locationId:"jekyll_house"},mr_enfield:{locationId:"street_door"},inspector_newcomen:{locationId:"carew_murder_site"}},o={jekyll_will:{locationId:"utterson_chambers"},broken_cane:{locationId:"carew_murder_site"},transformative_potion:{locationId:"jekyll_laboratory"},sealed_packet:{locationId:"utterson_chambers"},handwriting_letter:{locationId:"utterson_chambers"},coutts_cheque:{locationId:"street_door"}},s={uk:{bounds:[[49,-8],[61,2]]}}},6079:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characters:()=>i});const i=[{id:"lady_cynthia_childreth",name:"Lady Cynthia Childreth",title:"Lady",group:"Protagonists",role:"Aristocratic protagonist recruited to infiltrate British pro\u2011Nazi sympathizers; observer and conduit to British intelligence",background:"Educated, wealthy, linguist (French and German), lives in Bucklebury. Unconventional for her class and comfortable operating \u201cin the shadows.\u201d",personality:"Composed, observant, principled, quietly bold",traits:["polyglot","discreet","well\u2011connected","resilient"],relations:[{characterId:"richard_childreth",type:"spouse",description:"Husband; presents a united public front and coordinates privately",introducedInChapter:"chapter_01"},{characterId:"amy_wyndholme",type:"friend",description:"Old school friend; host who facilitates the initial approach",introducedInChapter:"chapter_01"},{characterId:"wing_commander_bill_lawrie",type:"asset",description:"Works to his brief; recruited as observer and social inroad",introducedInChapter:"chapter_03"},{characterId:"hannah_park",type:"asset",description:"Accepts tasking and guidance under Hannah\u2019s operational cover",introducedInChapter:"chapter_03"},{characterId:"jane_maclean",type:"asset",description:"Works with Jane under her cover to advance the operation",introducedInChapter:"chapter_03"},{characterId:"peter_snowden",type:"associate",description:"Country\u2011house acquaintance; politically right\u2011leaning; watched",introducedInChapter:"chapter_01"},{characterId:"marjorie_snowden",type:"associate",description:"Country\u2011house acquaintance; ardent ideologue; watched",introducedInChapter:"chapter_01"},{characterId:"bob_harrington",type:"associate",description:"Weekend\u2011circle acquaintance; pro\u2011German leanings; watched",introducedInChapter:"chapter_01"},{characterId:"louise_harrington",type:"associate",description:"Weekend\u2011circle acquaintance; becomes key in the \u201cknitters\u201d circle",introducedInChapter:"chapter_01"},{characterId:"franz_stammer",type:"associate",description:"Berlin contact via Reichsbank social circuit",introducedInChapter:"chapter_10"},{characterId:"gerda_stammer",type:"associate",description:"Berlin social leader who courts Cynthia for the cause",introducedInChapter:"chapter_10"},{characterId:"sir_john_davies",type:"associate",description:"Pro\u2011German sympathizer later operating under alias \u201cYoung\u201d",introducedInChapter:"chapter_11"},{characterId:"lady_megan_davies",type:"associate",description:"Closely aligned with the German circle; social counterpart",introducedInChapter:"chapter_12"},{characterId:"mary_ashdown",type:"employer",description:"Employs and trusts Mary as secretary and aide inside the house",introducedInChapter:"chapter_15"},{characterId:"edwin_holmes",type:"protected",description:"Accepts his discreet personal cover and protective oversight at events",introducedInChapter:"chapter_19"},{characterId:"alison_hart",type:"protected",description:"Accepts embedded protection and house hardening during threat window",introducedInChapter:"chapter_42"},{characterId:"felicity_gray",type:"associate",description:"Cover\u2011office gatekeeper who arranges travel and logistics",introducedInChapter:"chapter_06"},{characterId:"oswald_mosley",type:"associate",description:"BUF leader who privately solicits the Childreths\u2019 support and \u201csafe house\u201d offer",introducedInChapter:"chapter_22"}],development:[{phase:"Beginning",description:"Reluctant country\u2011house guest sensing hidden agendas"},{phase:"Middle",description:"Skilled observer navigating Berlin salons and domestic networks"},{phase:"Late",description:"Calm under pressure as plots converge near her home"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"richard_childreth",name:"Richard Childreth",group:"Protagonists",role:"Bank director; accompanies Cynthia and engages with Reichsbank contacts",background:"Veteran of WWI (Royal Berkshires). Professional banker asked to create discretion\u2011enabling facilities.",personality:"Pragmatic, steady, dutiful",traits:["financially astute","calm under scrutiny"],relations:[{characterId:"lady_cynthia_childreth",type:"spouse",description:"Wife; aligned publicly and privately",introducedInChapter:"chapter_01"},{characterId:"franz_stammer",type:"colleague",description:"Discusses credit and convenience account for visiting delegates",introducedInChapter:"chapter_09"},{characterId:"gerda_stammer",type:"associate",description:"Meets socially via Berlin circle",introducedInChapter:"chapter_10"},{characterId:"wing_commander_bill_lawrie",type:"associate",description:"Briefed and coordinated for cover logistics",introducedInChapter:"chapter_06"},{characterId:"peter_snowden",type:"associate",description:"Country\u2011house acquaintance; politically right\u2011leaning",introducedInChapter:"chapter_01"},{characterId:"felicity_gray",type:"associate",description:"Receives travel/admin support via cover office",introducedInChapter:"chapter_06"}],development:[{phase:"Beginning",description:"Measured banker wary of hidden agendas"},{phase:"Middle",description:"Defines practical terms with Reichsbank; keeps cover intact"},{phase:"Late",description:"Supports home\u2011front counter\u2011plot with discretion"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"wing_commander_bill_lawrie",name:"Wing-Commander William \u201cBill\u201d Lawrie",title:"Wing-Commander",group:"Military",role:"Intelligence lead/handler orchestrating recruitment, cover, and surveillance",background:"RFC pilot wounded in WWI; later seconded to intelligence. Coordinates the operation under civilian covers.",personality:"Professional, dry\u2011witted, strategic",traits:["handler","planner","calm"],relations:[{characterId:"lady_cynthia_childreth",type:"handler",description:"Recruits and tasks Cynthia; maintains need\u2011to\u2011know briefings",introducedInChapter:"chapter_03"},{characterId:"richard_childreth",type:"associate",description:"Coordinates travel/cover and debriefs",introducedInChapter:"chapter_06"},{characterId:"hannah_park",type:"colleague",description:"Trusted operator under cover personas",introducedInChapter:"chapter_03"},{characterId:"jane_maclean",type:"colleague",description:"Field partner and cover teammate",introducedInChapter:"chapter_03"},{characterId:"edwin_holmes",type:"superior",description:"Directs Edwin\u2019s protective and observing details",introducedInChapter:"chapter_19"},{characterId:"george_bennet",type:"colleague",description:"Coordinates inter\u2011agency strategy and watch",introducedInChapter:"chapter_31"},{characterId:"alison_hart",type:"colleague",description:"Deploys her for shadowing and protective embed",introducedInChapter:"chapter_26"},{characterId:"felicity_gray",type:"colleague",description:"Relies on her for secure scheduling and logistics",introducedInChapter:"chapter_06"},{characterId:"amy_wyndholme",type:"associate",description:"Uses her household to stage the initial approach",introducedInChapter:"chapter_06"},{characterId:"horace_wyndholme",type:"subordinate",description:"Acts under Horace\u2019s senior cover authority",introducedInChapter:"chapter_06"},{characterId:"louise_harrington",type:"handler",description:"Runs her covertly as an insider after her turn",introducedInChapter:"chapter_22"}],development:[{phase:"Beginning",description:"Builds Cynthia\u2019s political provenance and cover"},{phase:"Middle",description:"Expands watch, integrates Special Branch, tightens tradecraft"},{phase:"Late",description:"Focuses threat modeling and decisive protective actions"}],aliases:["Mr Newton"],fate:"",key_scenes:[],introducedInChapter:"chapter_03"},{id:"hannah_park",name:"Hannah Park",group:"Military",role:"Intelligence operator; cover specialist and recruiter",background:"Former WAAC Section Controller; works with Bill and Jane under layered covers.",personality:"Cool, incisive, theatrical when needed",traits:["cover craft","recruiter","observant"],relations:[{characterId:"lady_cynthia_childreth",type:"recruiter",description:"Helps bring Cynthia into the operation and mentors tradecraft",introducedInChapter:"chapter_03"},{characterId:"jane_maclean",type:"colleague",description:"Paired operative in field and social covers",introducedInChapter:"chapter_03"},{characterId:"wing_commander_bill_lawrie",type:"colleague",description:"Executes plans and on\u2011site pivots",introducedInChapter:"chapter_03"}],development:[{phase:"Beginning",description:"Striking cover as \u201cMiss Gilchrist\u201d to control room dynamics"},{phase:"Middle",description:"Coaches Cynthia, varies personas, counters probing"},{phase:"Late",description:"Guides protective posture around Cynthia\u2019s house"}],aliases:["Miss Gilchrist"],fate:"",key_scenes:[],introducedInChapter:"chapter_03"},{id:"jane_maclean",name:"Jane Maclean",group:"Protagonists",role:"Field operative working with Bill and Hannah; recruiter and social navigator",background:"Former VAD cover; intelligence teammate in the trio with Bill and Hannah.",personality:"Poised, practical, low\u2011profile",traits:["listener","credible cover","steady"],relations:[{characterId:"lady_cynthia_childreth",type:"recruiter",description:"Assists the approach and ongoing mentoring",introducedInChapter:"chapter_03"},{characterId:"hannah_park",type:"colleague",description:"Trusted field partner",introducedInChapter:"chapter_03"},{characterId:"wing_commander_bill_lawrie",type:"colleague",description:"Operates within his plan and cover structure",introducedInChapter:"chapter_03"}],development:[{phase:"Beginning",description:"Softens introductions and gauging in early approach"},{phase:"Middle",description:"Blends into country\u2011house circuits while listening"},{phase:"Late",description:"Quietly supports protective measures"}],aliases:["Miss Maclean"],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"amy_wyndholme",name:"Lady Amelia \u201cAmy\u201d Wyndholme",title:"Lady",group:"Supporting Characters",role:"Host and trusted friend who stages the initial country\u2011house weekend",background:"Married to Horace; educated, socially adept; aligned with Bill\u2019s objectives.",personality:"Gracious, discreet, loyal",traits:["connector","trusted host"],relations:[{characterId:"lady_cynthia_childreth",type:"friend",description:"Longstanding friendship; catalyst for invitation",introducedInChapter:"chapter_01"},{characterId:"horace_wyndholme",type:"spouse",description:"Husband; Foreign Office link",introducedInChapter:"chapter_01"},{characterId:"wing_commander_bill_lawrie",type:"associate",description:"Supports planning and staging at Denleigh",introducedInChapter:"chapter_06"},{characterId:"patrick_denleigh",type:"employer",description:"Employs Patrick as butler at Denleigh",introducedInChapter:"chapter_01"},{characterId:"sheila_denleigh",type:"employer",description:"Employs Sheila as maid at Denleigh",introducedInChapter:"chapter_01"}],development:[{phase:"Beginning",description:"Hosts carefully curated house party"},{phase:"Middle",description:"Quiet supporter in background"},{phase:"Late",description:"Remains a trusted contact"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"horace_wyndholme",name:"Horace Wyndholme",group:"Supporting Characters",role:"Foreign Office contact linked into Bill\u2019s chain",background:"Senior civil service; helps authorize and coordinate elements of the plan.",personality:"Reserved, purposeful",traits:["well\u2011placed","effective"],relations:[{characterId:"amy_wyndholme",type:"spouse",description:"Wife and confidante",introducedInChapter:"chapter_01"},{characterId:"wing_commander_bill_lawrie",type:"superior",description:"Senior contact overseeing elements of the operation",introducedInChapter:"chapter_06"}],development:[{phase:"Beginning",description:"Background authority validating the effort"},{phase:"Middle",description:"Maintains distance with oversight"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_05"},{id:"peter_snowden",name:"Colonel Peter Snowden",title:"Colonel",group:"Fifth Columnists",role:"Right\u2011leaning influencer within the country\u2011house set",background:"WWI veteran; projects bluster and tests others\u2019 reactions; recruiter/connector within sympathizer circles.",personality:"Overbearing in public; calculating in private",traits:["probing","performative","connected"],relations:[{characterId:"marjorie_snowden",type:"spouse",description:"Political duo; aligned in aims",introducedInChapter:"chapter_01"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Hosts and tests her during gatherings",introducedInChapter:"chapter_01"},{characterId:"bob_harrington",type:"associate",description:"Like\u2011minded ally",introducedInChapter:"chapter_01"},{characterId:"louise_harrington",type:"associate",description:"Like\u2011minded ally",introducedInChapter:"chapter_01"},{characterId:"sir_john_davies",type:"associate",description:"Part of the same political circle",introducedInChapter:"chapter_11"},{characterId:"oswald_mosley",type:"associate",description:"Personal connection; leverages Cynthia\u2019s events for influence",introducedInChapter:"chapter_22"}],development:[{phase:"Beginning",description:"Signals ideology; gauges others\u2019 leanings"},{phase:"Middle",description:"Quiet recruiter for deeper involvements"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"marjorie_snowden",name:"Marjorie Snowden",group:"Fifth Columnists",role:"Vocal pro\u2011fascist advocate; active in surveillance and probing",background:"Uses social settings to push ideology; later involved in covert intrusions.",personality:"Strident, judgmental, ideological",traits:["partisan","incisive (and intrusive)"],relations:[{characterId:"peter_snowden",type:"spouse",description:"Political partnership",introducedInChapter:"chapter_01"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Engages and pressures in salons and at home",introducedInChapter:"chapter_01"},{characterId:"louise_harrington",type:"associate",description:"Frequent collaborator in the circle",introducedInChapter:"chapter_01"}],development:[{phase:"Beginning",description:"Pushes ideology in social rooms"},{phase:"Middle",description:"Active participant in covert searching and testing"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"bob_harrington",name:"Bob Harrington",group:"Fifth Columnists",role:"Pro\u2011German sympathizer in the country\u2011house network",background:"Ex\u2011medic; politically drawn to authoritarian solutions.",personality:"Reserved in some rooms; ideological in others",traits:["ideological\u2011lean","connected"],relations:[{characterId:"louise_harrington",type:"spouse",description:"Partner and co\u2011traveler in sympathies",introducedInChapter:"chapter_01"},{characterId:"lady_cynthia_childreth",type:"associate",description:"House\u2011party acquaintance; tested her stance",introducedInChapter:"chapter_01"},{characterId:"peter_snowden",type:"associate",description:"Country\u2011house ally",introducedInChapter:"chapter_01"}],development:[{phase:"Beginning",description:"Signals admiration for authoritarian regimes"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"louise_harrington",name:"Louise Harrington",group:"Fifth Columnists",role:"Prominent sympathizer; social operator within the circle",background:"Politically aligned with continental fascism; recurrent presence in key settings.",personality:"Measured in some rooms; persistent in aims",traits:["networked","poised"],relations:[{characterId:"bob_harrington",type:"spouse",description:"Aligned on aims and contacts",introducedInChapter:"chapter_01"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Tests and cultivates Cynthia\u2019s perceived alignment",introducedInChapter:"chapter_01"},{characterId:"marjorie_snowden",type:"associate",description:"Frequent collaborator across events",introducedInChapter:"chapter_01"},{characterId:"peter_snowden",type:"associate",description:"Country\u2011house ally within the circle",introducedInChapter:"chapter_01"},{characterId:"wing_commander_bill_lawrie",type:"asset",description:"Secretly informs Bill after becoming disillusioned",introducedInChapter:"chapter_22"},{characterId:"jack_harris",type:"conspirator",description:"Local shopkeeper/postmaster collaborator providing cover and intel",introducedInChapter:"chapter_44"}],development:[{phase:"Beginning",description:"Positions as respectable face of the circle"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"sir_john_davies",name:"Sir John Davies",title:"Sir",group:"Fifth Columnists",role:"Senior sympathizer; later travels under alias \u201cYoung\u201d",background:"Absentee at Denleigh; reappears in Berlin and later under alias within UK movements.",personality:"Guarded, purposeful",traits:["cautious","connected"],relations:[{characterId:"lady_megan_davies",type:"spouse",description:"Aligned politically and socially",introducedInChapter:"chapter_11"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Maintains distance; later arrives at her house under alias",introducedInChapter:"chapter_11"},{characterId:"peter_snowden",type:"associate",description:"Part of the same domestic network",introducedInChapter:"chapter_11"}],development:[{phase:"Beginning",description:"Noted as part of the wider circle"},{phase:"Middle",description:"Operates under alias while moving inland"}],aliases:["Young"],fate:"",key_scenes:[],introducedInChapter:"chapter_11"},{id:"lady_megan_davies",name:"Lady Megan Davies",title:"Lady",group:"Fifth Columnists",role:"Sympathizer aligned with German salon circle",background:"Seen in Berlin social circuit; aligned with domestic network.",personality:"Composed, purposeful",traits:["socially adept","ideological\u2011lean"],relations:[{characterId:"sir_john_davies",type:"spouse",description:"Partner in social and political aims",introducedInChapter:"chapter_11"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Crosses paths via Berlin and home events",introducedInChapter:"chapter_12"}],development:[{phase:"Beginning",description:"Introduced within Berlin\u2011leaning set"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_11"},{id:"franz_stammer",name:"Franz Stammer",group:"German Connection",role:"Reichsbank official; hosts and frames introductions in Berlin",background:"Financial interlocutor; cultivates ties with British visitors.",personality:"Formal, solicitous",traits:["host","financial gatekeeper"],relations:[{characterId:"gerda_stammer",type:"spouse",description:"Partners in salon hosting and political signalling",introducedInChapter:"chapter_10"},{characterId:"richard_childreth",type:"colleague",description:"Discusses banking facilities and political expectations",introducedInChapter:"chapter_09"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Introduces across Berlin social circuit",introducedInChapter:"chapter_10"}],development:[{phase:"Beginning",description:"Positions talks as economic while vetting politics"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_09"},{id:"gerda_stammer",name:"Gerda Stammer",group:"German Connection",role:"Berlin salon organizer courting English sympathizers",background:"Leads coffee group that screens and recruits; writes urging action after power consolidation.",personality:"Commanding, effusive in salons",traits:["organizer","influencer"],relations:[{characterId:"franz_stammer",type:"spouse",description:"Joint public front for the circle",introducedInChapter:"chapter_10"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Courts and instructs; later attends English garden events",introducedInChapter:"chapter_10"},{characterId:"richard_childreth",type:"associate",description:"Hosts him socially while probing stances",introducedInChapter:"chapter_10"}],development:[{phase:"Beginning",description:"Warm welcome masking political testing"},{phase:"Middle",description:"Pushes overt commitments after consolidation of power"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_10"},{id:"helmut_schnitter",name:"Helmut Schnitter",group:"German Connection",role:"Abwehr agent landed via U\u2011boat; later travels under British alias",background:"Lands on St Mary\u2019s (Isles of Scilly) and exfiltrates toward mainland under cover.",personality:"Composed, discreet",traits:["covert entry","tradecraft"],relations:[],development:[{phase:"Beginning",description:"Stealth landing; blends in for onward movement"}],aliases:["T. G. Edwards"],fate:"",key_scenes:[],introducedInChapter:"preface"},{id:"mary_ashdown",name:"Mary Ashdown",group:"Protagonists",role:"Cynthia\u2019s secretary and trusted aide; assists with household and comms security",background:"Local, reliable, becomes essential to the domestic side of the operation.",personality:"Practical, loyal, perceptive",traits:["trusted","resourceful"],relations:[{characterId:"lady_cynthia_childreth",type:"confidante",description:"Trusted inner\u2011circle aide; manages invitations and vigilance",introducedInChapter:"chapter_15"}],development:[{phase:"Beginning",description:"Household support and gatekeeper"},{phase:"Middle",description:"Active helper spotting intrusions and watchers"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_15"},{id:"edwin_holmes",name:"Edwin Holmes",group:"Military",role:"Protective lead posing as butler and staff chief at events",background:"Military aide to Bill; runs covert staff/watch at Cynthia\u2019s gatherings.",personality:"Disciplined, courteous in cover, vigilant",traits:["protective detail","field coordination"],relations:[{characterId:"wing_commander_bill_lawrie",type:"subordinate",description:"Executes plans and provides field reporting",introducedInChapter:"chapter_19"},{characterId:"lady_cynthia_childreth",type:"protector",description:"Oversees personal cover and safety during events",introducedInChapter:"chapter_19"}],development:[{phase:"Beginning",description:"Establishes protective cover team at the house"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_19"},{id:"george_bennet",name:"Chief Inspector George Bennet",group:"Supporting Characters",role:"Special Branch lead; tracks the landing through to London",background:"Experienced \u201cspy\u2011catcher\u201d; coordinates watches and lawful pretexts.",personality:"Methodical, unflappable",traits:["investigator","patient"],relations:[{characterId:"jim_hargreaves",type:"colleague",description:"Works in tandem across the travel corridor",introducedInChapter:"chapter_26"},{characterId:"wing_commander_bill_lawrie",type:"colleague",description:"Inter\u2011agency coordination and hypothesis sharing",introducedInChapter:"chapter_31"},{characterId:"alison_hart",type:"colleague",description:"Shares operational picture as threads converge",introducedInChapter:"chapter_31"}],development:[{phase:"Beginning",description:"Patient watch on Scilly; builds thread to London"},{phase:"Middle",description:"Runs 24\u2011hour watch and controlled entry"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_25"},{id:"jim_hargreaves",name:"Jim Hargreaves",group:"Supporting Characters",role:"Special Branch colleague assisting Bennet",background:"Former RAF; assists with station/rail and watch logistics.",personality:"Capable, steady",traits:["fieldcraft","surveillance"],relations:[{characterId:"george_bennet",type:"colleague",description:"Paired on the trail from Penzance to London",introducedInChapter:"chapter_26"}],development:[{phase:"Beginning",description:"Rail watch and discrete mobility"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_26"},{id:"alison_hart",name:"Alison Hart",group:"Military",role:"MI5 field operative; follows \u201cYoung,\u201d later embeds to protect Cynthia",background:"Adaptive cover specialist; executes shadowing and house\u2011protection roles.",personality:"Quick\u2011thinking, adaptive",traits:["disguise","surveillance","protective detail"],relations:[{characterId:"george_bennet",type:"colleague",description:"Shares tracking picture and signals",introducedInChapter:"chapter_31"},{characterId:"wing_commander_bill_lawrie",type:"colleague",description:"Takes direction on shadowing and embed",introducedInChapter:"chapter_26"},{characterId:"lady_cynthia_childreth",type:"protector",description:"Embedded at house to harden against threat",introducedInChapter:"chapter_42"},{characterId:"jacobs",type:"colleague",description:"Receives issued sidearm and technical support",introducedInChapter:"chapter_42"}],development:[{phase:"Beginning",description:"Executes rail shadow under tourist cover"},{phase:"Middle",description:"Transitions to local protective embed"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_26"},{id:"oswald_mosley",name:"Sir Oswald Mosley",title:"Sir",group:"Historical Figures",role:"Leader of the British Union of Fascists; seeks sympathetic allies and safe houses",background:"Prominent British fascist; attends Cynthia\u2019s gathering in July 1934 and quietly solicits domestic support.",personality:"Charismatic, domineering, ideological",traits:["orator","political_leader"],relations:[{characterId:"lady_cynthia_childreth",type:"recruiter",description:"Privately asks her to act as a safe house and to support the cause",introducedInChapter:"chapter_22"},{characterId:"peter_snowden",type:"associate",description:"Connected via the country\u2011house sympathizer network",introducedInChapter:"chapter_22"}],development:[{phase:"Middle",description:"Arrives with minders; probes for domestic support without a public address"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_22"},{id:"gladys",name:"Gladys",group:"Supporting Characters",role:"Village postmistress and vigilant local observer",background:"Long\u2011time resident who quietly tracks comings and goings; tips Cynthia and, indirectly, the team.",personality:"Observant, discreetly gossipy, reliable",traits:["observant","well\u2011connected"],relations:[{characterId:"lady_cynthia_childreth",type:"village-contact",description:"Watches for strangers and passes along useful observations",introducedInChapter:"chapter_20"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_20"},{id:"don",name:"Don",group:"Supporting Characters",role:"Tradecraft trainer arriving as a fishmonger",background:"Experienced operative who instructs Cynthia and Mary in tails and countersurveillance.",personality:"Direct, methodical",traits:["trainer","practical"],relations:[{characterId:"lady_cynthia_childreth",type:"trainer",description:"Gives practical training and procedures",introducedInChapter:"chapter_18"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_18"},{id:"jack_harris",name:"Jack",group:"Fifth Columnists",role:"Aldworth shopkeeper and postmaster assisting the conspirators",background:"Local collaborator who shares postal intel and minor assistance; later cuts Cynthia\u2019s phone line.",personality:"Outwardly friendly; covertly aligned",traits:["deceptive","plugged\u2011in"],relations:[{characterId:"louise_harrington",type:"associate",description:"Provides local cover, postal checks, and small tasks",introducedInChapter:"chapter_44"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_44"},{id:"patrick_denleigh",name:"Patrick",group:"Supporting Characters",role:"Butler at Denleigh Manor",background:"Professional butler who manages Denleigh\u2019s guest routines.",personality:"Formal, proper",traits:["discreet"],relations:[{characterId:"amy_wyndholme",type:"subordinate",description:"Household butler at Denleigh",introducedInChapter:"chapter_01"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"sheila_denleigh",name:"Sheila",group:"Supporting Characters",role:"Maid at Denleigh Manor",background:"Helps with household and guest arrangements; early source of practical details.",personality:"Helpful, polite",traits:["efficient"],relations:[{characterId:"amy_wyndholme",type:"subordinate",description:"Household maid at Denleigh",introducedInChapter:"chapter_01"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_01"},{id:"montgomery",name:"Lieutenant General Bernard Montgomery",title:"Lieutenant General",group:"Historical Figures",role:"Target of the assassination plot",background:"Senior British Army commander; planned goodwill visits and inspections during the period.",personality:"Confident, morale\u2011focused",traits:["strategic","charismatic"],relations:[],development:[],aliases:["Monty"],fate:"",key_scenes:[],introducedInChapter:"chapter_35"},{id:"montys_adc",name:"Montgomery's ADC",group:"Supporting Characters",role:"Liaison and security coordinator with the team",background:"Coordinates movements and accepts the \u201cthree Montys\u201d decoy plan.",personality:"Efficient, discreet",traits:["liaison"],relations:[{characterId:"montgomery",type:"subordinate",description:"Aide\u2011de\u2011camp and liaison for schedule/security",introducedInChapter:"chapter_42"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_42"},{id:"inspector_williams",name:"Inspector Williams",group:"Supporting Characters",role:"Pembrokeshire police inspector assisting Davies investigation",background:"Coordinates with Special Branch on ferry/registration tracing.",personality:"Thorough, cooperative",traits:["meticulous"],relations:[{characterId:"george_bennet",type:"colleague",description:"Coordinates ferry/registration intelligence",introducedInChapter:"chapter_47"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_47"},{id:"paul_holness",name:"Paul Holness",group:"Supporting Characters",role:"Publisher cover and intermediary",background:"Former RAF colleague of Bill; provides cover channel for Felicity and validates her presence.",personality:"Reliable, discreet",traits:["trusted"],relations:[{characterId:"wing_commander_bill_lawrie",type:"former-colleague",description:"Assists with secure cover and deliveries",introducedInChapter:"chapter_45"},{characterId:"felicity_gray",type:"cover-provider",description:"Publisher fa\xe7ade enabling her reports and courier drops",introducedInChapter:"chapter_45"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_45"},{id:"jacobs",name:"Jacobs",group:"Supporting Characters",role:"Service armorer/armoury expert",background:"Identifies 7.92 shell and issues suitable protection sidearm to Alison.",personality:"Technical, concise",traits:["armorer"],relations:[{characterId:"wing_commander_bill_lawrie",type:"colleague",description:"Provides armoury expertise and support",introducedInChapter:"chapter_42"},{characterId:"alison_hart",type:"colleague",description:"Arms Alison and confirms shell identification",introducedInChapter:"chapter_42"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_42"},{id:"ken",name:"Ken",group:"Supporting Characters",role:"Driver/operative stationed to block the back lane",background:"Assists on final day with vehicle positioning and cutoff.",personality:"Dependable",traits:["driver"],relations:[{characterId:"wing_commander_bill_lawrie",type:"colleague",description:"Operative positioned for back\u2011lane cutoff",introducedInChapter:"chapter_50"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_50"},{id:"chief_inspector_st_johns",name:"Chief Inspector (St. Johns)",group:"Supporting Characters",role:"Local police chief first engaged on Edwards case",background:"Territorial but cooperative once national security is explained.",personality:"Professional",traits:["by\u2011the\u2011book"],relations:[{characterId:"george_bennet",type:"colleague",description:"Shares jurisdictional handoff on Edwards investigation",introducedInChapter:"chapter_30"}],development:[],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_30"},{id:"felicity_gray",name:"Felicity Gray",group:"Supporting Characters",role:"Administrative gatekeeper at \u201cImperial Aggregates\u201d cover office",background:"Organizes travel, meetings, and document flows under cover.",personality:"Efficient, discreet",traits:["logistics","gatekeeping"],relations:[{characterId:"wing_commander_bill_lawrie",type:"colleague",description:"Trusted for schedule and comms cover",introducedInChapter:"chapter_06"},{characterId:"lady_cynthia_childreth",type:"associate",description:"Facilitates travel and practical arrangements",introducedInChapter:"chapter_06"},{characterId:"richard_childreth",type:"associate",description:"Coordinates itinerary and packing of schedules",introducedInChapter:"chapter_06"},{characterId:"paul_holness",type:"colleague",description:"Works with Paul\u2019s cover channel during cottage surveillance phase",introducedInChapter:"chapter_45"}],development:[{phase:"Beginning",description:"Smooth first contact and logistics for Berlin trip"}],aliases:[],fate:"",key_scenes:[],introducedInChapter:"chapter_06"}]},6115:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characterPositions:()=>a,eventPositions:()=>r,locationPositions:()=>i,mapBoundaries:()=>s,objectPositions:()=>o});const i={bucklebury:{lat:51.4431,lon:-1.2075,name:"Bucklebury, Berkshire"},denleigh_manor:{lat:51.4431,lon:-1.2075,name:"Denleigh Manor (near Bucklebury)"},london:{lat:51.5074,lon:-.1278,name:"London"},berlin:{lat:52.52,lon:13.405,name:"Berlin, Germany"},hotel_adlon:{lat:52.5163,lon:13.3779,name:"Hotel Adlon, Berlin"},scilly_isles:{lat:49.9167,lon:-6.3167,name:"Isles of Scilly"},penzance:{lat:50.1188,lon:-5.5376,name:"Penzance, Cornwall"},churn_ranges:{lat:51.4431,lon:-1.2075,name:"Churn Rifle Ranges (near Bucklebury)"},box_tunnel:{lat:51.4167,lon:-2.25,name:"Box Tunnel, Wiltshire"},aldworth:{lat:51.4431,lon:-1.2075,name:"Aldworth (near Bucklebury)"}},r={german_infiltration_scilly:{locationId:"scilly_isles",name:"German Infiltration via Scilly Isles"},cynthia_arrives_denleigh:{locationId:"denleigh_manor",name:"Cynthia Arrives at Denleigh Manor"},berlin_trip:{locationId:"berlin",name:"Berlin Trip"},hotel_adlon_meeting:{locationId:"hotel_adlon",name:"Hotel Adlon Meeting"},first_party_bucklebury:{locationId:"bucklebury",name:"First Party at Bucklebury"},second_party_mosley:{locationId:"bucklebury",name:"Second Party with Mosley"},rifle_discovery:{locationId:"churn_ranges",name:"Rifle Discovery at Churn Ranges"},train_journey:{locationId:"box_tunnel",name:"Train Journey through Box Tunnel"},edwards_murder:{locationId:"london",name:"Edwards Murder in London"}},a={cynthia_childreth:{locationId:"bucklebury",name:"Lady Cynthia Childreth"},richard_childreth:{locationId:"bucklebury",name:"Richard Childreth"},bill_lawrie:{locationId:"london",name:"Wing Commander William Lawrie"},hannah_park:{locationId:"london",name:"Hannah Park"},jane_maclean:{locationId:"london",name:"Jane Maclean"},peter_snowden:{locationId:"aldworth",name:"Colonel Peter Snowden"},marjorie_snowden:{locationId:"aldworth",name:"Marjorie Snowden"},bob_harrington:{locationId:"aldworth",name:"Bob Harrington"},louise_harrington:{locationId:"aldworth",name:"Louise Harrington"},sir_john_davies:{locationId:"aldworth",name:"Sir John Davies"},lady_megan_davies:{locationId:"aldworth",name:"Lady Megan Davies"},gerda_stammer:{locationId:"berlin",name:"Gerda Stammer"},franz_stammer:{locationId:"berlin",name:"Franz Stammer"},helmut_schnitter:{locationId:"scilly_isles",name:"Helmut Schnitter"},george_bennet:{locationId:"london",name:"Chief Inspector George Bennet"}},o={german_rifle_fg42:{locationId:"churn_ranges",name:"German Rifle (FG42)"},suitcase_radio:{locationId:"bucklebury",name:"Suitcase with Radio"},cheque_book_edwards:{locationId:"london",name:"T.G. Edwards Cheque Book"}},s={uk:[[49.5,-8],[59,2]],europe:[[47,-8],[59,15]]}},6214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{themeElements:()=>i});const i=[{id:"class_privilege",title:"Class and Privilege",description:"Examination of how class and social standing influence characters' actions and beliefs.",examples:["Contrast between genuine aristocrats (Cynthia) and aspirational middle-class (Snowden)","Use of country house parties as recruitment grounds","Aristocratic connections of fifth columnists"],relatedCharacters:["cynthia_childreth","peter_snowden","john_davies"]},{id:"deception_identity",title:"Deception and Double Identity",description:"Exploration of hidden identities and deception in wartime.",examples:["Multiple characters using aliases and disguises","Louise's ultimate betrayal of her group","Cynthia's double life"],relatedCharacters:["louise_harrington","cynthia_childreth","hannah_park"]},{id:"loyalty_betrayal",title:"Loyalty and Betrayal",description:"The complex nature of loyalty during wartime and how personal beliefs conflict with national interest.",examples:["Louise's change of allegiance","The fifth columnists betraying their country","Cynthia's initial reluctance to get involved"],relatedCharacters:["louise_harrington","bob_harrington","cynthia_childreth"]},{id:"knitting_symbolism",title:"Knitting as Symbol",description:"The use of knitting as a symbol throughout the novel, representing both domesticity and hidden danger.",examples:['The German Nazi women nicknamed "the knitters"',"Louise's signature trait that helps identify her",'Historical reference to "les tricoteuses" - women who knit during French Revolution executions'],relatedCharacters:["louise_harrington","gerda_stammer","lena_weber"]},{id:"observation_perception",title:"Observation and Perception",description:"The importance of careful observation and the frequent gap between perception and reality.",examples:["Edwards' suitcase believed to contain radio actually holding women's clothes","The unnoticed significance of Louise's knitting","Village watchers who see but don't understand","Surveillance through art (paintings)"],relatedCharacters:["gladys","cynthia_childreth","louise_harrington","bert"]},{id:"shadow_war",title:"The Shadow War",description:"The unseen intelligence conflict alongside the conventional war, fought without public knowledge.",examples:["Intelligence operations conducted in public spaces","Fifth columnist networks operating in seeming normalcy","Country houses and village settings concealing espionage activities","Cynthia's deliberately understated OBE award"],relatedCharacters:["bill_laurie","cynthia_childreth","peter_snowden"]},{id:"appearance_reality",title:"Appearance vs. Reality",description:"The contrast between how people and situations appear and what they truly are.",examples:["Louise's outward commitment to the cause while secretly working against it","Snowden's exaggerated rank and performance","Montgomery decoys during final operation","Seemingly innocent village life concealing espionage"],relatedCharacters:["louise_harrington","peter_snowden","jack"]},{id:"gender_expectations",title:"Gender Roles and Expectations",description:"The novel's exploration of gender expectations and their subversion in intelligence work.",examples:["Louise as the actual leader despite appearing secondary to her husband","Cynthia using her aristocratic lady status as cover","Hannah's provocative masculine dress as Miss Gilchrist",'Megan\'s deadly effectiveness despite seeming "mousey"',"Bob disguising as a woman for escape"],relatedCharacters:["louise_harrington","cynthia_childreth","hannah_park","megan_davies"]},{id:"professional_competence",title:"Professional Expertise vs. Amateur Enthusiasm",description:"The contrast between trained intelligence professionals and amateur fifth columnists.",examples:["The methodical approach of Bill's team vs. the passionate but less disciplined approach of the fifth columnists","The fifth columnists' failure to notice surveillance","Professional techniques (lock picking, surveillance) vs. amateur efforts","Successful intelligence planning contrasted with fifth columnist mistakes"],relatedCharacters:["bill_laurie","bob_harrington","edwin","peter_snowden"]}]},6310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{chapters:()=>i});const i=[{id:"preface",title:"Preface",description:"Introduction to the German infiltration of UK via Scilly Isles",events:["german_infiltration"],timeframe:"1943"},{id:"chapter1",title:"Chapter 1: Wiltshire, May 1932",description:"Cynthia arrives at Denleigh Manor for a weekend party",events:["cynthia_recruitment"],timeframe:"May 1932"},{id:"chapter2",title:"Chapter 2: Infiltration",description:"Cynthia and Richard are recruited for intelligence work",events:["cynthia_recruitment"],timeframe:"May 1932"},{id:"chapter3",title:"Chapter 3: Berlin",description:"Richard and Cynthia travel to Berlin to establish their cover",events:["berlin_trip","hitler_sighting"],timeframe:"1932-1933"},{id:"chapter4",title:"Chapter 4: The First Party",description:"Cynthia hosts Nazi sympathizers at her home",events:["first_party"],timeframe:"May 27 (year unspecified)"},{id:"chapter5",title:"Chapter 5: Growing Network",description:"The Nazi sympathizer network expands, with Mosley making an appearance",events:["second_party"],timeframe:"July 7 (year unspecified)"},{id:"chapter6",title:"Chapter 6: The Mysterious Edwards",description:"German agent Edwards arrives in the UK",events:["edwards_arrival","train_journey"],timeframe:"1943"},{id:"chapter7",title:"Chapter 7: Death in London",description:"Edwards is found murdered in his London flat",events:["edwards_murder"],timeframe:"1943"},{id:"chapter8",title:"Chapter 8: Preparations",description:"The Fifth Columnists test a German rifle and prepare for their operation",events:["rifle_testing"],timeframe:"Late 1943"},{id:"chapter9",title:"Chapter 9: Escape to Ireland",description:"The Davies escape to Ireland ahead of the assassination attempt",events:["davies_ireland_escape"],timeframe:"December 1943"},{id:"chapter10",title:"Chapter 10: Occupation",description:"The conspirators take over Cynthia's house",events:["house_occupation"],timeframe:"December 5-7, 1943"},{id:"chapter11",title:"Chapter 11: The Attempt",description:"The assassination attempt on Montgomery is foiled",events:["assassination_attempt"],timeframe:"December 7, 1943"},{id:"epilogue",title:"Epilogue",description:"The aftermath of the failed plot",events:["louise_death"],timeframe:"Two weeks after the assassination attempt"}]},6686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mysteryElements:()=>i});const i=[{id:"mystery_hyde_identity",title:"Who is Mr. Hyde?",description:"The identity, origin, and relationship of Hyde to Dr. Jekyll.",introducedInChapter:"chapter_01",revealedInChapter:"chapter_09",relatedCharacters:["gabriel_utterson","edward_hyde","henry_jekyll"],relatedEvents:["story_of_the_door","search_for_mr_hyde","dr_lanyon_narrative"],status:"major_plot"},{id:"mystery_jekyll_will",title:"The Will and Beneficiary",description:"Why does Jekyll leave everything to Hyde and under what conditions?",introducedInChapter:"chapter_02",revealedInChapter:"chapter_10",relatedCharacters:["gabriel_utterson","henry_jekyll","edward_hyde"],relatedEvents:["search_for_mr_hyde","jekyll_full_statement"],status:"background"},{id:"mystery_letter_authenticity",title:"Is Hyde\u2019s Letter Genuine?",description:"The provenance of the letter presented by Jekyll and whether Hyde truly authored it.",introducedInChapter:"chapter_05",revealedInChapter:"chapter_10",relatedCharacters:["gabriel_utterson","henry_jekyll","mr_guest"],relatedEvents:["incident_of_the_letter","jekyll_full_statement"],status:"clue_chain"},{id:"mystery_lanyon_illness",title:"What Shock Felled Dr. Lanyon?",description:"The cause of Lanyon\u2019s sudden illness and his refusal to speak of what he witnessed.",introducedInChapter:"chapter_06",revealedInChapter:"chapter_09",relatedCharacters:["hastie_lanyon","edward_hyde","henry_jekyll"],relatedEvents:["remarkable_incident_of_dr_lanyon","dr_lanyon_narrative"],status:"major_climax"},{id:"mystery_potion_impurity",title:"Why Did the Potion Fail?",description:"Jekyll\u2019s later inability to reverse the transformation due to an impurity he can no longer source.",introducedInChapter:"chapter_10",revealedInChapter:"chapter_10",relatedCharacters:["henry_jekyll"],relatedEvents:["jekyll_full_statement"],status:"explanatory"}]},6696:(e,t,n)=>{"use strict";n.r(t),n.d(t,{characters:()=>i});const i=[{id:"cynthia_childreth",name:"Lady Cynthia Childreth",title:"Lady",group:"Protagonists",role:"Main protagonist, undercover operative",background:'Wealthy aristocrat from Bucklebury, inheritor of a large country estate. Educated abroad and speaks French and German fluently despite claiming otherwise to Nazi sympathizers. Unconventional aristocrat who shuns many typical social events, preferring to live "in the shadows" despite her position.',personality:"Independent, observant, quick-thinking, adaptable. Not comfortable with class expectations. Has a natural talent for intelligence work despite initial reluctance.",traits:["Multilingual","Well-traveled","Independent thinker","Adaptable","Observant"],relations:[{characterId:"richard_childreth",type:"spouse",description:'Marriage of convenience where both have had "dalliances"',introducedInChapter:"chapter1"},{characterId:"amy_wyndholme",type:"friend",description:"Old school friend who facilitates her recruitment",introducedInChapter:"chapter1"},{characterId:"bill_laurie",type:"handler",description:"Intelligence handler who respects her abilities",introducedInChapter:"chapter3"},{characterId:"mary",type:"employee_friend",description:"Secretary, confidante, and ally throughout operations",introducedInChapter:"epilogue"},{characterId:"peter_snowden",type:"adversary",description:"Nazi sympathizer she must monitor",introducedInChapter:"chapter1"},{characterId:"louise_harrington",type:"complex",description:"Initially an adversary, later revealed as ally",introducedInChapter:"chapter1"}],development:[{phase:"Beginning",description:"Socialite with unconventional views, recruited at Denleigh Manor"},{phase:"Middle",description:"Reluctant intelligence asset, hosting parties for Nazi sympathizers while collecting information"},{phase:"Crisis",description:"Held captive in her home during assassination attempt, maintaining composure under pressure"},{phase:"End",description:"Effective operative who played crucial role in foiling assassination plot, honored with OBE"}],fate:'Receives OBE for "services to war work" in recognition of her intelligence contributions',key_scenes:["denleigh_recruitment","berlin_trip","first_party","second_party","assassination_attempt"],introducedInChapter:"chapter1"},{id:"richard_childreth",name:"Richard Childreth",group:"Protagonists",role:"Cynthia's husband, banker, supporting operative",background:'Self-made financier who worked his way to top position through "hard graft and determination." Served in Royal Berkshires during WWI, arriving just in time for Passchendaele in 1917.',personality:"Practical, professional, supportive of Cynthia. More comfortable with straightforward business matters than espionage intrigue.",traits:["Financially astute","Loyal","Pragmatic","Veteran of WWI"],relations:[{characterId:"cynthia_childreth",type:"spouse",description:"Marriage of convenience that functions well professionally",introducedInChapter:"chapter1"},{characterId:"bill_laurie",type:"handler",description:"Operational contact for banking aspects of mission",introducedInChapter:"chapter6"}],development:[{phase:"Beginning",description:"Banker drawn into intelligence work through Cynthia"},{phase:"Middle",description:"Creates bank account for Nazi operations to track financial movements"},{phase:"End",description:"Continues supporting Cynthia through final operation"}],key_scenes:["berlin_trip","bank_meeting","assassination_attempt"],introducedInChapter:"chapter1"},{id:"bill_laurie",name:"Wing Commander William Laurie",group:"Protagonists",role:"Intelligence officer, Cynthia's handler",background:"Former RFC/RAF pilot injured in WWI over the Somme. After recovery, was seconded to intelligence work rather than returning to flying duty. Rose to rank of Wing Commander (later Group Captain).",personality:"Strategic, cautious, intelligent. Expert at planning long-term intelligence operations and managing assets.",traits:["Military background","Strategic thinker","Patient","Forward-planning"],relations:[{characterId:"cynthia_childreth",type:"asset",description:"Recruits and handles Cynthia, respects her abilities",introducedInChapter:"chapter3"},{characterId:"hannah_park",type:"colleague",description:"Works closely with Hannah on operations",introducedInChapter:"chapter3"},{characterId:"jane_maclean",type:"colleague",description:"Works closely with Jane on operations",introducedInChapter:"chapter3"},{characterId:"edwin",type:"subordinate",description:'Edwin is Bill\'s "minder" and operational support',introducedInChapter:"epilogue"},{characterId:"george_bennet",type:"colleague",description:"Collaborates with Special Branch on cross-department operations",introducedInChapter:"epilogue"},{characterId:"louise_harrington",type:"asset",description:"Secret informant within the fifth columnist group",introducedInChapter:"epilogue"}],aliases:["Mr. Newton (at Denleigh Manor)"],key_scenes:["denleigh_recruitment","operation_planning","assassination_prevention"],introducedInChapter:"chapter3"},{id:"hannah_park",name:"Hannah Park",group:"Protagonists",role:"Intelligence agent",background:"Former Section Controller in WAACs until they disbanded in 1921. Subsequently recruited to intelligence work.",personality:"Bold, unconventional, adaptable. Master of disguise who can completely transform her appearance.",traits:["Master of disguise","Provocative","Adaptable","Quick-thinking"],relations:[{characterId:"bill_laurie",type:"colleague",description:"Works under Bill's direction on operations",introducedInChapter:"chapter3"},{characterId:"jane_maclean",type:"partner",description:"Close working partnership, often operate together",introducedInChapter:"chapter3"}],aliases:["Miss Gilchrist (at Denleigh, deliberately provocative with monocle and masculine attire)","Blonde society lady (at the Ritz)"],key_scenes:["denleigh_recruitment","ritz_meeting","final_operation"],introducedInChapter:"chapter3"},{id:"louise_harrington",name:"Louise Harrington",group:"Fifth Columnists",role:"Fifth columnist who becomes double agent",background:"University educated at Girton College, linguistics graduate. Expert marksman from university shooting club. Initially believed in National Socialism but became disillusioned with growing extremism.",personality:"Cunning, adaptable, morally complex. Began as true believer but developed doubts about Nazi methods.",traits:["Knitter","Intelligent","Morally complex","Excellent shot","Multilingual"],relations:[{characterId:"bob_harrington",type:"spouse",description:"Marriage increasingly strained by her changing views",introducedInChapter:"chapter1"},{characterId:"bill_laurie",type:"handler",description:"Secret informant relationship after disillusionment",introducedInChapter:"epilogue"},{characterId:"gerda_stammer",type:"associate",description:"Connection to German Nazi supporters"}],development:[{phase:"Beginning",description:"Committed Nazi sympathizer and leader of UK network"},{phase:"Middle",description:"Growing disillusionment with Nazi violence and extremism"},{phase:"Turn",description:"Secret cooperation with British intelligence"},{phase:"End",description:"Prevents assassination attempt, fully revealed as double agent"}],aliases:["Grey-haired lady on train"],fate:"Killed in suspicious gas explosion after events, likely murdered by remaining Nazi sympathizers",key_scenes:["denleigh_manor","berlin_trip","train_journey","rifle_practice","assassination_prevention"],introducedInChapter:"chapter1"},{id:"bob_harrington",name:"Bob Harrington",group:"Fifth Columnists",role:"Fifth columnist, trained marksman",background:'Medical orderly in WWI, seconded for "special duties"',personality:"Determined, obsessive about weapons",traits:["Meticulous","Fanatical"],fate:"Shot in hand, arrested and imprisoned",introducedInChapter:"chapter1"},{id:"john_davies",name:"Sir John Davies",title:"Sir",group:"Fifth Columnists",role:"Fifth columnist, pro-Nazi sympathizer",background:"Welsh landowner",personality:"Arrogant, commanding",traits:["Authoritative","Wealthy landowner"],fate:"Shot in arm, arrested and imprisoned",introducedInChapter:"chapter11"},{id:"megan_davies",name:"Lady Megan Davies",title:"Lady",group:"Fifth Columnists",role:"Fifth columnist, most fanatical of the group",background:"Daughter of a Welsh rector",personality:"Appears mousey but is extremely dedicated to the cause",traits:["Deceptively meek appearance","Fanatically devoted to Nazi cause"],fate:"Escaped to Ireland",introducedInChapter:"chapter11"},{id:"peter_snowden",name:"Colonel Peter Snowden",title:"Colonel (claimed), actually Major",group:"Fifth Columnists",role:"Fifth columnist, pro-Nazi sympathizer",fate:"Escaped to Ireland",introducedInChapter:"chapter1"},{id:"marjorie_snowden",name:"Marjorie Snowden",group:"Fifth Columnists",role:"Fifth columnist, pro-Nazi sympathizer",fate:"Escaped to Ireland",introducedInChapter:"chapter1"},{id:"gerda_stammer",name:"Gerda Stammer",group:"German Connection",role:"German Nazi sympathizer",traits:["Enthusiastic Hitler supporter"],introducedInChapter:"chapter10"},{id:"mary",name:"Mary",group:"Protagonists",role:"Cynthia's secretary and confidante",introducedInChapter:"chapter11"},{id:"amy_wyndholme",name:"Amy Wyndholme",group:"Supporting Characters",role:"Cynthia's old school friend, facilitates recruitment",introducedInChapter:"chapter1"},{id:"jane_maclean",name:"Jane Maclean",group:"Protagonists",role:"Intelligence agent",introducedInChapter:"chapter1"},{id:"george_bennet",name:"George Bennet",group:"Protagonists",role:"Special Branch officer",introducedInChapter:"epilogue"},{id:"edwin",name:"Edwin",group:"Protagonists",role:'Bill\'s "minder" and operational support',introducedInChapter:"epilogue"},{id:"franz_stammer",name:"Franz Stammer",group:"German Connection",role:"Works at the Reichsbank",introducedInChapter:"chapter9"},{id:"lena_weber",name:"Lena Weber",group:"German Connection",role:"Original member of the German pro-Nazi group",introducedInChapter:"epilogue"},{id:"edwards",name:"T.G. Edwards",group:"German Connection",role:"German agent",fate:"Murdered in London flat",introducedInChapter:"epilogue"},{id:"jim",name:"Jim",group:"Supporting Characters",role:"George's colleague at Special Branch",introducedInChapter:"epilogue"},{id:"montgomery",name:"Lieutenant General Bernard Montgomery",title:"Lieutenant General",group:"Military",role:"Target of assassination plot",background:"Senior British Army officer, commander of the Eighth Army in North Africa and Italy. Known for his victory at El Alamein and distinctive beret with two badges.",personality:"Confident, meticulous, sometimes arrogant. Known for boosting troop morale through personal visits.",traits:["Strategic","Charismatic","Methodical","Recognizable"],significance:"Primary target of the assassination plot. His death was intended to disrupt Allied invasion planning.",key_scenes:["montgomery_visit","assassination_attempt"],introducedInChapter:"epilogue"},{id:"gladys",name:"Gladys",group:"Supporting Characters",role:"Village postmistress and inadvertent intelligence asset",background:"Long-time resident and postmistress in Cynthia's village. Knows everyone and observes everything.",personality:"Observant, gossipy but reliable, loyal to the community",traits:["Vigilant","Knowledgeable about local affairs","Trusted"],relations:[{characterId:"cynthia_childreth",type:"village_contact",description:"Trusted local who provides information about strangers in the village",introducedInChapter:"epilogue"}],significance:"Provides crucial intelligence about unknown visitors and watchers in the village",key_scenes:["village_surveillance"],introducedInChapter:"chapter11"},{id:"alison",name:"Alison",group:"Protagonists",role:"Intelligence agent",background:"MI5 operative specializing in surveillance and disguise",personality:"Adaptable, quick-thinking, resourceful",traits:["Master of disguise","Observant","Resilient"],relations:[{characterId:"bill_laurie",type:"subordinate",description:"Works under Bill's direction",introducedInChapter:"epilogue"}],aliases:["Sarah (to Cynthia)","Rambler (on train)"],key_scenes:["train_journey","house_protection"],introducedInChapter:"epilogue"},{id:"felicity",name:"Felicity",group:"Protagonists",role:"Bill's secretary who becomes field operative",background:"Office worker who transitions to field operations",personality:"Resourceful, adaptable, enthusiastic about field work",traits:["Observant","Diligent","Versatile"],aliases:["Writer (in Aldworth)"],key_scenes:["cottage_surveillance"],introducedInChapter:"chapter6"},{id:"don",name:"Don",group:"Protagonists",role:"Intelligence operative who trains Cynthia",background:"Experienced agent specializing in tradecraft",personality:"Professional, direct, methodical",traits:["Experienced operative","Good teacher","Practical"],key_scenes:["tradecraft_training"],introducedInChapter:"epilogue"},{id:"jack",name:"Jack",group:"Fifth Columnists",role:"Shopkeeper in Aldworth working with Nazi sympathizers",background:"Local shopkeeper and postmaster secretly supporting fifth columnists",personality:"Outwardly friendly, inwardly scheming",traits:["Deceptive","Observant","Connected"],relations:[{characterId:"louise_harrington",type:"co-conspirator",description:"Provides local intelligence and assistance to Louise",introducedInChapter:"epilogue"}],key_scenes:["cottage_surveillance","house_occupation"],introducedInChapter:"epilogue"},{id:"keith",name:"Keith",group:"Protagonists",role:"Intelligence operative and artist cover",background:"Agent who assumes cover as artist for surveillance",personality:"Observant, detail-oriented, patient",traits:["Artistic","Discreet"],key_scenes:["surveillance_operation","final_operation"],introducedInChapter:"epilogue"},{id:"bert",name:"Bert",group:"Protagonists",role:"Intelligence operative who discovers Edwards' body",background:"Special Branch officer with artistic talent",personality:"Resourceful, observant, resilient",traits:["Artistic","Adaptable"],key_scenes:["edwards_discovery","surveillance_operation"],introducedInChapter:"epilogue"},{id:"mike",name:"Mike",group:"Protagonists",role:"Intelligence operative",background:"Special Branch officer",personality:"Analytical, thorough",traits:["Detail-oriented","Methodical"],key_scenes:["surveillance_operation","final_operation"],introducedInChapter:"epilogue"},{id:"patrick",name:"Patrick",group:"Supporting Characters",role:"Butler at Denleigh Manor",background:"Professional butler serving the Wyndholmes",personality:"Formal, discreet",traits:["Professional","Observant"],introducedInChapter:"chapter1"},{id:"sheila",name:"Sheila",group:"Supporting Characters",role:"Maid at Denleigh Manor",background:"Household staff",personality:"Attentive, proper",traits:["Efficient","Proper"],introducedInChapter:"chapter1"},{id:"horace_wyndholme",name:"Horace Wyndholme",group:"Supporting Characters",role:"Amy's husband, works for Foreign Office",background:"Amy's husband who actually works in intelligence",traits:["Connected","Intelligence officer"],introducedInChapter:"chapter5"},{id:"oswald_mosley",name:"Sir Oswald Mosley",title:"Sir",group:"Historical Figures",role:"Leader of British Union of Fascists",background:"Former Member of Parliament who founded the British Union of Fascists in 1932",personality:"Charismatic, authoritarian, ambitious",traits:["Oratorical","Fascist","Ambitious"],key_scenes:["second_party"],introducedInChapter:"epilogue"},{id:"helmut_schnitter",name:"Helmut Schnitter",group:"German Connection",role:"German agent in preface",background:"Originally from Hamburg, infiltrates UK via Scilly Isles",traits:["Determined","Disciplined"],key_scenes:["german_infiltration"],introducedInChapter:"preface"},{id:"montys_adc",name:"Montgomery's ADC",group:"Military",role:"Montgomery's aide-de-camp, liaison with intelligence team",background:"Military officer serving as Montgomery's personal assistant",traits:["Efficient","Discreet","Cooperative"],significance:'Coordinates security arrangements with Bill, arranges "three Montgomerys" decoy',key_scenes:["intelligence_meeting","montgomery_visit"],introducedInChapter:"epilogue"},{id:"inspector_williams",name:"Inspector Williams",group:"Supporting Characters",role:"Police inspector in Pembrokeshire investigating Davies",background:"Local police officer who assists with tracking Davies' escape to Ireland",traits:["Thorough","Cooperative"],key_scenes:["davies_ireland_investigation"],introducedInChapter:"epilogue"},{id:"paul_holness",name:"Paul Holness",group:"Supporting Characters",role:"Publishing company owner acting as intelligence intermediary",background:"Former RAF colleague of Bill's who runs publishing company",personality:"Reliable, discreet, supportive of intelligence operations",traits:["Trustworthy","Efficient"],relations:[{characterId:"bill_laurie",type:"former_colleague",description:"Former RAF colleague who assists with intelligence operations",introducedInChapter:"epilogue"},{characterId:"felicity",type:"cover_provider",description:"Provides publishing cover for Felicity's reports",introducedInChapter:"epilogue"}],key_scenes:["felicity_reports_handling"],introducedInChapter:"epilogue"},{id:"jacobs",name:"Jacobs",group:"Supporting Characters",role:"Intelligence service armorer",background:"Weapons expert who identifies the 7.92mm shell casing",traits:["Knowledgeable","Technical"],key_scenes:["shell_casing_identification"],introducedInChapter:"epilogue"},{id:"ken",name:"Ken",group:"Protagonists",role:"Intelligence operative stationed at vehicle during final operation",traits:["Reliable","Alert"],key_scenes:["final_operation"],introducedInChapter:"epilogue"},{id:"chief_inspector",name:"Chief Inspector (St. Johns)",group:"Supporting Characters",role:"Police officer initially handling Edwards murder case",personality:"Professional but territorial about jurisdiction",traits:["Professional","By-the-book"],key_scenes:["edwards_murder_investigation"],introducedInChapter:"epilogue"}]},6705:(e,t,n)=>{"use strict";n.r(t),n.d(t,{defaultBookKey:()=>p,getAvailableBookKeys:()=>d,getAvailableBookMetadata:()=>u,loadBookData:()=>h});var i=n(9379);const r=n(4476),a=n(9833),o=n(3743),{toRelationshipCategory:s}=n(141),l=new Set([""]),c=()=>{const e={};return r.keys().forEach((t=>{const n=(e=>{const t=e.split("/");return t.length>=3?t[1]:null})(t);if(n&&!l.has(n))try{const i=r(t),a=i.bookMetadata||i.default||{};a&&(a.title||a.author)&&(e[n]={key:n,title:a.title||n,author:a.author||"",shortDescription:a.shortDescription||""})}catch(i){}})),e},d=()=>Object.keys(c()),u=()=>c(),h=async e=>{try{if(l.has(e))throw new Error('Book "'.concat(e,'" is currently disabled'));const t="./".concat(e,"/index.js");let n=null;a.keys().includes(t)&&(n=a(t));const r=e=>{if(!e||!e.relationships)return e;const t=(e.relationships||[]).map((e=>e&&e.category?e:(0,i.A)((0,i.A)({},e),{},{category:s((null===e||void 0===e?void 0:e.type)||"")})));return(0,i.A)((0,i.A)({},e),{},{relationships:t})};if(n.book)return r(n.book);if(n.stitchedUp)return r(n.stitchedUp);if(n.default)return r(n.default);const c={},d=new Set(["bookMetadata","characters","events","locations","objects","relationships","chapters","timeline","mysteryElements","themeElements","spycraftEntries","locationPositions","eventPositions","characterPositions","objectPositions","mapBoundaries"]);return o.keys().filter((t=>t.startsWith("./".concat(e,"/"))&&!t.includes("/extractions/"))).forEach((e=>{const t=o(e);Object.keys(t).forEach((e=>{d.has(e)&&null==c[e]&&(c[e]=t[e])}))})),c.timeline||(c.timeline=[]),r(c)}catch(t){throw console.error('Failed to load book "'.concat(e,'":'),t),t}},p=(()=>{const e=d().sort();return e.includes("MattParry_StitchedUp")?"MattParry_StitchedUp":e[0]||""})()},6885:(e,t,n)=>{"use strict";var i,r;i=n(2160),r=n(8556),i.version,i.renderToString,t.qV=i.renderToStaticMarkup,i.renderToNodeStream,i.renderToStaticNodeStream,r.renderToReadableStream},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var s=2*(i+1)-1,l=e[s],c=s+1,d=e[c];if(0>a(l,n))c<r&&0>a(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>a(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function w(e){if(g=!1,b(e),!m)if(null!==i(c))m=!0,M(x);else{var t=i(d);null!==t&&A(w,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(I),I=-1),f=!0;var a=p;try{for(b(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(c)&&r(c),b(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var u=i(d);null!==u&&A(w,u.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,S=null,I=-1,j=5,T=-1;function E(){return!(t.unstable_now()-T<j)}function P(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?k():(C=!1,S=null)}}else C=!1}if("function"===typeof _)k=function(){_(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,L=N.port2;N.port1.onmessage=P,k=function(){L.postMessage(null)}}else k=function(){y(P,0)};function M(e){S=e,C||(C=!0,k())}function A(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(d,e),null===i(c)&&e===i(d)&&(g?(v(I),I=-1):g=!0,A(w,a-o))):(e.sortIndex=s,n(c,e),m||f||(m=!0,M(x))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8151:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locations:()=>i});const i=[{id:"scilly_isles",name:"Isles of Scilly",type:"Island Group",description:"Group of islands 28 miles south-west of Land's End, Cornwall. The Achilles heel of UK coastal defenses during WWII, with minimal naval presence and coastal fortifications.",country:"United Kingdom",region:"Cornwall",coordinates:{lat:49.9167,lng:-6.3167},significance:"Point of German infiltration due to poor coastal defenses and regular steamship service to mainland",events:["german_infiltration_scilly"],introducedInChapter:"preface",features:["Minimal naval presence","Small army garrison","Few flying boats","Regular steamship service to Penzance","Poor coastal fortifications","Easily negotiable minefields"]},{id:"denleigh_manor",name:"Denleigh Manor",type:"Country House",description:"Imposing Georgian country house in Wiltshire, owned by Lady Amelia Wyndholme and her husband Horace. Setting for the weekend party where Cynthia is recruited.",country:"United Kingdom",region:"Wiltshire",coordinates:{lat:51.3492,lng:-1.9921},significance:"Location of Cynthia's recruitment for British intelligence work",events:["cynthia_arrives_denleigh","weekend_party_introductions","dinner_politics","cynthia_recruited"],introducedInChapter:"chapter_01",features:["Georgian architecture","Extensive gardens and grounds","Trout lake","Tennis courts","Croquet lawn","Stables","Drawing room","Library","Dining room","Multiple guest bedrooms"]},{id:"cynthia_house_bucklebury",name:"Cynthia's House, Bucklebury",type:"Private Residence",description:"Cynthia and Richard's expansive house and gardens in Bucklebury, Berkshire. Used as a venue for Nazi sympathizer parties and later taken over by the Harringtons.",country:"United Kingdom",region:"Berkshire",coordinates:{lat:51.4333,lng:-1.2},significance:"Base for intelligence operations and Nazi sympathizer gatherings",events:["first_party_bucklebury","second_party_mosley","suitcase_delivery","harringtons_takeover"],introducedInChapter:"chapter_01",features:["Expansive gardens","Large house","Party venue","Intelligence operations base","Later occupied by Harringtons"]},{id:"hotel_adlon_berlin",name:"Hotel Adlon, Berlin",type:"Hotel",description:"Luxury hotel in Berlin where Richard and Cynthia stay during their trip to Germany. Meeting place with German Nazi sympathizers.",country:"Germany",region:"Berlin",coordinates:{lat:52.5167,lng:13.3833},significance:"Location of meetings with German Nazi sympathizers and establishment of operational framework",events:["berlin_trip","hotel_adlon_meeting","nazi_sympathizers_berlin"],introducedInChapter:"chapter_04",features:["Luxury accommodation","Meeting rooms","Reception areas","High-class service","Location near government buildings"]},{id:"berlin",name:"Berlin",type:"City",description:"Capital of Germany and center of Nazi power during the 1930s. Location of meetings with Nazi sympathizers and establishment of connections.",country:"Germany",region:"Berlin",coordinates:{lat:52.52,lng:13.405},significance:"Center of Nazi operations and source of German sympathizer network",events:["berlin_trip","hotel_adlon_meeting","nazi_sympathizers_berlin"],introducedInChapter:"chapter_04",features:["Capital city","Government buildings","Nazi headquarters","Reichsbank","Cultural centers","Transportation hub"]},{id:"churn_rifle_ranges",name:"Churn Rifle Ranges",type:"Military Training Facility",description:"Rifle ranges where the conspirators practiced shooting, preparing for their assassination attempt. Poor security allowed unauthorized practice.",country:"United Kingdom",region:"Berkshire",coordinates:{lat:51.45,lng:-1.15},significance:"Location where conspirators prepared for assassination attempt",events:["rifle_discovery","churn_ranges_practice"],introducedInChapter:"chapter_10",features:["Rifle ranges","Target practice facilities","Poor security","Unauthorized access possible","Training grounds"]},{id:"crawford_place_london",name:"Crawford Place, London",type:"Residential Street",description:"Location of T.G. Edwards' London flat where he was murdered by a woman disguised as a postman.",country:"United Kingdom",region:"London",coordinates:{lat:51.5074,lng:-.1278},significance:"Scene of Edwards' murder",events:["edwards_murder","postman_disguise"],introducedInChapter:"chapter_13",features:["Residential buildings","London flat","Urban location","Accessible by postman"]},{id:"box_tunnel",name:"Box Tunnel",type:"Railway Tunnel",description:"Railway tunnel on the main line where cases were switched during the train journey as part of the network's operational logistics.",country:"United Kingdom",region:"Wiltshire",coordinates:{lat:51.4167,lng:-2.25},significance:"Location of case switching operation during train journey",events:["train_journey","case_switching","box_tunnel_incident"],introducedInChapter:"chapter_12",features:["Railway tunnel","Main line location","Dark environment","Operational advantage","Surveillance difficulty"]},{id:"american_transport_division_camp",name:"American Transport Division Camp",type:"Military Camp",description:"Military camp where Montgomery was scheduled to conduct an inspection, becoming the target of the assassination attempt.",country:"United Kingdom",region:"Aylesbury",coordinates:{lat:51.8167,lng:-.8167},significance:"Target location for assassination attempt on Montgomery",events:["assassination_attempt","montgomery_target","louise_intervention"],introducedInChapter:"chapter_19",features:["Military facilities","Inspection areas","March past grounds","Officers mess","Security perimeter"]},{id:"aldworth",name:"Aldworth",type:"Village",description:"Village where the Harringtons live, monitored by British intelligence surveillance teams.",country:"United Kingdom",region:"Berkshire",coordinates:{lat:51.5,lng:-1.2},significance:"Location of Harrington surveillance operation",events:["aldworth_surveillance","harrington_monitoring"],introducedInChapter:"chapter_32",features:["Rural village","Harrington residence","Surveillance observation points","Local amenities"]},{id:"ashampstead",name:"Ashampstead",type:"Village",description:"Village where the Snowdens live, monitored by British intelligence surveillance teams.",country:"United Kingdom",region:"Berkshire",coordinates:{lat:51.4833,lng:-1.1833},significance:"Location of Snowden surveillance operation",events:["ashampstead_watch","snowden_monitoring"],introducedInChapter:"chapter_33",features:["Rural village","Snowden residence","Surveillance observation points","Local amenities"]},{id:"yattendon",name:"Yattendon",type:"Village",description:"Village where the Davies live, monitored by British intelligence surveillance teams.",country:"United Kingdom",region:"Berkshire",coordinates:{lat:51.4667,lng:-1.2},significance:"Location of Davies surveillance operation",events:["yattendon_observation","davies_monitoring"],introducedInChapter:"chapter_34",features:["Rural village","Davies residence","Surveillance observation points","Local amenities"]},{id:"louise_cottage",name:"Louise's Cottage",type:"Private Residence",description:"Louise Harrington's cottage where she was killed in a suspicious gas explosion, likely orchestrated by remaining conspirators.",country:"United Kingdom",region:"Berkshire",coordinates:{lat:51.45,lng:-1.2},significance:"Scene of Louise's murder",events:["louise_gas_explosion","suspicious_death"],introducedInChapter:"chapter_23",features:["Cottage residence","Gas supply","Neighboring properties","Rural location"]},{id:"atlantic_hotel",name:"Atlantic Hotel",type:"Hotel",description:"Hotel in the Isles of Scilly where Chief Inspector Bennet conducted surveillance operations, watching for suspicious activity.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Base for Bennet's surveillance operation in Scilly Isles",events:["atlantic_hotel_surveillance","suspicious_activity_watch"],introducedInChapter:"chapter_27",features:["Hotel accommodation","Observation windows","Restaurant facilities","Strategic location","Surveillance base"]},{id:"hugh_town",name:"Hugh Town",type:"Town",description:"Main town on St Mary's, Isles of Scilly, where the steamship company offices are located and tickets to Penzance can be purchased.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Main settlement and transport hub in Scilly Isles",events:["german_infiltration_scilly"],introducedInChapter:"preface",features:["Steamship company offices","Main settlement","Transport hub","Local amenities","Port facilities"]},{id:"penzance",name:"Penzance",type:"Town",description:"Mainland port town in Cornwall, destination of the steamship service from Scilly Isles and entry point for German infiltration.",country:"United Kingdom",region:"Cornwall",coordinates:{lat:50.1188,lng:-5.5376},significance:"Mainland entry point for German agents from Scilly Isles",events:["german_infiltration_scilly"],introducedInChapter:"preface",features:["Port facilities","Steamship terminal","Transport connections","Coastal location","Entry point to mainland"]},{id:"bucklebury",name:"Bucklebury",type:"Village",description:"Village in Berkshire where Cynthia and Richard's house is located, used as base for intelligence operations.",country:"United Kingdom",region:"Berkshire",coordinates:{lat:51.4333,lng:-1.2},significance:"Base location for Cynthia's intelligence operations",events:["first_party_bucklebury","second_party_mosley","suitcase_delivery"],introducedInChapter:"chapter_01",features:["Rural village","Cynthia's house","Intelligence operations base","Local community","Transport connections"]},{id:"london",name:"London",type:"City",description:"Capital of the United Kingdom and center of British intelligence operations, government, and financial institutions.",country:"United Kingdom",region:"London",coordinates:{lat:51.5074,lng:-.1278},significance:"Center of British government, intelligence operations, and financial institutions",events:["edwards_murder","cheque_book_discovery","edwards_account_revealed","investigation_begins"],introducedInChapter:"chapter_11",features:["Government buildings","Intelligence headquarters","Financial district","Transport hub","Cultural center","Security services"]},{id:"ireland",name:"Ireland",type:"Country",description:"Destination for fleeing conspirators (Davies and Snowdens) as the net closes in on their operations.",country:"Ireland",region:"Ireland",coordinates:{lat:53.4129,lng:-8.2439},significance:"Escape destination for conspirators",events:["flight_ireland"],introducedInChapter:"chapter_18",features:["Neutral during WWII","Escape destination","Refuge for conspirators","Geographic proximity to UK","Political asylum"]},{id:"martins_bank_london",name:"Martins Bank, 68 Lombard Street",type:"Bank",description:"Bank in London where T.G. Edwards maintained an account used for Nazi operations. Located in the financial district.",country:"United Kingdom",region:"London",coordinates:{lat:51.5136,lng:-.0876},significance:"Financial institution used by Nazi network",events:["cheque_book_discovery","edwards_account_revealed"],introducedInChapter:"chapter_11",features:["Financial institution","Lombard Street location","Account services","Cheque facilities","Professional banking"]},{id:"old_town_bay",name:"Old Town Bay",type:"Bay",description:"Bay on St Mary's, Isles of Scilly, location of the church with the unusual grave of Naval Surgeon Abraham Leggatt.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Location of historical interest visited by Bennet during surveillance",events:["bennet_scilly_investigation"],introducedInChapter:"chapter_25",features:["Church location","Unusual grave","Coastal bay","Historical interest","Tourist attraction"]},{id:"porthcressa_beach",name:"Porthcressa Beach",type:"Beach",description:"Beach on St Mary's, Isles of Scilly, accessible via path over Penninis Head, with wire emplacements on the sands.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Location visited by Bennet during his surveillance operation",events:["bennet_scilly_investigation"],introducedInChapter:"chapter_25",features:["Sandy beach","Wire emplacements","Coastal path access","Penninis Head overlook","Defensive positions"]},{id:"holgates_green",name:"Holgates Green",type:"Area",description:"Area in Hugh Town, Isles of Scilly, mentioned in connection with local geography and movement patterns.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Local geographic reference point",events:["bennet_scilly_investigation"],introducedInChapter:"chapter_25",features:["Local area","Geographic reference","Movement patterns","Urban location"]},{id:"town_beach",name:"Town Beach",type:"Beach",description:"Beach area in Hugh Town, Isles of Scilly, mentioned in connection with local geography and movement patterns.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Local geographic reference point",events:["bennet_scilly_investigation"],introducedInChapter:"chapter_25",features:["Beach area","Local amenity","Geographic reference","Coastal location"]},{id:"steamship_company_offices",name:"Steamship Company Offices",type:"Office",description:"Offices in Hugh Town where tickets to Penzance can be purchased, used by German agents for mainland travel.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Transport booking office used by infiltrating agents",events:["german_infiltration_scilly"],introducedInChapter:"preface",features:["Ticket sales","Travel information","Customer service","Transport hub","Booking facilities"]},{id:"bishop_and_wolf_pub",name:"Bishop and Wolf Pub",description:"Pub in Hugh Town where Bennet conducted surveillance, reading his newspaper while watching for suspicious activity.",country:"United Kingdom",region:"Isles of Scilly",coordinates:{lat:49.9167,lng:-6.3167},significance:"Surveillance location for Bennet's operation",events:["bennet_scilly_investigation"],introducedInChapter:"chapter_25",features:["Public house","Surveillance vantage point","Local gathering place","Cover for observation"]}]},8442:(e,t,n)=>{"use strict";n.r(t),n.d(t,{chapters:()=>i});const i=[{id:"chapter_01",title:"Chapter 1: Story of the Door",description:"Utterson and Enfield discuss a sinister door and a troubling incident involving a man named Hyde.",events:["story_of_the_door","child_trampling"],timeframe:"One Sunday, late 19th century"},{id:"chapter_02",title:"Chapter 2: Search for Mr. Hyde",description:"Utterson reviews Jekyll\u2019s will and begins searching for Hyde, eventually meeting him at the door.",events:["search_for_mr_hyde"],timeframe:"Soon after Chapter 1"},{id:"chapter_03",title:"Chapter 3: Dr. Jekyll Was Quite at Ease",description:"At a dinner, Jekyll minimizes concerns about Hyde, asking Utterson to bear with him.",events:["jekyll_dinner"],timeframe:"Shortly after Utterson meets Hyde"},{id:"chapter_04",title:"Chapter 4: The Carew Murder Case",description:"A maid witnesses Hyde murder Sir Danvers Carew; Utterson and the police investigate.",events:["carew_murder","soho_search"],timeframe:"About a year later"},{id:"chapter_05",title:"Chapter 5: Incident of the Letter",description:"Utterson questions Jekyll, receives a letter apparently from Hyde; Mr. Guest notes a handwriting similarity.",events:["incident_of_the_letter"],timeframe:"Following the Carew case"},{id:"chapter_06",title:"Chapter 6: Remarkable Incident of Dr. Lanyon",description:"Jekyll seems better, then withdraws; Lanyon falls ill after a mysterious shock and gives Utterson a sealed letter.",events:["remarkable_incident_of_dr_lanyon"],timeframe:"Weeks later"},{id:"chapter_07",title:"Chapter 7: Incident at the Window",description:"Utterson and Enfield see Jekyll at a window; a sudden horror strikes and the window is abruptly closed.",events:["incident_at_the_window"],timeframe:"A Sunday walk"},{id:"chapter_08",title:"Chapter 8: The Last Night",description:"Poole seeks Utterson\u2019s help; they break into the laboratory and find Hyde dead, Jekyll missing.",events:["the_last_night"],timeframe:"That night"},{id:"chapter_09",title:"Chapter 9: Dr. Lanyon\u2019s Narrative",description:"Lanyon\u2019s letter recounts how he witnessed Hyde transform into Jekyll, shattering his reason.",events:["dr_lanyon_narrative"],timeframe:"Retrospective account"},{id:"chapter_10",title:"Chapter 10: Henry Jekyll\u2019s Full Statement of the Case",description:"Jekyll explains his experiments, the creation of Hyde, and the loss of control that doomed them both.",events:["jekyll_full_statement"],timeframe:"Retrospective confession"}]},8556:(e,t,n)=>{"use strict";var i=n(5043);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=null,o=0;function s(e,t){if(0!==t.length)if(512<t.length)0<o&&(e.enqueue(new Uint8Array(a.buffer,0,o)),a=new Uint8Array(512),o=0),e.enqueue(t);else{var n=a.length-o;n<t.length&&(0===n?e.enqueue(a):(a.set(t.subarray(0,n),o),e.enqueue(a),t=t.subarray(n)),a=new Uint8Array(512),o=0),a.set(t,o),o+=t.length}}function l(e,t){return s(e,t),!0}function c(e){a&&0<o&&(e.enqueue(new Uint8Array(a.buffer,0,o)),a=null,o=0)}var d=new TextEncoder;function u(e){return d.encode(e)}function h(e){return d.encode(e)}function p(e,t){"function"===typeof e.error?e.error(t):e.close()}var f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(e){return!!f.call(y,e)||!f.call(g,e)&&(m.test(e)?y[e]=!0:(g[e]=!0,!1))}function _(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new _(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new _(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new _(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new _(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new _(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new _(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)}));var w=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(w,x);b[t]=new _(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(w,x);b[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(w,x);b[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C=["Webkit","ms","Moz","O"];Object.keys(k).forEach((function(e){C.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),k[t]=k[e]}))}));var S=/["'&<>]/;function I(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=S.exec(e);if(t){var n,i="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(i+=e.substring(r,n)),r=n+1,i+=t}e=r!==n?i+e.substring(r,n):i}return e}var j=/([A-Z])/g,T=/^ms-/,E=Array.isArray,P=h("<script>"),N=h("<\/script>"),L=h('<script src="'),M=h('<script type="module" src="'),A=h('" async=""><\/script>'),z=/(<\/|<)(s)(cript)/gi;function B(e,t,n,i){return t+("s"===n?"\\u0073":"\\u0053")+i}function R(e,t){return{insertionMode:e,selectedValue:t}}var D=h("\x3c!-- --\x3e");function O(e,t,n,i){return""===t?i:(i&&e.push(D),e.push(u(I(t))),!0)}var F=new Map,H=h(' style="'),U=h(":"),G=h(";");function W(e,t,n){if("object"!==typeof n)throw Error(r(62));for(var i in t=!0,n)if(f.call(n,i)){var a=n[i];if(null!=a&&"boolean"!==typeof a&&""!==a){if(0===i.indexOf("--")){var o=u(I(i));a=u(I((""+a).trim()))}else{o=i;var s=F.get(o);void 0!==s||(s=h(I(o.replace(j,"-$1").toLowerCase().replace(T,"-ms-"))),F.set(o,s)),o=s,a="number"===typeof a?0===a||f.call(k,i)?u(""+a):u(a+"px"):u(I((""+a).trim()))}t?(t=!1,e.push(H,o,U,a)):e.push(G,o,U,a)}}t||e.push(V)}var q=h(" "),Z=h('="'),V=h('"'),J=h('=""');function K(e,t,n,i){switch(n){case"style":return void W(e,t,i);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=b.hasOwnProperty(n)?b[n]:null)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=u(t.attributeName),t.type){case 3:i&&e.push(q,n,J);break;case 4:!0===i?e.push(q,n,J):!1!==i&&e.push(q,n,Z,u(I(i)),V);break;case 5:isNaN(i)||e.push(q,n,Z,u(I(i)),V);break;case 6:!isNaN(i)&&1<=i&&e.push(q,n,Z,u(I(i)),V);break;default:t.sanitizeURL&&(i=""+i),e.push(q,n,Z,u(I(i)),V)}}else if(v(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(q,u(n),Z,u(I(i)),V)}}var $=h(">"),Y=h("/>");function Q(e,t,n){if(null!=t){if(null!=n)throw Error(r(60));if("object"!==typeof t||!("__html"in t))throw Error(r(61));null!==(t=t.__html)&&void 0!==t&&e.push(u(""+t))}}var X=h(' selected=""');function ee(e,t,n,i){e.push(re(n));var r,a=n=null;for(r in t)if(f.call(t,r)){var o=t[r];if(null!=o)switch(r){case"children":n=o;break;case"dangerouslySetInnerHTML":a=o;break;default:K(e,i,r,o)}}return e.push($),Q(e,a,n),"string"===typeof n?(e.push(u(I(n))),null):n}var te=h("\n"),ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ie=new Map;function re(e){var t=ie.get(e);if(void 0===t){if(!ne.test(e))throw Error(r(65,e));t=h("<"+e),ie.set(e,t)}return t}var ae=h("<!DOCTYPE html>");function oe(e,t,n,a,o){switch(t){case"select":e.push(re("select"));var s=null,l=null;for(p in n)if(f.call(n,p)){var c=n[p];if(null!=c)switch(p){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"defaultValue":case"value":break;default:K(e,a,p,c)}}return e.push($),Q(e,l,s),s;case"option":l=o.selectedValue,e.push(re("option"));var d=c=null,h=null,p=null;for(s in n)if(f.call(n,s)){var m=n[s];if(null!=m)switch(s){case"children":c=m;break;case"selected":h=m;break;case"dangerouslySetInnerHTML":p=m;break;case"value":d=m;default:K(e,a,s,m)}}if(null!=l)if(n=null!==d?""+d:function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(c),E(l)){for(a=0;a<l.length;a++)if(""+l[a]===n){e.push(X);break}}else""+l===n&&e.push(X);else h&&e.push(X);return e.push($),Q(e,p,c),c;case"textarea":for(c in e.push(re("textarea")),p=l=s=null,n)if(f.call(n,c)&&null!=(d=n[c]))switch(c){case"children":p=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:K(e,a,c,d)}if(null===s&&null!==l&&(s=l),e.push($),null!=p){if(null!=s)throw Error(r(92));if(E(p)&&1<p.length)throw Error(r(93));s=""+p}return"string"===typeof s&&"\n"===s[0]&&e.push(te),null!==s&&e.push(u(I(""+s))),null;case"input":for(l in e.push(re("input")),d=p=c=s=null,n)if(f.call(n,l)&&null!=(h=n[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":d=h;break;case"defaultValue":c=h;break;case"checked":p=h;break;case"value":s=h;break;default:K(e,a,l,h)}return null!==p?K(e,a,"checked",p):null!==d&&K(e,a,"checked",d),null!==s?K(e,a,"value",s):null!==c&&K(e,a,"value",c),e.push(Y),null;case"menuitem":for(var g in e.push(re("menuitem")),n)if(f.call(n,g)&&null!=(s=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:K(e,a,g,s)}return e.push($),null;case"title":for(m in e.push(re("title")),s=null,n)if(f.call(n,m)&&null!=(l=n[m]))switch(m){case"children":s=l;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:K(e,a,m,l)}return e.push($),s;case"listing":case"pre":for(d in e.push(re(t)),l=s=null,n)if(f.call(n,d)&&null!=(c=n[d]))switch(d){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;default:K(e,a,d,c)}if(e.push($),null!=l){if(null!=s)throw Error(r(60));if("object"!==typeof l||!("__html"in l))throw Error(r(61));null!==(n=l.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push(te,u(n)):e.push(u(""+n)))}return"string"===typeof s&&"\n"===s[0]&&e.push(te),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(re(t)),n)if(f.call(n,y)&&null!=(s=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,t));default:K(e,a,y,s)}return e.push(Y),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,n,t,a);case"html":return 0===o.insertionMode&&e.push(ae),ee(e,n,t,a);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return ee(e,n,t,a);for(h in e.push(re(t)),l=s=null,n)if(f.call(n,h)&&null!=(c=n[h]))switch(h){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"style":W(e,a,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:v(h)&&"function"!==typeof c&&"symbol"!==typeof c&&e.push(q,u(h),Z,u(I(c)),V)}return e.push($),Q(e,l,s),s}}var se=h("</"),le=h(">"),ce=h('<template id="'),de=h('"></template>'),ue=h("\x3c!--$--\x3e"),he=h('\x3c!--$?--\x3e<template id="'),pe=h('"></template>'),fe=h("\x3c!--$!--\x3e"),me=h("\x3c!--/$--\x3e"),ge=h("<template"),ye=h('"'),ve=h(' data-dgst="');h(' data-msg="'),h(' data-stck="');var _e=h("></template>");function be(e,t,n){if(s(e,he),null===n)throw Error(r(395));return s(e,n),l(e,pe)}var we=h('<div hidden id="'),xe=h('">'),ke=h("</div>"),Ce=h('<svg aria-hidden="true" style="display:none" id="'),Se=h('">'),Ie=h("</svg>"),je=h('<math aria-hidden="true" style="display:none" id="'),Te=h('">'),Ee=h("</math>"),Pe=h('<table hidden id="'),Ne=h('">'),Le=h("</table>"),Me=h('<table hidden><tbody id="'),Ae=h('">'),ze=h("</tbody></table>"),Be=h('<table hidden><tr id="'),Re=h('">'),De=h("</tr></table>"),Oe=h('<table hidden><colgroup id="'),Fe=h('">'),He=h("</colgroup></table>");var Ue=h('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ge=h('$RS("'),We=h('","'),qe=h('")<\/script>'),Ze=h('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Ve=h('$RC("'),Je=h('","'),Ke=h('")<\/script>'),$e=h('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ye=h('$RX("'),Qe=h('"'),Xe=h(")<\/script>"),et=h(","),tt=/[<\u2028\u2029]/g;function nt(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var it=Object.assign,rt=Symbol.for("react.element"),at=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),dt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),gt=Symbol.for("react.scope"),yt=Symbol.for("react.debug_trace_mode"),vt=Symbol.for("react.legacy_hidden"),_t=Symbol.for("react.default_value"),bt=Symbol.iterator;function wt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ot:return"Fragment";case at:return"Portal";case lt:return"Profiler";case st:return"StrictMode";case ht:return"Suspense";case pt:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case dt:return(e.displayName||"Context")+".Consumer";case ct:return(e._context.displayName||"Context")+".Provider";case ut:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return null!==(t=e.displayName||null)?t:wt(e.type)||"Memo";case mt:t=e._payload,e=e._init;try{return wt(e(t))}catch(n){}}return null}var xt={};function kt(e,t){if(!(e=e.contextTypes))return xt;var n,i={};for(n in e)i[n]=t[n];return i}var Ct=null;function St(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));St(e,n)}t.context._currentValue=t.value}}function It(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&It(e)}function jt(e){var t=e.parent;null!==t&&jt(t),e.context._currentValue=e.value}function Tt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(r(402));e.depth===t.depth?St(e,t):Tt(e,t)}function Et(e,t){var n=t.parent;if(null===n)throw Error(r(402));e.depth===n.depth?St(e,n):Et(e,n),t.context._currentValue=t.value}function Pt(e){var t=Ct;t!==e&&(null===t?jt(e):null===e?It(t):t.depth===e.depth?St(t,e):t.depth>e.depth?Tt(t,e):Et(t,e),Ct=e)}var Nt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Lt(e,t,n,i){var r=void 0!==e.state?e.state:null;e.updater=Nt,e.props=n,e.state=r;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"===typeof o&&null!==o?o._currentValue:i,"function"===typeof(o=t.getDerivedStateFromProps)&&(r=null===(o=o(n,r))||void 0===o?r:it({},r,o),e.state=r),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Nt.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,r=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"===typeof s?s.call(e,a,n,i):s)&&(r?(r=!1,a=it({},a,s)):it(a,s))}e.state=a}else a.queue=null}var Mt={id:1,overflow:""};function At(e,t,n){var i=e.id;e=e.overflow;var r=32-zt(i)-1;i&=~(1<<r),n+=1;var a=32-zt(t)+r;if(30<a){var o=r-r%5;return a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,{id:1<<32-zt(t)+r|n<<r|i,overflow:a+e}}return{id:1<<a|n<<r|i,overflow:e}}var zt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Bt(e)/Rt|0)|0},Bt=Math.log,Rt=Math.LN2;var Dt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ot=null,Ft=null,Ht=null,Ut=null,Gt=!1,Wt=!1,qt=0,Zt=null,Vt=0;function Jt(){if(null===Ot)throw Error(r(321));return Ot}function Kt(){if(0<Vt)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function $t(){return null===Ut?null===Ht?(Gt=!1,Ht=Ut=Kt()):(Gt=!0,Ut=Ht):null===Ut.next?(Gt=!1,Ut=Ut.next=Kt()):(Gt=!0,Ut=Ut.next),Ut}function Yt(){Ft=Ot=null,Wt=!1,Ht=null,Vt=0,Ut=Zt=null}function Qt(e,t){return"function"===typeof t?t(e):t}function Xt(e,t,n){if(Ot=Jt(),Ut=$t(),Gt){var i=Ut.queue;if(t=i.dispatch,null!==Zt&&void 0!==(n=Zt.get(i))){Zt.delete(i),i=Ut.memoizedState;do{i=e(i,n.action),n=n.next}while(null!==n);return Ut.memoizedState=i,[i,t]}return[Ut.memoizedState,t]}return e=e===Qt?"function"===typeof t?t():t:void 0!==n?n(t):t,Ut.memoizedState=e,e=(e=Ut.queue={last:null,dispatch:null}).dispatch=tn.bind(null,Ot,e),[Ut.memoizedState,e]}function en(e,t){if(Ot=Jt(),t=void 0===t?null:t,null!==(Ut=$t())){var n=Ut.memoizedState;if(null!==n&&null!==t){var i=n[1];e:if(null===i)i=!1;else{for(var r=0;r<i.length&&r<t.length;r++)if(!Dt(t[r],i[r])){i=!1;break e}i=!0}if(i)return n[0]}}return e=e(),Ut.memoizedState=[e,t],e}function tn(e,t,n){if(25<=Vt)throw Error(r(301));if(e===Ot)if(Wt=!0,e={action:n,next:null},null===Zt&&(Zt=new Map),void 0===(n=Zt.get(t)))Zt.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function nn(){throw Error(r(394))}function rn(){}var an={readContext:function(e){return e._currentValue},useContext:function(e){return Jt(),e._currentValue},useMemo:en,useReducer:Xt,useRef:function(e){Ot=Jt();var t=(Ut=$t()).memoizedState;return null===t?(e={current:e},Ut.memoizedState=e):t},useState:function(e){return Xt(Qt,e)},useInsertionEffect:rn,useLayoutEffect:function(){},useCallback:function(e,t){return en((function(){return e}),t)},useImperativeHandle:rn,useEffect:rn,useDebugValue:rn,useDeferredValue:function(e){return Jt(),e},useTransition:function(){return Jt(),[!1,nn]},useId:function(){var e=Ft.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-zt(e)-1)).toString(32)+t;var n=on;if(null===n)throw Error(r(404));return t=qt++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Jt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(r(407));return n()}},on=null,sn=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ln(e){return console.error(e),null}function cn(){}function dn(e,t,n,i,r,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&Sn(e)},blockedBoundary:n,blockedSegment:i,abortSet:r,legacyContext:a,context:o,treeContext:s};return r.add(l),l}function un(e,t,n,i,r,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n,lastPushedText:r,textEmbedded:a}}function hn(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function pn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,p(e.destination,t)):(e.status=1,e.fatalError=t)}function fn(e,t,n,i,r){for(Ot={},Ft=t,qt=0,e=n(i,r);Wt;)Wt=!1,qt=0,Vt+=1,Ut=null,e=n(i,r);return Yt(),e}function mn(e,t,n,i){var a=n.render(),o=i.childContextTypes;if(null!==o&&void 0!==o){var s=t.legacyContext;if("function"!==typeof n.getChildContext)i=s;else{for(var l in n=n.getChildContext())if(!(l in o))throw Error(r(108,wt(i)||"Unknown",l));i=it({},s,n)}t.legacyContext=i,vn(e,t,a),t.legacyContext=s}else vn(e,t,a)}function gn(e,t){if(e&&e.defaultProps){for(var n in t=it({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function yn(e,t,n,i,a){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){a=kt(n,t.legacyContext);var o=n.contextType;Lt(o=new n(i,"object"===typeof o&&null!==o?o._currentValue:a),n,i,a),mn(e,t,o,n)}else{a=fn(e,t,n,i,o=kt(n,t.legacyContext));var s=0!==qt;if("object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof)Lt(a,n,i,o),mn(e,t,a,n);else if(s){i=t.treeContext,t.treeContext=At(i,1,0);try{vn(e,t,a)}finally{t.treeContext=i}}else vn(e,t,a)}else{if("string"!==typeof n){switch(n){case vt:case yt:case st:case lt:case ot:case pt:return void vn(e,t,i.children);case gt:throw Error(r(343));case ht:e:{n=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},c=un(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(c),a.lastPushedText=!1;var d=un(0,0,null,a.formatContext,!1,!1);d.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=d;try{if(bn(e,t,i),d.lastPushedText&&d.textEmbedded&&d.chunks.push(D),d.status=1,kn(l,d),0===l.pendingTasks)break e}catch(h){d.status=4,l.forceClientRender=!0,l.errorDigest=hn(e,h)}finally{t.blockedBoundary=n,t.blockedSegment=a}t=dn(e,o,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case ut:if(i=fn(e,t,n.render,i,a),0!==qt){n=t.treeContext,t.treeContext=At(n,1,0);try{vn(e,t,i)}finally{t.treeContext=n}}else vn(e,t,i);return;case ft:return void yn(e,t,n=n.type,i=gn(n,i),a);case ct:if(a=i.children,n=n._context,i=i.value,o=n._currentValue,n._currentValue=i,Ct=i={parent:s=Ct,depth:null===s?0:s.depth+1,context:n,parentValue:o,value:i},t.context=i,vn(e,t,a),null===(e=Ct))throw Error(r(403));return i=e.parentValue,e.context._currentValue=i===_t?e.context._defaultValue:i,e=Ct=e.parent,void(t.context=e);case dt:return void vn(e,t,i=(i=i.children)(n._currentValue));case mt:return void yn(e,t,n=(a=n._init)(n._payload),i=gn(n,i),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(o=oe((a=t.blockedSegment).chunks,n,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return R(1,null!=n.value?n.value:n.defaultValue);case"svg":return R(2,null);case"math":return R(3,null);case"foreignObject":return R(1,null);case"table":return R(4,null);case"thead":case"tbody":case"tfoot":return R(5,null);case"colgroup":return R(7,null);case"tr":return R(6,null)}return 4<=e.insertionMode||0===e.insertionMode?R(1,null):e}(s,n,i),bn(e,t,o),a.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push(se,u(n),le)}a.lastPushedText=!1}}function vn(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case rt:return void yn(e,t,n.type,n.props,n.ref);case at:throw Error(r(257));case mt:var i=n._init;return void vn(e,t,n=i(n._payload))}if(E(n))return void _n(e,t,n);if(null===n||"object"!==typeof n?i=null:i="function"===typeof(i=bt&&n[bt]||n["@@iterator"])?i:null,i&&(i=i.call(n))){if(!(n=i.next()).done){var a=[];do{a.push(n.value),n=i.next()}while(!n.done);_n(e,t,a)}return}throw e=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(i=t.blockedSegment).lastPushedText=O(t.blockedSegment.chunks,n,e.responseState,i.lastPushedText):"number"===typeof n&&((i=t.blockedSegment).lastPushedText=O(t.blockedSegment.chunks,""+n,e.responseState,i.lastPushedText))}function _n(e,t,n){for(var i=n.length,r=0;r<i;r++){var a=t.treeContext;t.treeContext=At(a,i,r);try{bn(e,t,n[r])}finally{t.treeContext=a}}}function bn(e,t,n){var i=t.blockedSegment.formatContext,r=t.legacyContext,a=t.context;try{return vn(e,t,n)}catch(l){if(Yt(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=a,Pt(a),l;n=l;var o=t.blockedSegment,s=un(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=dn(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=a,Pt(a)}}function wn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Cn(this,t,e)}function xn(e,t,n){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===n?Error(r(432)):n,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return xn(e,t,n)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function kn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&kn(e,n)}else e.completedSegments.push(t)}function Cn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(r(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=cn,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&kn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(kn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Sn(e){if(2!==e.status){var t=Ct,n=sn.current;sn.current=an;var i=on;on=e.responseState;try{var r,a=e.pingedTasks;for(r=0;r<a.length;r++){var o=a[r],s=e,l=o.blockedSegment;if(0===l.status){Pt(o.context);try{vn(s,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(D),o.abortSet.delete(o),l.status=1,Cn(s,o.blockedBoundary,l)}catch(p){if(Yt(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=hn(s,u);if(null===d?pn(s,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,r),null!==e.destination&&Nn(e,e.destination)}catch(p){hn(e,p),pn(e,p)}finally{on=i,sn.current=n,n===an&&Pt(t)}}}function In(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,s(t,ce),s(t,e.placeholderPrefix),s(t,e=u(i.toString(16))),l(t,de);case 1:n.status=2;var a=!0;i=n.chunks;var o=0;n=n.children;for(var c=0;c<n.length;c++){for(a=n[c];o<a.index;o++)s(t,i[o]);a=jn(e,t,a)}for(;o<i.length-1;o++)s(t,i[o]);return o<i.length&&(a=l(t,i[o])),a;default:throw Error(r(390))}}function jn(e,t,n){var i=n.boundary;if(null===i)return In(e,t,n);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,l(t,fe),s(t,ge),i&&(s(t,ve),s(t,u(I(i))),s(t,ye)),l(t,_e),In(e,t,n);else if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var a=e.responseState,o=a.nextSuspenseID++;a=h(a.boundaryPrefix+o.toString(16)),i=i.id=a,be(t,e.responseState,i),In(e,t,n)}else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),be(t,e.responseState,i.id),In(e,t,n);else{if(l(t,ue),1!==(n=i.completedSegments).length)throw Error(r(391));jn(e,t,n[0])}return l(t,me)}function Tn(e,t,n){return function(e,t,n,i){switch(n.insertionMode){case 0:case 1:return s(e,we),s(e,t.segmentPrefix),s(e,u(i.toString(16))),l(e,xe);case 2:return s(e,Ce),s(e,t.segmentPrefix),s(e,u(i.toString(16))),l(e,Se);case 3:return s(e,je),s(e,t.segmentPrefix),s(e,u(i.toString(16))),l(e,Te);case 4:return s(e,Pe),s(e,t.segmentPrefix),s(e,u(i.toString(16))),l(e,Ne);case 5:return s(e,Me),s(e,t.segmentPrefix),s(e,u(i.toString(16))),l(e,Ae);case 6:return s(e,Be),s(e,t.segmentPrefix),s(e,u(i.toString(16))),l(e,Re);case 7:return s(e,Oe),s(e,t.segmentPrefix),s(e,u(i.toString(16))),l(e,Fe);default:throw Error(r(397))}}(t,e.responseState,n.formatContext,n.id),jn(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return l(e,ke);case 2:return l(e,Ie);case 3:return l(e,Ee);case 4:return l(e,Le);case 5:return l(e,ze);case 6:return l(e,De);case 7:return l(e,He);default:throw Error(r(397))}}(t,n.formatContext)}function En(e,t,n){for(var i=n.completedSegments,a=0;a<i.length;a++)Pn(e,t,n,i[a]);if(i.length=0,e=e.responseState,i=n.id,n=n.rootSegmentID,s(t,e.startInlineScript),e.sentCompleteBoundaryFunction?s(t,Ve):(e.sentCompleteBoundaryFunction=!0,s(t,Ze)),null===i)throw Error(r(395));return n=u(n.toString(16)),s(t,i),s(t,Je),s(t,e.segmentPrefix),s(t,n),l(t,Ke)}function Pn(e,t,n,i){if(2===i.status)return!0;var a=i.id;if(-1===a){if(-1===(i.id=n.rootSegmentID))throw Error(r(392));return Tn(e,t,i)}return Tn(e,t,i),s(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?s(t,Ge):(e.sentCompleteSegmentFunction=!0,s(t,Ue)),s(t,e.segmentPrefix),s(t,a=u(a.toString(16))),s(t,We),s(t,e.placeholderPrefix),s(t,a),l(t,qe)}function Nn(e,t){a=new Uint8Array(512),o=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){jn(e,t,n),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)s(t,i[n]);n<i.length&&l(t,i[n])}var d,h=e.clientRenderedBoundaries;for(d=0;d<h.length;d++){var p=h[d];i=t;var f=e.responseState,m=p.id,g=p.errorDigest,y=p.errorMessage,v=p.errorComponentStack;if(s(i,f.startInlineScript),f.sentClientRenderFunction?s(i,Ye):(f.sentClientRenderFunction=!0,s(i,$e)),null===m)throw Error(r(395));if(s(i,m),s(i,Qe),(g||y||v)&&(s(i,et),s(i,u(nt(g||"")))),(y||v)&&(s(i,et),s(i,u(nt(y||"")))),v&&(s(i,et),s(i,u(nt(v)))),!l(i,Xe))return e.destination=null,d++,void h.splice(0,d)}h.splice(0,d);var _=e.completedBoundaries;for(d=0;d<_.length;d++)if(!En(e,t,_[d]))return e.destination=null,d++,void _.splice(0,d);_.splice(0,d),c(t),a=new Uint8Array(512),o=0;var b=e.partialBoundaries;for(d=0;d<b.length;d++){var w=b[d];e:{h=e,p=t;var x=w.completedSegments;for(f=0;f<x.length;f++)if(!Pn(h,p,w,x[f])){f++,x.splice(0,f);var k=!1;break e}x.splice(0,f),k=!0}if(!k)return e.destination=null,d++,void b.splice(0,d)}b.splice(0,d);var C=e.completedBoundaries;for(d=0;d<C.length;d++)if(!En(e,t,C[d]))return e.destination=null,d++,void C.splice(0,d);C.splice(0,d)}finally{c(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Ln(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return xn(n,e,t)})),n.clear(),null!==e.destination&&Nn(e,e.destination)}catch(i){hn(e,i),pn(e,i)}}t.renderToReadableStream=function(e,t){return new Promise((function(n,i){var r,a,o=new Promise((function(e,t){a=e,r=t})),s=function(e,t,n,i,r,a,o,s,l){var c=[],d=new Set;return(n=un(t={destination:null,responseState:t,progressiveChunkSize:void 0===i?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?ln:r,onAllReady:void 0===a?cn:a,onShellReady:void 0===o?cn:o,onShellError:void 0===s?cn:s,onFatalError:void 0===l?cn:l},0,null,n,!1,!1)).parentFlushed=!0,e=dn(t,e,null,n,d,xt,null,Mt),c.push(e),t}(e,function(e,t,n,i,r){e=void 0===e?"":e,t=void 0===t?P:h('<script nonce="'+I(t)+'">');var a=[];if(void 0!==n&&a.push(t,u((""+n).replace(z,B)),N),void 0!==i)for(n=0;n<i.length;n++)a.push(L,u(I(i[n])),A);if(void 0!==r)for(i=0;i<r.length;i++)a.push(M,u(I(r[i])),A);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:h(e+"P:"),segmentPrefix:h(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return R("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,p(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{Nn(s,e)}catch(t){hn(s,t),pn(s,t)}}},cancel:function(){Ln(s)}},{highWaterMark:0});e.allReady=o,n(e)}),(function(e){o.catch((function(){})),i(e)}),r);if(t&&t.signal){var l=t.signal,c=function(){Ln(s,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}Sn(s)}))},t.version="18.3.1"},8798:(e,t,n)=>{"use strict";n.r(t),n.d(t,{events:()=>i});const i=[{id:"german_infiltration_scilly",title:"German Infiltration via Scilly Isles",date:"Summer 1943",description:"German agent Helmut Schnitter arrives via submarine at the Isles of Scilly, demonstrating the vulnerability of British coastal defenses. He successfully infiltrates the UK via the regular steamship service to Penzance.",location:"scilly_isles",characters:[{characterId:"helmut_schnitter",role:"German agent infiltrating UK"}],significance:"Demonstrates the vulnerability of British coastal defenses and the ease with which German agents could infiltrate the UK",chapter:"preface",keyActions:["Submarine arrives at Scilly Isles","Schnitter lands via inflatable boat","Waits overnight on the island","Buys ticket to Penzance via steamship","Successfully infiltrates mainland UK"]},{id:"cynthia_arrives_denleigh",title:"Cynthia Arrives at Denleigh Manor",date:"May 1932",description:"Lady Cynthia Childreth arrives at Denleigh Manor for a weekend party, where she meets various guests including Colonel Snowden and the Harringtons. She receives a mysterious note from Amy about being approached by one of the guests.",location:"denleigh_manor",characters:[{characterId:"cynthia_childreth",role:"Main guest"},{characterId:"amy_wyndholme",role:"Hostess"},{characterId:"peter_snowden",role:"Guest"},{characterId:"marjorie_snowden",role:"Guest"},{characterId:"bob_harrington",role:"Guest"},{characterId:"louise_harrington",role:"Guest"}],significance:"Sets up the weekend where Cynthia will be recruited for intelligence work",chapter:"chapter_01",keyActions:["Cynthia arrives at Denleigh Manor","Meets various guests","Receives mysterious note from Amy","Learns she will be approached by someone"]},{id:"weekend_party_introductions",title:"Weekend Party Introductions",date:"May 1932",description:"The weekend party begins with introductions and social activities. Cynthia meets all the guests and observes their behavior, particularly noting the unusual Miss Gilchrist (Hannah Park) and the quiet Mr Newton (Bill Lawrie).",location:"denleigh_manor",characters:[{characterId:"cynthia_childreth",role:"Observer"},{characterId:"hannah_park",role:"Guest (disguised as Miss Gilchrist)"},{characterId:"bill_lawrie",role:"Guest (disguised as Mr Newton)"},{characterId:"jane_maclean",role:"Guest"}],significance:"Cynthia begins to observe the guests and their behavior",chapter:"chapter_01",keyActions:["Guests introduced to each other","Social activities begin","Cynthia observes guest behavior","Hannah and Bill maintain their disguises"]},{id:"dinner_politics",title:"Dinner and Political Discussion",date:"May 1932",description:"During dinner, political tensions emerge as Colonel Snowden and the Harringtons begin to express pro-Nazi sympathies, praising Hitler and his politics. This creates an awkward atmosphere at the table.",location:"denleigh_manor",characters:[{characterId:"peter_snowden",role:"Pro-Nazi sympathizer"},{characterId:"bob_harrington",role:"Pro-Nazi sympathizer"},{characterId:"louise_harrington",role:"Pro-Nazi sympathizer"},{characterId:"cynthia_childreth",role:"Observer"}],significance:"First revelation of pro-Nazi sympathies among the guests",chapter:"chapter_02",keyActions:["Dinner conversation turns political","Snowden and Harringtons praise Hitler","Pro-Nazi sympathies revealed","Awkward atmosphere created"]},{id:"pro_nazi_revealed",title:"Pro-Nazi Sympathies Revealed",date:"May 1932",description:"The extent of pro-Nazi sympathies among the guests becomes clear as they discuss Hitler's rise to power and express admiration for his political achievements. This revelation helps Cynthia understand the nature of the group.",location:"denleigh_manor",characters:[{characterId:"peter_snowden",role:"Pro-Nazi sympathizer"},{characterId:"bob_harrington",role:"Pro-Nazi sympathizer"},{characterId:"louise_harrington",role:"Pro-Nazi sympathizer"},{characterId:"marjorie_snowden",role:"Pro-Nazi sympathizer"}],significance:"Confirms the political leanings of several guests",chapter:"chapter_02",keyActions:["Discussion of Hitler's political rise","Admiration for Nazi policies expressed","Political sympathies made clear","Group dynamics revealed"]},{id:"cynthia_recruited",title:"Cynthia Recruited for Intelligence Work",date:"May 1932",description:"In a secluded arbor in the garden, Miss Gilchrist (Hannah Park) and Mr Newton (Bill Lawrie) reveal their true identities and recruit Cynthia for British intelligence work. They explain that she has been chosen for her background and abilities.",location:"denleigh_manor",characters:[{characterId:"cynthia_childreth",role:"Recruit"},{characterId:"hannah_park",role:"Recruiter"},{characterId:"bill_lawrie",role:"Recruiter"}],significance:"Cynthia is recruited for British intelligence, beginning her transformation from socialite to operative",chapter:"chapter_03",keyActions:["True identities revealed","Intelligence operation explained","Cynthia's role described","Recruitment completed"]},{id:"intelligence_operation_revealed",title:"Intelligence Operation Revealed",date:"May 1932",description:"Bill Lawrie explains the nature of the intelligence operation to Cynthia, assuring her that she will never be in danger but that her role will be highly significant. They arrange to meet in London for further details.",location:"denleigh_manor",characters:[{characterId:"cynthia_childreth",role:"New recruit"},{characterId:"bill_lawrie",role:"Handler"},{characterId:"hannah_park",role:"Recruiter"}],significance:"Cynthia learns about her role in British intelligence",chapter:"chapter_03",keyActions:["Operation details explained","Safety assurances given","London meeting arranged","Cynthia asked to observe and listen"]},{id:"berlin_trip",title:"Berlin Trip",date:"1932-1933",description:"Richard and Cynthia travel to Berlin, staying at the Hotel Adlon and meeting German Nazi sympathizers including Gerda and Franz Stammer. They are asked to act as sympathizers and hosts in England.",location:"hotel_adlon_berlin",characters:[{characterId:"cynthia_childreth",role:"Undercover operative"},{characterId:"richard_childreth",role:"Undercover operative"},{characterId:"gerda_stammer",role:"German Nazi sympathizer"},{characterId:"franz_stammer",role:"German Nazi sympathizer"}],significance:"Establishes connections with German Nazi sympathizers and sets up Cynthia's role as a host",chapter:"chapter_04",keyActions:["Travel to Berlin","Stay at Hotel Adlon","Meet German sympathizers","Agree to act as hosts in England"]},{id:"hotel_adlon_meeting",title:"Meeting at Hotel Adlon",date:"1932-1933",description:"At the Hotel Adlon, Richard and Cynthia meet with German Nazi sympathizers and are briefed on their role as hosts for Nazi sympathizer gatherings in England. They also briefly see Hitler at a reception.",location:"hotel_adlon_berlin",characters:[{characterId:"cynthia_childreth",role:"Undercover operative"},{characterId:"richard_childreth",role:"Undercover operative"},{characterId:"gerda_stammer",role:"German Nazi sympathizer"},{characterId:"franz_stammer",role:"German Nazi sympathizer"}],significance:"Establishes the operational framework for Cynthia's intelligence work",chapter:"chapter_04",keyActions:["Meeting with German sympathizers","Briefing on host role","Sighting of Hitler","Operational details discussed"]},{id:"nazi_sympathizers_berlin",title:"Nazi Sympathizers in Berlin",date:"1932-1933",description:"Cynthia and Richard meet various German Nazi sympathizers in Berlin, learning about the network and their role in supporting Nazi operations in England.",location:"berlin",characters:[{characterId:"cynthia_childreth",role:"Undercover operative"},{characterId:"richard_childreth",role:"Undercover operative"},{characterId:"gerda_stammer",role:"German Nazi sympathizer"},{characterId:"franz_stammer",role:"German Nazi sympathizer"}],significance:"Establishes the German connection to the Nazi sympathizer network",chapter:"chapter_04",keyActions:["Network connections established","Operational methods discussed","Support role defined","Return to England planned"]},{id:"first_party_bucklebury",title:"First Party at Bucklebury",date:"May 27, unknown year",description:"Cynthia hosts her first party for Nazi sympathizers at her house in Bucklebury, with intelligence agents attending in disguise. The party serves as an intelligence-gathering operation.",location:"cynthia_house_bucklebury",characters:[{characterId:"cynthia_childreth",role:"Host"},{characterId:"gerda_stammer",role:"Guest"},{characterId:"lena_weber",role:"Guest"},{characterId:"intelligence_agents",role:"Undercover operatives"}],significance:"First major intelligence-gathering operation hosted by Cynthia",chapter:"chapter_05",keyActions:["Party hosted for Nazi sympathizers","Intelligence agents attend in disguise","Information gathered on network","Cynthia establishes her role as host"]},{id:"intelligence_gathering_party",title:"Intelligence Gathering at Party",date:"May 27, unknown year",description:"During the party, intelligence agents gather information about the Nazi sympathizer network while maintaining their disguises. The operation provides valuable intelligence about the group's activities.",location:"cynthia_house_bucklebury",characters:[{characterId:"intelligence_agents",role:"Undercover operatives"},{characterId:"cynthia_childreth",role:"Host and operative"}],significance:"Successful intelligence-gathering operation",chapter:"chapter_05",keyActions:["Agents maintain disguises","Information gathered on network","Network activities observed","Intelligence operation successful"]},{id:"second_party_mosley",title:"Second Party with Mosley",date:"July 7, unknown year",description:"Oswald Mosley attends Cynthia's second party, requesting her house as a safe house for fascist operations. This provides additional intelligence about the scope of fascist activities.",location:"cynthia_house_bucklebury",characters:[{characterId:"cynthia_childreth",role:"Host"},{characterId:"oswald_mosley",role:"Guest and fascist leader"}],significance:"Reveals the extent of fascist operations and Mosley's involvement",chapter:"chapter_06",keyActions:["Mosley attends party","Safe house request made","Fascist operations discussed","Additional intelligence gathered"]},{id:"safe_house_request",title:"Safe House Request",date:"July 7, unknown year",description:"Oswald Mosley requests that Cynthia's house be used as a safe house for fascist operations, demonstrating the trust placed in her and the extent of fascist activities.",location:"cynthia_house_bucklebury",characters:[{characterId:"cynthia_childreth",role:"Host"},{characterId:"oswald_mosley",role:"Fascist leader"}],significance:"Shows the level of trust placed in Cynthia and the scope of fascist operations",chapter:"chapter_06",keyActions:["Safe house request made","Trust level established","Operational scope revealed","Cynthia's position confirmed"]},{id:"time_skip_1943",title:"Time Skip to 1943",date:"1943",description:"The story jumps to 1943 where Mosley has been interned and released, and Marjorie Snowden contacts Cynthia. The situation has changed significantly with the war in progress.",location:"various",characters:[{characterId:"cynthia_childreth",role:"Established operative"},{characterId:"marjorie_snowden",role:"Contact"},{characterId:"oswald_mosley",role:"Recently released from internment"}],significance:"Moves the story to the wartime period and shows how the situation has evolved",chapter:"chapter_07",keyActions:["Time jump to 1943","War situation established","Mosley's internment mentioned","Marjorie contacts Cynthia"]},{id:"mosley_internment",title:"Mosley Internment and Release",date:"1940-1943",description:"Oswald Mosley was interned in May 1940 and later released in 1943. This change in his status affects the fascist network's operations.",location:"uk",characters:[{characterId:"oswald_mosley",role:"Fascist leader"}],significance:"Shows the British government's response to fascist activities during the war",chapter:"chapter_07",keyActions:["Mosley interned in May 1940","Internment period","Release in 1943","Return to fascist activities"]},{id:"marjorie_contacts_cynthia",title:"Marjorie Snowden Contacts Cynthia",date:"1943",description:"Marjorie Snowden contacts Cynthia, indicating that the Nazi sympathizer network is still active and seeking to use her house for their operations.",location:"various",characters:[{characterId:"cynthia_childreth",role:"Contact"},{characterId:"marjorie_snowden",role:"Network representative"}],significance:"Shows the network is still active and seeking to use Cynthia's resources",chapter:"chapter_07",keyActions:["Marjorie contacts Cynthia","Network activity confirmed","House use requested","Cynthia's position tested"]},{id:"suitcase_delivery",title:"Mysterious Suitcase Delivery",date:"1943",description:"Davies (using the name \"Young\") delivers a mysterious suitcase to Cynthia's house, believed to contain a radio for Nazi operations. The suitcase actually contains women's clothes.",location:"cynthia_house_bucklebury",characters:[{characterId:"sir_john_davies",role:'Deliverer (using alias "Young")'},{characterId:"cynthia_childreth",role:"Recipient"}],significance:"Shows the network is actively using Cynthia's house and reveals Davies' use of aliases",chapter:"chapter_08",keyActions:["Suitcase delivered",'Alias "Young" used',"Contents believed to be radio","Actually contains women's clothes"]},{id:"davies_disguise",title:"Davies Uses Disguise",date:"1943",description:'Sir John Davies delivers the suitcase using the alias "Young", demonstrating the network\'s use of disguises and aliases for their operations.',location:"cynthia_house_bucklebury",characters:[{characterId:"sir_john_davies",role:"Deliverer using alias"},{characterId:"cynthia_childreth",role:"Recipient"}],significance:"Reveals the network's operational methods and use of disguises",chapter:"chapter_08",keyActions:['Alias "Young" used',"Disguise maintained","Suitcase delivered","True identity concealed"]},{id:"surveillance_increased",title:"Increased Surveillance",date:"1943",description:"British intelligence increases surveillance of Cynthia and the conspirators, monitoring their movements and communications to gather more information about the network.",location:"various",characters:[{characterId:"intelligence_teams",role:"Surveillance operatives"},{characterId:"cynthia_childreth",role:"Subject of surveillance"}],significance:"Shows the intelligence operation is actively monitoring the network",chapter:"chapter_09",keyActions:["Surveillance teams deployed","Movements monitored","Communications tracked","Intelligence gathered"]},{id:"intelligence_monitoring",title:"Intelligence Monitoring Operations",date:"1943",description:"British intelligence conducts comprehensive monitoring of the Nazi sympathizer network, using various methods to track their activities and gather intelligence.",location:"various",characters:[{characterId:"intelligence_teams",role:"Monitoring operatives"}],significance:"Demonstrates the scope and sophistication of British intelligence operations",chapter:"chapter_09",keyActions:["Multiple monitoring methods used","Teams deployed to various locations","Activities tracked","Intelligence compiled"]},{id:"rifle_discovery",title:"German Rifle Discovery",date:"1943",description:"The German rifle (FG42) is discovered at Churn Rifle Ranges, where the assassins practiced their shooting. This provides evidence of the network's preparation for violent operations.",location:"churn_rifle_ranges",characters:[{characterId:"intelligence_teams",role:"Discoverers"}],significance:"Provides physical evidence of the network's violent intentions",chapter:"chapter_10",keyActions:["Rifle discovered at ranges","Practice sessions identified","Violent intentions confirmed","Evidence collected"]},{id:"churn_ranges_practice",title:"Practice at Churn Rifle Ranges",date:"1943",description:"Evidence is found that the conspirators practiced shooting at Churn Rifle Ranges, preparing for their assassination attempt. The poor security at the facility allowed this practice.",location:"churn_rifle_ranges",characters:[{characterId:"conspirators",role:"Practicing shooters"}],significance:"Shows the network was actively preparing for violent operations",chapter:"chapter_10",keyActions:["Shooting practice conducted","Targets practiced on","Skills developed","Preparation for assassination"]},{id:"cheque_book_discovery",title:"Cheque Book Discovery",date:"1943",description:"The cheque book for T.G. Edwards is found, revealing the bank account used for Nazi operations. The account is at Martins Bank, 68 Lombard St, London.",location:"london",characters:[{characterId:"intelligence_teams",role:"Discoverers"}],significance:"Provides financial evidence linking the network to Nazi operations",chapter:"chapter_11",keyActions:["Cheque book found","Bank account identified","Financial connections revealed","Evidence documented"]},{id:"edwards_account_revealed",title:"Edwards Account Revealed",date:"1943",description:"The bank account details for T.G. Edwards are revealed, showing how the network financed their operations through British banking institutions.",location:"london",characters:[{characterId:"tg_edwards",role:"Account holder"}],significance:"Shows the network's financial infrastructure and use of British institutions",chapter:"chapter_11",keyActions:["Account details revealed","Banking connections identified","Financial methods exposed","Operational funding traced"]},{id:"train_journey",title:"Train Journey with Case Switching",date:"1943",description:"Edwards travels by train with a grey-haired woman (Louise) and Davies/Young, with cases being switched in Box Tunnel. This operation is part of the network's logistics.",location:"train_box_tunnel",characters:[{characterId:"tg_edwards",role:"Traveler"},{characterId:"louise_harrington",role:"Grey-haired woman"},{characterId:"sir_john_davies",role:"Traveler using alias"}],significance:"Shows the network's operational methods and case-switching techniques",chapter:"chapter_12",keyActions:["Train journey undertaken","Cases switched in Box Tunnel","Operational logistics conducted","Network methods revealed"]},{id:"case_switching",title:"Case Switching Operation",date:"1943",description:"During the train journey, cases are switched in Box Tunnel as part of the network's operational logistics. This technique is used to confuse surveillance and transport materials.",location:"box_tunnel",characters:[{characterId:"louise_harrington",role:"Case switcher"},{characterId:"sir_john_davies",role:"Case switcher"}],significance:"Demonstrates the network's sophisticated operational techniques",chapter:"chapter_12",keyActions:["Cases prepared for switching","Switch conducted in tunnel","Surveillance confused","Materials transported"]},{id:"box_tunnel_incident",title:"Box Tunnel Incident",date:"1943",description:"The case switching operation in Box Tunnel is a key moment in the network's logistics, showing their ability to conduct complex operations under surveillance.",location:"box_tunnel",characters:[{characterId:"louise_harrington",role:"Operative"},{characterId:"sir_john_davies",role:"Operative"}],significance:"Key operational moment showing network capabilities",chapter:"chapter_12",keyActions:["Tunnel location chosen","Timing coordinated","Switch executed","Escape completed"]},{id:"edwards_murder",title:"Edwards Murder",date:"1943",description:"T.G. Edwards is murdered in his London flat by a woman disguised as a postman. This murder is part of the network's operational security.",location:"crawford_place_london",characters:[{characterId:"tg_edwards",role:"Victim"},{characterId:"murderer",role:"Woman disguised as postman"}],significance:"Shows the network's willingness to use violence and their operational security methods",chapter:"chapter_13",keyActions:["Postman disguise used","Flat accessed","Edwards murdered","Escape made"]},{id:"postman_disguise",title:"Postman Disguise Used in Murder",date:"1943",description:"A woman disguised as a postman murders T.G. Edwards in his London flat. This disguise technique shows the network's sophisticated operational methods.",location:"crawford_place_london",characters:[{characterId:"murderer",role:"Woman disguised as postman"},{characterId:"tg_edwards",role:"Victim"}],significance:"Demonstrates the network's use of sophisticated disguises for violent operations",chapter:"chapter_13",keyActions:["Postman disguise prepared","Disguise maintained during operation","Murder committed","Disguise aided escape"]},{id:"investigation_begins",title:"Investigation Begins",date:"1943",description:"Chief Inspector George Bennet begins investigating Edwards' murder, discovering connections to Nazi operations. This investigation leads to the broader intelligence operation.",location:"london",characters:[{characterId:"george_bennet",role:"Lead investigator"}],significance:"Marks the beginning of the official investigation into the Nazi network",chapter:"chapter_14",keyActions:["Murder scene examined","Evidence collected","Connections identified","Investigation expanded"]},{id:"bennet_investigation",title:"Bennet's Investigation",date:"1943",description:"George Bennet conducts a thorough investigation into Edwards' murder, uncovering the connections to Nazi operations and expanding the scope of the investigation.",location:"london",characters:[{characterId:"george_bennet",role:"Investigator"}],significance:"Establishes the official investigation that will lead to the broader operation",chapter:"chapter_14",keyActions:["Evidence analyzed","Connections traced","Network identified","Operation scope determined"]},{id:"knitters_network_revealed",title:"The Knitters Network Revealed",date:"1943",description:'The extent of the Nazi sympathizer network known as "the knitters" is revealed, showing their connections across Britain and their operational methods.',location:"uk",characters:[{characterId:"intelligence_teams",role:"Investigators"}],significance:"Provides comprehensive understanding of the network's scope and operations",chapter:"chapter_15",keyActions:["Network extent mapped","Connections identified","Operational methods revealed","Threat assessment completed"]},{id:"network_connections",title:"Network Connections Mapped",date:"1943",description:"The connections between various Nazi sympathizers across Britain are mapped, showing how the network operates and communicates.",location:"uk",characters:[{characterId:"intelligence_teams",role:"Analysts"}],significance:"Provides operational intelligence for counter-intelligence operations",chapter:"chapter_15",keyActions:["Connections identified","Communication methods mapped","Operational structure revealed","Counter-intelligence planned"]},{id:"louise_betrayal",title:"Louise's Betrayal Revealed",date:"1943",description:"Louise Harrington reveals herself as a double agent, working for British intelligence while pretending to be part of the Nazi network. This revelation changes the dynamics of the operation.",location:"various",characters:[{characterId:"louise_harrington",role:"Double agent"},{characterId:"bill_lawrie",role:"Handler"}],significance:"Provides an inside source in the Nazi network and changes operational dynamics",chapter:"chapter_16",keyActions:["Double agent status revealed","Information provided to intelligence","Operational role established","Network infiltration confirmed"]},{id:"double_agent_revealed",title:"Double Agent Status Confirmed",date:"1943",description:"Louise Harrington's status as a double agent is confirmed, showing that British intelligence has successfully infiltrated the Nazi network.",location:"various",characters:[{characterId:"louise_harrington",role:"Double agent"},{characterId:"bill_lawrie",role:"Handler"}],significance:"Demonstrates the success of British intelligence infiltration operations",chapter:"chapter_16",keyActions:["Status confirmed","Handler relationship established","Information flow established","Operational role defined"]},{id:"final_operation_preparation",title:"Final Operation Preparation",date:"December 1943",description:"British intelligence teams track the movements of conspirators as they prepare for their final operation. The teams monitor their activities and gather intelligence.",location:"various",characters:[{characterId:"intelligence_teams",role:"Surveillance operatives"},{characterId:"conspirators",role:"Subjects of surveillance"}],significance:"Shows the final phase of the intelligence operation before the climax",chapter:"chapter_17",keyActions:["Surveillance intensified","Movements tracked","Preparations observed","Intelligence gathered"]},{id:"conspirator_tracking",title:"Conspirator Tracking",date:"December 1943",description:"Intelligence teams track the movements of all conspirators, monitoring their preparations for the final operation and gathering intelligence on their plans.",location:"various",characters:[{characterId:"intelligence_teams",role:"Tracking operatives"}],significance:"Provides operational intelligence for the final phase of the operation",chapter:"chapter_17",keyActions:["All conspirators tracked","Movements monitored","Plans identified","Intelligence compiled"]},{id:"flight_ireland",title:"Flight to Ireland",date:"December 1943",description:"Davies, Davies and Snowdens flee to Ireland as the net closes in, leaving the Harringtons to take over Cynthia's house. This shows the network's escape planning.",location:"ireland",characters:[{characterId:"sir_john_davies",role:"Fleeing conspirator"},{characterId:"lady_megan_davies",role:"Fleeing conspirator"},{characterId:"peter_snowden",role:"Fleeing conspirator"},{characterId:"marjorie_snowden",role:"Fleeing conspirator"}],significance:"Shows the network's escape planning and the pressure they are under",chapter:"chapter_18",keyActions:["Escape to Ireland planned","Escape executed","Harringtons left behind","Network fragmented"]},{id:"harringtons_takeover",title:"Harringtons Take Over House",date:"December 1943",description:"With the others fleeing to Ireland, the Harringtons take over Cynthia's house to continue the operation. This shows their commitment to the cause.",location:"cynthia_house_bucklebury",characters:[{characterId:"bob_harrington",role:"House occupant"},{characterId:"louise_harrington",role:"House occupant"}],significance:"Shows the Harringtons' commitment and the network's operational continuity",chapter:"chapter_18",keyActions:["House occupied","Operations continued","Position maintained","Surveillance continued"]},{id:"assassination_attempt",title:"Assassination Attempt",date:"December 1943",description:"The conspirators attempt to assassinate Montgomery during his inspection of the American Transport Division Camp. This is their main operational objective.",location:"american_transport_division_camp",characters:[{characterId:"bob_harrington",role:"Assassin"},{characterId:"louise_harrington",role:"Support operative"},{characterId:"montgomery",role:"Target"}],significance:"The main operational objective of the Nazi network",chapter:"chapter_19",keyActions:["Position established","Target identified","Shot fired","Attempt made"]},{id:"montgomery_target",title:"Montgomery as Target",date:"December 1943",description:"Field Marshal Montgomery is identified as the target of the assassination attempt during his inspection of the American Transport Division Camp.",location:"american_transport_division_camp",characters:[{characterId:"montgomery",role:"Target"},{characterId:"conspirators",role:"Assassins"}],significance:"Shows the high-level nature of the network's targets",chapter:"chapter_19",keyActions:["Target identified","Inspection schedule learned","Position established","Assassination attempted"]},{id:"louise_intervention",title:"Louise's Intervention",date:"December 1943",description:"Louise intervenes during the assassination attempt, revealing her true allegiance and helping to foil the plot. This shows her commitment to British intelligence.",location:"american_transport_division_camp",characters:[{characterId:"louise_harrington",role:"Double agent"},{characterId:"bob_harrington",role:"Assassin"}],significance:"Prevents the assassination and reveals Louise's true allegiance",chapter:"chapter_20",keyActions:["Intervention made","Assassination foiled","Allegiance revealed","Plot disrupted"]},{id:"assassination_foiled",title:"Assassination Plot Foiled",date:"December 1943",description:"The assassination attempt on Montgomery is foiled through Louise's intervention and the response of security forces. The plot fails completely.",location:"american_transport_division_camp",characters:[{characterId:"louise_harrington",role:"Double agent"},{characterId:"security_forces",role:"Responders"}],significance:"The main operational objective of the Nazi network fails completely",chapter:"chapter_20",keyActions:["Plot disrupted","Security forces respond","Assassination prevented","Operation fails"]},{id:"arrests_capture",title:"Arrests and Capture",date:"December 1943",description:"Bob Harrington and Sir John Davies are arrested after the failed assassination attempt, while the others remain at large in Ireland.",location:"various",characters:[{characterId:"bob_harrington",role:"Arrested conspirator"},{characterId:"sir_john_davies",role:"Arrested conspirator"},{characterId:"security_forces",role:"Arresting officers"}],significance:"Shows the partial success of the counter-intelligence operation",chapter:"chapter_21",keyActions:["Harrington arrested","Davies arrested","Others escape","Partial success achieved"]},{id:"harrington_davies_caught",title:"Harrington and Davies Caught",date:"December 1943",description:"Bob Harrington and Sir John Davies are successfully captured after the failed assassination attempt, providing valuable intelligence through interrogation.",location:"various",characters:[{characterId:"bob_harrington",role:"Captured conspirator"},{characterId:"sir_john_davies",role:"Captured conspirator"}],significance:"Provides intelligence through interrogation and shows operational success",chapter:"chapter_21",keyActions:["Both conspirators captured","Interrogation begins","Intelligence gathered","Network exposed"]},{id:"aftermath_assassination",title:"Aftermath of Assassination Attempt",date:"December 1943",description:"The immediate aftermath of the failed assassination attempt and the intelligence operation. Security forces assess the damage and gather evidence.",location:"american_transport_division_camp",characters:[{characterId:"security_forces",role:"Investigators"},{characterId:"intelligence_teams",role:"Operatives"}],significance:"Shows the immediate consequences and evidence gathering",chapter:"chapter_22",keyActions:["Scene secured","Evidence collected","Damage assessed","Investigation continues"]},{id:"operation_results",title:"Operation Results",date:"December 1943",description:"The results of the intelligence operation are assessed, showing both successes and failures in countering the Nazi network.",location:"various",characters:[{characterId:"intelligence_teams",role:"Assessors"}],significance:"Provides assessment of the overall operation's effectiveness",chapter:"chapter_22",keyActions:["Results assessed","Successes identified","Failures analyzed","Lessons learned"]},{id:"louise_gas_explosion",title:"Louise's Gas Explosion Death",date:"December 1943",description:"Louise is killed in a suspicious gas explosion, likely orchestrated by the remaining conspirators as revenge for her betrayal.",location:"louise_cottage",characters:[{characterId:"louise_harrington",role:"Victim"},{characterId:"remaining_conspirators",role:"Likely perpetrators"}],significance:"Shows the network's willingness to eliminate traitors and the consequences of betrayal",chapter:"chapter_23",keyActions:["Gas explosion orchestrated","Louise killed","Neighbor also killed","Suspicious circumstances"]},{id:"suspicious_death",title:"Suspicious Death Investigation",date:"December 1943",description:"Louise's death is investigated as a suspicious gas explosion, but no one claims responsibility. The circumstances suggest orchestrated murder.",location:"louise_cottage",characters:[{characterId:"investigators",role:"Investigators"}],significance:"Shows the difficulty of proving orchestrated murder in wartime",chapter:"chapter_23",keyActions:["Death investigated","Suspicious circumstances noted","No responsibility claimed","Case remains open"]},{id:"trial_imprisonment",title:"Trial and Imprisonment",date:"1944",description:'Bob and Davies are tried for attempted murder and crimes against the state "in camera" for security reasons, and gaoled. The judiciary realizes there is not enough evidence to try them for treason.',location:"uk",characters:[{characterId:"bob_harrington",role:"Defendant"},{characterId:"sir_john_davies",role:"Defendant"}],significance:"Shows the legal consequences for the captured conspirators",chapter:"chapter_24",keyActions:["Trial conducted in camera","Attempted murder charges","Crimes against state charges","Imprisonment ordered"]},{id:"cynthia_obe",title:"Cynthia Receives OBE",date:"1944",description:'Cynthia receives an OBE for "services to war work" in the next honours list, recognizing her contribution to British intelligence operations.',location:"uk",characters:[{characterId:"cynthia_childreth",role:"Recipient"}],significance:"Recognizes Cynthia's contribution to British intelligence and the war effort",chapter:"chapter_24",keyActions:["OBE awarded","Services to war work recognized","Honour conferred","Contribution acknowledged"]}]},8817:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bookMetadata:()=>i});const i={title:"Stitched Up (old)",author:"Matt Parry",genre:"Spy Thriller",setting:"World War II",description:"A historical spy thriller set during World War II that follows Lady Cynthia Childreth's recruitment into intelligence work and her efforts to thwart a Nazi assassination plot.",publisher:"Self-published",publicationYear:2023,series:"Stitched Up Series",seriesOrder:1,appTitle:"Stitched Up Interactive Companion",appSubtitle:"An Interactive Companion to Matt Parry's Novel",welcomeMessage:'Welcome to the "Stitched Up" Interactive Companion!',welcomeDescription:"This app helps you explore characters, relationships, locations, and plot elements from the novel. Use the tabs below to navigate different aspects of the story.",aboutApp:'The "Stitched Up" Interactive Companion is designed to enhance your reading experience by providing detailed information about characters, locations, events, and spy techniques featured in Matt Parry\'s novel.',aboutBook:'"Stitched Up" is a historical spy thriller set during World War II, following Lady Cynthia Childreth\'s recruitment into intelligence work and her efforts to thwart a Nazi assassination plot.',tourWelcome:'Welcome to the "Stitched Up" Interactive Companion! This app helps you explore the world of Matt Parry\'s novel.',tourConclusion:'You\'re now ready to explore the world of "Stitched Up"! Click any tab to begin your adventure.',characterGroups:{Protagonists:"Main characters working for British intelligence","Fifth Columnists":"Nazi sympathizers and collaborators","German Connection":"German nationals and sympathizers","Supporting Characters":"Other characters in the story",Military:"British military and intelligence","Historical Figures":"Real-world figures referenced"},characterGroupStyles:{Protagonists:"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200","Fifth Columnists":"bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200","German Connection":"bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200","Supporting Characters":"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200",Military:"bg-gray-300 text-gray-800 dark:bg-gray-600 dark:text-gray-100","Historical Figures":"bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-200"},characterGroupColors:{Protagonists:"#3182CE","Fifth Columnists":"#E53E3E","German Connection":"#D69E2E","Supporting Characters":"#38A169",Military:"#4A5568","Historical Figures":"#805AD5"},relationshipCategoryColors:{Spouse:"#805AD5","Handler/Asset":"#3182CE","Conspirator/Enemy":"#E53E3E","Colleague/Partner":"#38A169","Superior/Subordinate":"#DD6B20",Friend:"#4299E1","Informant/Double-Agent":"#D53F8C",Other:"#718096"},importanceWeights:{keyScenes:{perItem:6,max:30},eventParticipation:{perItem:2.5,max:25},relationships:{perItem:2,max:20},development:{perItem:2.5,max:10},defaultGroupBonus:3,groupBonuses:{Protagonists:15,"Fifth Columnists":12,"German Connection":8,"Supporting Characters":5,Military:10,"Historical Figures":10}},literaryAnalysis:{title:"Literary Analysis",paragraphs:["The book uses the spy thriller genre to explore broader themes of loyalty, deception, class division, and the moral compromises made during wartime. The novel's structure mirrors the complexity of intelligence work itself, with information revealed gradually and perspectives shifting as characters' true motivations come to light.","The book's title operates on multiple levels, referring both to the knitting motif throughout the story and the way characters find themselves betrayed or trapped by circumstances and the actions of others."]},copyright:'"Stitched Up" Interactive Companion'}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{objects:()=>i});const i=[]},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(4705);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9434:(e,t,n)=>{"use strict";n.r(t),n.d(t,{themeElements:()=>i});const i=[{id:"theme_duality_of_man",title:"Duality of Human Nature",description:"The conflict between good and evil within a single person, embodied by Jekyll and Hyde.",introducedInChapter:"chapter_03",examples:["Jekyll\u2019s charitable public persona versus Hyde\u2019s cruelty","Separation of identities through science"],relatedCharacters:["henry_jekyll","edward_hyde"],relatedEvents:["dr_lanyon_narrative","jekyll_full_statement"]},{id:"theme_repression",title:"Victorian Repression and Respectability",description:"Societal pressure to maintain respectability, leading to secrecy and compartmentalization.",introducedInChapter:"chapter_01",examples:["Jekyll\u2019s secret experiments","Utterson\u2019s discretion and reluctance to scandalize his friends"],relatedCharacters:["gabriel_utterson","henry_jekyll"],relatedEvents:["incident_of_the_letter"]},{id:"theme_science_and_transgression",title:"Science, Ethics, and Transgression",description:"The pursuit of scientific knowledge beyond moral boundaries and its consequences.",introducedInChapter:"chapter_03",examples:["Jekyll\u2019s experimentation without ethical restraint","Lanyon\u2019s horror at witnessing the transformation"],relatedCharacters:["henry_jekyll","hastie_lanyon"],relatedEvents:["dr_lanyon_narrative","jekyll_full_statement"]},{id:"theme_addiction_and_loss_of_control",title:"Addiction and Loss of Control",description:"Jekyll\u2019s dependence on the potion and his diminishing ability to control Hyde.",introducedInChapter:"chapter_06",examples:["Unplanned transformations into Hyde","Desperate search for the impure salt replacement"],relatedCharacters:["henry_jekyll","edward_hyde"],relatedEvents:["incident_at_the_window","jekyll_full_statement"]},{id:"theme_urban_gothic",title:"Urban Gothic Atmosphere",description:"Fog, darkness, and the split geography of respectable squares and sordid alleys mirror the divided self.",introducedInChapter:"chapter_01",examples:["The sinister by-street and shabby door","Soho lodgings searched after the murder"],relatedCharacters:["gabriel_utterson","edward_hyde"],relatedEvents:["story_of_the_door","carew_murder"]},{id:"theme_friendship_and_loyalty",title:"Friendship and Loyalty under Strain",description:"Utterson\u2019s loyalty and Lanyon\u2019s principled break with Jekyll illustrate conflicting duties to friends and to truth.",introducedInChapter:"chapter_03",examples:["Utterson protects his friends\u2019 reputations","Lanyon severs friendship over scientific principles"],relatedCharacters:["gabriel_utterson","hastie_lanyon","henry_jekyll"],relatedEvents:["remarkable_incident_of_dr_lanyon","dr_lanyon_narrative"]}]},9490:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bookMetadata:()=>h.bookMetadata,chapters:()=>c.chapters,characterPositions:()=>p.characterPositions,characters:()=>i.characters,eventPositions:()=>p.eventPositions,events:()=>a.events,locationPositions:()=>p.locationPositions,locations:()=>r.locations,mapBoundaries:()=>p.mapBoundaries,mysteryElements:()=>d.mysteryElements,objectPositions:()=>p.objectPositions,objects:()=>s.objects,relationships:()=>o.relationships,spycraftEntries:()=>l.spycraftEntries,themeElements:()=>u.themeElements});var i=n(6696),r=n(4182),a=n(1177),o=n(2065),s=n(1450),l=n(14),c=n(6310),d=n(130),u=n(6214),h=n(8817),p=n(1434)},9833:(e,t,n)=>{var i={"./MattParry_StitchedUp_v1/index.js":9490,"./MattParry_StitchedUp_v2/index.js":5559,"./RobertLouisStevenson_JekyllAndHyde/index.js":3030,"./index.js":6705};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=9833},9972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{spycraftEntries:()=>i});const i=[]}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(5043),t=n(4391),i=n(5173);function r(e){return t=>!!t.type&&t.type.tabsRole===e}const a=r("Tab"),o=r("TabList"),s=r("TabPanel");function l(t,n){return e.Children.map(t,(t=>null===t?null:function(e){return a(e)||o(e)||s(e)}(t)?n(t):t.props&&t.props.children&&"object"===typeof t.props.children?(0,e.cloneElement)(t,Object.assign({},t.props,{children:l(t.props.children,n)})):t))}function c(t,n){return e.Children.forEach(t,(e=>{null!==e&&(a(e)||s(e)?n(e):e.props&&e.props.children&&"object"===typeof e.props.children&&(o(e)&&n(e),c(e.props.children,n)))}))}function d(e,t,n){let i,r=0,l=0,d=!1;const u=[];return c(e[t],(e=>{o(e)&&(e.props&&e.props.children&&"object"===typeof e.props.children&&c(e.props.children,(e=>u.push(e))),d&&(i=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),d=!0),a(e)?(d&&-1!==u.indexOf(e)||(i=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),r++):s(e)&&l++})),i||r===l||(i=new Error("There should be an equal number of 'Tab' and 'TabPanel' in `".concat(n,"`. ")+"Received ".concat(r," 'Tab' and ").concat(l," 'TabPanel'."))),i}function u(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=u(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const h=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=u(e))&&(i&&(i+=" "),i+=t);return i};function p(e){let t=0;return c(e,(e=>{a(e)&&t++})),t}const f=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function m(e){return e&&"getAttribute"in e}function g(e){return m(e)&&e.getAttribute("data-rttab")}function y(e){return m(e)&&"true"===e.getAttribute("aria-disabled")}let v;const _={className:"react-tabs",focus:!1},b={children:d},w=t=>{(0,i.checkPropTypes)(b,t,"prop","UncontrolledTabs");let n=(0,e.useRef)([]),r=(0,e.useRef)([]);const c=(0,e.useRef)();function d(e,n){if(e<0||e>=w())return;const{onSelect:i,selectedIndex:r}=t;i(e,r,n)}function u(e){const t=w();for(let n=e+1;n<t;n++)if(!y(x(n)))return n;for(let n=0;n<e;n++)if(!y(x(n)))return n;return e}function m(e){let t=e;for(;t--;)if(!y(x(t)))return t;for(t=w();t-- >e;)if(!y(x(t)))return t;return e}function w(){const{children:e}=t;return p(e)}function x(e){return n.current["tabs-".concat(e)]}function k(e){let t=e.target;do{if(C(t)){if(y(t))return;return void d([].slice.call(t.parentNode.children).filter(g).indexOf(t),e)}}while(null!=(t=t.parentNode))}function C(e){if(!g(e))return!1;let t=e.parentElement;do{if(t===c.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}const S=Object.assign({},_,t),{className:I,domRef:j}=S,T=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(S,f);return e.createElement("div",Object.assign({},T,{className:h(I),onClick:k,onKeyDown:function(e){const{direction:n,disableUpDownKeys:i,disableLeftRightKeys:r}=t;if(C(e.target)){let{selectedIndex:a}=t,o=!1,s=!1;"Space"!==e.code&&32!==e.keyCode&&"Enter"!==e.code&&13!==e.keyCode||(o=!0,s=!1,k(e)),(r||37!==e.keyCode&&"ArrowLeft"!==e.code)&&(i||38!==e.keyCode&&"ArrowUp"!==e.code)?(r||39!==e.keyCode&&"ArrowRight"!==e.code)&&(i||40!==e.keyCode&&"ArrowDown"!==e.code)?35===e.keyCode||"End"===e.code?(a=function(){let e=w();for(;e--;)if(!y(x(e)))return e;return null}(),o=!0,s=!0):36!==e.keyCode&&"Home"!==e.code||(a=function(){const e=w();for(let t=0;t<e;t++)if(!y(x(t)))return t;return null}(),o=!0,s=!0):(a="rtl"===n?m(a):u(a),o=!0,s=!0):(a="rtl"===n?u(a):m(a),o=!0,s=!0),o&&e.preventDefault(),s&&d(a,e)}},ref:e=>{c.current=e,j&&j(e)},"data-rttabs":!0}),function(){let i=0;const{children:c,disabledTabClassName:d,focus:u,forceRenderTabPanel:h,selectedIndex:p,selectedTabClassName:f,selectedTabPanelClassName:m,environment:g}=t;r.current=r.current||[];let y=r.current.length-w();const _=(0,e.useId)();for(;y++<0;)r.current.push("".concat(_).concat(r.current.length));return l(c,(t=>{let c=t;if(o(t)){let i=0,o=!1;null==v&&function(e){const t=e||("undefined"!==typeof window?window:void 0);try{v=!("undefined"===typeof t||!t.document||!t.document.activeElement)}catch(n){v=!1}}(g);const s=g||("undefined"!==typeof window?window:void 0);v&&s&&(o=e.Children.toArray(t.props.children).filter(a).some(((e,t)=>s.document.activeElement===x(t)))),c=(0,e.cloneElement)(t,{children:l(t.props.children,(t=>{const a="tabs-".concat(i),s=p===i,l={tabRef:e=>{n.current[a]=e},id:r.current[i],selected:s,focus:s&&(u||o)};return f&&(l.selectedClassName=f),d&&(l.disabledClassName=d),i++,(0,e.cloneElement)(t,l)}))})}else if(s(t)){const n={id:r.current[i],selected:p===i};h&&(n.forceRender=h),m&&(n.selectedClassName=m),i++,c=(0,e.cloneElement)(t,n)}return c}))}())},x=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];const k={children:d,onSelect:function(e,t,n,i,r){const a=e[t],o=r||t;let s=null;return a&&"function"!==typeof a?s=new Error("Invalid ".concat(i," `").concat(o,"` of type `").concat(typeof a,"` supplied ")+"to `".concat(n,"`, expected `function`.")):null!=e.selectedIndex&&null==a&&(s=new Error("The ".concat(i," `").concat(o,"` is marked as required in `").concat(n,"`, but ")+"its value is `undefined` or `null`.\n`onSelect` is required when `selectedIndex` is also set. Not doing so will make the tabs not do anything, as `selectedIndex` indicates that you want to handle the selected tab yourself.\nIf you only want to set the inital tab replace `selectedIndex` with `defaultIndex`.")),s},selectedIndex:function(e,t,n,i,r){const a=e[t],o=r||t;let s=null;if(null!=a&&"number"!==typeof a)s=new Error("Invalid ".concat(i," `").concat(o,"` of type `").concat(typeof a,"` supplied to ")+"`".concat(n,"`, expected `number`."));else if(null!=e.defaultIndex&&null!=a)return new Error("The ".concat(i," `").concat(o,"` cannot be used together with `defaultIndex` ")+"in `".concat(n,"`.\n")+"Either remove `".concat(o,"` to let `").concat(n,"` handle the selected ")+"tab internally or remove `defaultIndex` to handle it yourself.");return s}},C={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},S=t=>{(0,i.checkPropTypes)(k,t,"prop","Tabs");const n=Object.assign({},C,t),{children:r,defaultFocus:a,defaultIndex:o,focusTabOnClick:s,onSelect:l}=n,c=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(n,x),[d,u]=(0,e.useState)(a),[h]=(0,e.useState)((e=>null===e.selectedIndex?1:0)(c)),[f,m]=(0,e.useState)(1===h?o||0:null);if((0,e.useEffect)((()=>{u(!1)}),[]),1===h){const t=p(r);(0,e.useEffect)((()=>{if(null!=f){const e=Math.max(0,t-1);m(Math.min(f,e))}}),[t])}let g=Object.assign({},t,c);return g.focus=d,g.onSelect=(e,t,n)=>{"function"===typeof l&&!1===l(e,t,n)||(s&&u(!0),1===h&&m(e))},null!=f&&(g.selectedIndex=f),delete g.defaultFocus,delete g.defaultIndex,delete g.focusTabOnClick,e.createElement(w,g,r)};S.tabsRole="Tabs";const I=S,j=["children","className"];const T={className:"react-tabs__tab-list"},E=t=>{const n=Object.assign({},T,t),{children:i,className:r}=n,a=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(n,j);return e.createElement("ul",Object.assign({},a,{className:h(r),role:"tablist"}),i)};E.tabsRole="TabList";const P=E,N=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];const L="react-tabs__tab",M={className:L,disabledClassName:"".concat(L,"--disabled"),focus:!1,id:null,selected:!1,selectedClassName:"".concat(L,"--selected")},A=t=>{let n=(0,e.useRef)();const i=Object.assign({},M,t),{children:r,className:a,disabled:o,disabledClassName:s,focus:l,id:c,selected:d,selectedClassName:u,tabIndex:p,tabRef:f}=i,m=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(i,N);return(0,e.useEffect)((()=>{d&&l&&n.current.focus()}),[d,l]),e.createElement("li",Object.assign({},m,{className:h(a,{[u]:d,[s]:o}),ref:e=>{n.current=e,f&&f(e)},role:"tab",id:"tab".concat(c),"aria-selected":d?"true":"false","aria-disabled":o?"true":"false","aria-controls":"panel".concat(c),tabIndex:p||(d?"0":null),"data-rttab":!0}),r)};A.tabsRole="Tab";const z=A,B=["children","className","forceRender","id","selected","selectedClassName"];const R="react-tabs__tab-panel",D={className:R,forceRender:!1,selectedClassName:"".concat(R,"--selected")},O=t=>{const n=Object.assign({},D,t),{children:i,className:r,forceRender:a,id:o,selected:s,selectedClassName:l}=n,c=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(n,B);return e.createElement("div",Object.assign({},c,{className:h(r,{[l]:s}),role:"tabpanel",id:"panel".concat(o),"aria-labelledby":"tab".concat(o)}),a||s?i:null)};O.tabsRole="TabPanel";const F=O;var H=n(9379),U=n(4705);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}function q(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function Z(e,t,n){var i,r=((i={})[e]=t,i.path="/",i.expires=void 0,i);if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),r.expires=a.toUTCString()}var o=[];for(var s in r)o.push("".concat(s,"=").concat(r[s]));return document.cookie=o.join("; "),V(e)}function V(e){return(t={},document.cookie.split(";").forEach((function(e){var n=e.split("="),i=n[0],r=n[1];t[i.trim()]=r})),t)[e];var t}"function"==typeof SuppressedError&&SuppressedError;var J,K=(J={},function(e,t){return void 0===t&&(t="introjs-stamp"),J[t]=J[t]||0,void 0===e[t]&&(e[t]=J[t]++),e[t]}),$=new(function(){function e(){this.events_key="introjs_event"}return e.prototype._id=function(e,t,n){return e+K(t)+(n?"_".concat(K(n)):"")},e.prototype.on=function(e,t,n,i,r){var a=this._id(t,n,i),o=function(t){return n(i||e,t||window.event)};"addEventListener"in e?e.addEventListener(t,o,r):"attachEvent"in e&&e.attachEvent("on".concat(t),o),e[this.events_key]=e[this.events_key]||{},e[this.events_key][a]=o},e.prototype.off=function(e,t,n,i,r){var a=this._id(t,n,i),o=e[this.events_key]&&e[this.events_key][a];o&&("removeEventListener"in e?e.removeEventListener(t,o,r):"detachEvent"in e&&e.detachEvent("on".concat(t),o),e[this.events_key][a]=null)},e}()),Y=function(e){return"function"==typeof e};function Q(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";n.match(t)||e.setAttribute("class","".concat(n," ").concat(t))}else if(void 0!==e.classList)for(var i=0,r=t.split(" ");i<r.length;i++){var a=r[i];e.classList.add(a)}else e.className.match(t)||(e.className+=" ".concat(t))}function X(e,t){var n="";return"currentStyle"in e?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function ee(e,t){if(e){var n=function(e){var t=window.getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(var r=e;r=r.parentElement;)if(t=window.getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.body}(t);n!==document.body&&(n.scrollTop=t.offsetTop-n.offsetTop)}}function te(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function ne(e,t,n,i,r){var a;if("off"!==t&&e&&(a="tooltip"===t?r.getBoundingClientRect():i.getBoundingClientRect(),!function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}(i))){var o=te().height;a.bottom-(a.bottom-a.top)<0||i.clientHeight>o?window.scrollBy(0,a.top-(o/2-a.height/2)-n):window.scrollBy(0,a.top-(o/2-a.height/2)+n)}}function ie(e){e.setAttribute("role","button"),e.tabIndex=0}function re(e){var t=e.parentElement;return!(!t||"HTML"===t.nodeName)&&("fixed"===X(e,"position")||re(t))}function ae(e,t){var n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,a=window.pageXOffset||i.scrollLeft||n.scrollLeft;t=t||n;var o=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=X(t,"position"),c={width:o.width,height:o.height};return"body"!==t.tagName.toLowerCase()&&"relative"===l||"sticky"===l?Object.assign(c,{top:o.top-s.top,left:o.left-s.left}):re(e)?Object.assign(c,{top:o.top,left:o.left}):Object.assign(c,{top:o.top+r,left:o.left+a})}function oe(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function se(e,t){var n="";if(e.style.cssText&&(n+=e.style.cssText),"string"==typeof t)n+=t;else for(var i in t)n+="".concat(i,":").concat(t[i],";");e.style.cssText=n}function le(e,t,n){if(n&&t){var i=ae(t.element,e._targetElement),r=e._options.helperElementPadding;t.element instanceof Element&&re(t.element)?Q(n,"introjs-fixedTooltip"):oe(n,"introjs-fixedTooltip"),"floating"===t.position&&(r=0),se(n,{width:"".concat(i.width+r,"px"),height:"".concat(i.height+r,"px"),top:"".concat(i.top-r/2,"px"),left:"".concat(i.left-r/2,"px")})}}function ce(e,t,n,i,r){return e.left+t+n.width>i.width?(r.style.left="".concat(i.width-n.width-e.left,"px"),!1):(r.style.left="".concat(t,"px"),!0)}function de(e,t,n,i){return e.left+e.width-t-n.width<0?(i.style.left="".concat(-e.left,"px"),!1):(i.style.right="".concat(t,"px"),!0)}function ue(e,t){e.includes(t)&&e.splice(e.indexOf(t),1)}function he(e,t,n,i,r){if(void 0===r&&(r=!1),t){var a,o,s,l,c="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",i.style.display="inherit",c="string"==typeof t.tooltipClass?t.tooltipClass:e._options.tooltipClass,n.className=["introjs-tooltip",c].filter(Boolean).join(" "),n.setAttribute("role","dialog"),"floating"!==(l=t.position)&&e._options.autoPosition&&(l=function(e,t,n,i){var r=e.slice(),a=te(),o=ae(n).height+10,s=ae(n).width+20,l=t.getBoundingClientRect(),c="floating";if(l.bottom+o>a.height&&ue(r,"bottom"),l.top-o<0&&ue(r,"top"),l.right+s>a.width&&ue(r,"right"),l.left-s<0&&ue(r,"left"),i&&(i=i.split("-")[0]),r.length&&(c=r[0],r.includes(i)&&(c=i)),"top"===c||"bottom"===c){var d=void 0,u=[];"top"===c?(d="top-middle-aligned",u=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(d="bottom-middle-aligned",u=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),c=function(e,t,n,i){var r=t/2,a=Math.min(n,window.screen.width);return a-e<t&&(ue(i,"top-left-aligned"),ue(i,"bottom-left-aligned")),(e<r||a-e<r)&&(ue(i,"top-middle-aligned"),ue(i,"bottom-middle-aligned")),e<t&&(ue(i,"top-right-aligned"),ue(i,"bottom-right-aligned")),i.length?i[0]:null}(l.left,s,a.width,u)||d}return c}(e._options.positionPrecedence,t.element,n,l)),o=ae(t.element),a=ae(n),s=te(),Q(n,"introjs-".concat(l));var d=o.width/2-a.width/2;switch(l){case"top-right-aligned":i.className="introjs-arrow bottom-right";var u=0;de(o,u,a,n),n.style.bottom="".concat(o.height+20,"px");break;case"top-middle-aligned":i.className="introjs-arrow bottom-middle",r&&(d+=5),de(o,d,a,n)&&(n.style.right="",ce(o,d,a,s,n)),n.style.bottom="".concat(o.height+20,"px");break;case"top-left-aligned":case"top":i.className="introjs-arrow bottom",ce(o,r?0:15,a,s,n),n.style.bottom="".concat(o.height+20,"px");break;case"right":n.style.left="".concat(o.width+20,"px"),o.top+a.height>s.height?(i.className="introjs-arrow left-bottom",n.style.top="-".concat(a.height-o.height-20,"px")):i.className="introjs-arrow left";break;case"left":r||!0!==e._options.showStepNumbers||(n.style.top="15px"),o.top+a.height>s.height?(n.style.top="-".concat(a.height-o.height-20,"px"),i.className="introjs-arrow right-bottom"):i.className="introjs-arrow right",n.style.right="".concat(o.width+20,"px");break;case"floating":i.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(a.width/2,"px"),n.style.marginTop="-".concat(a.height/2,"px");break;case"bottom-right-aligned":i.className="introjs-arrow top-right",de(o,u=0,a,n),n.style.top="".concat(o.height+20,"px");break;case"bottom-middle-aligned":i.className="introjs-arrow top-middle",r&&(d+=5),de(o,d,a,n)&&(n.style.right="",ce(o,d,a,s,n)),n.style.top="".concat(o.height+20,"px");break;default:i.className="introjs-arrow top",ce(o,0,a,s,n),n.style.top="".concat(o.height+20,"px")}}}function pe(){for(var e=0,t=Array.from(document.querySelectorAll(".introjs-showElement"));e<t.length;e++)oe(t[e],/introjs-[a-zA-Z]+/g)}function fe(e,t){var n=document.createElement(e);t=t||{};var i=/^(?:role|data-|aria-)/;for(var r in t){var a=t[r];"style"===r&&"function"!=typeof a?se(n,a):"string"==typeof a&&r.match(i)?n.setAttribute(r,a):n[r]=a}return n}function me(e,t,n){if(void 0===n&&(n=!1),n){var i=t.style.opacity||"1";se(t,{opacity:"0"}),window.setTimeout((function(){se(t,{opacity:i})}),10)}e.appendChild(t)}function ge(e,t){return(e+1)/t*100}function ye(e,t){var n=fe("div",{className:"introjs-bullets"});!1===e._options.showBullets&&(n.style.display="none");var i=fe("ul");i.setAttribute("role","tablist");for(var r=function(){var t=this.getAttribute("data-step-number");null!=t&&e.goToStep(parseInt(t,10))},a=0;a<e._introItems.length;a++){var o=e._introItems[a].step,s=fe("li"),l=fe("a");s.setAttribute("role","presentation"),l.setAttribute("role","tab"),l.onclick=r,a===t.step-1&&(l.className="active"),ie(l),l.innerHTML="&nbsp;",l.setAttribute("data-step-number",o.toString()),s.appendChild(l),i.appendChild(s)}return n.appendChild(i),n}function ve(e,t,n){var i=e.querySelector(".introjs-progress .introjs-progressbar");if(i){var r=ge(t,n);i.style.cssText="width:".concat(r,"%;"),i.setAttribute("aria-valuenow",r.toString())}}function _e(e,t){return W(this,void 0,void 0,(function(){var n,i,r,a,o,s,l,c,d,u,h,p,f,m,g,y,v,_,b,w,x,k,C,S,I=this;return q(this,(function(j){switch(j.label){case 0:return Y(e._introChangeCallback)?[4,e._introChangeCallback.call(e,t.element)]:[3,2];case 1:j.sent(),j.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),i=document.querySelector(".introjs-tooltipReferenceLayer"),r="introjs-helperLayer","string"==typeof t.highlightClass&&(r+=" ".concat(t.highlightClass)),"string"==typeof e._options.highlightClass&&(r+=" ".concat(e._options.highlightClass)),null!==n&&null!==i?(l=i.querySelector(".introjs-helperNumberLayer"),c=i.querySelector(".introjs-tooltiptext"),d=i.querySelector(".introjs-tooltip-title"),u=i.querySelector(".introjs-arrow"),h=i.querySelector(".introjs-tooltip"),s=i.querySelector(".introjs-skipbutton"),o=i.querySelector(".introjs-prevbutton"),a=i.querySelector(".introjs-nextbutton"),n.className=r,h.style.opacity="0",h.style.display="none",ee(e._options.scrollToElement,t.element),le(e,t,n),le(e,t,i),pe(),e._lastShowElementTimer&&window.clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=window.setTimeout((function(){null!==l&&(l.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length)),c.innerHTML=t.intro||"",d.innerHTML=t.title||"",h.style.display="block",he(e,t,h,u),function(e,t,n){if(e){var i=t.querySelector(".introjs-bullets li > a.active"),r=t.querySelector('.introjs-bullets li > a[data-step-number="'.concat(n.step,'"]'));i&&r&&(i.className="",r.className="active")}}(e._options.showBullets,i,t),ve(i,e._currentStep,e._introItems.length),h.style.opacity="1",(null!=a&&/introjs-donebutton/gi.test(a.className)||null!=a)&&a.focus(),ne(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,c)}),350)):(p=fe("div",{className:r}),f=fe("div",{className:"introjs-tooltipReferenceLayer"}),m=fe("div",{className:"introjs-arrow"}),g=fe("div",{className:"introjs-tooltip"}),y=fe("div",{className:"introjs-tooltiptext"}),v=fe("div",{className:"introjs-tooltip-header"}),_=fe("h1",{className:"introjs-tooltip-title"}),b=fe("div"),se(p,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),ee(e._options.scrollToElement,t.element),le(e,t,p),le(e,t,f),me(e._targetElement,p,!0),me(e._targetElement,f),y.innerHTML=t.intro,_.innerHTML=t.title,b.className="introjs-tooltipbuttons",!1===e._options.showButtons&&(b.style.display="none"),v.appendChild(_),g.appendChild(v),g.appendChild(y),e._options.dontShowAgain&&(w=fe("div",{className:"introjs-dontShowAgain"}),(x=fe("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(t){e.setDontShowAgain(t.target.checked)},(k=fe("label",{htmlFor:"introjs-dontShowAgain"})).innerText=e._options.dontShowAgainLabel,w.appendChild(x),w.appendChild(k),g.appendChild(w)),g.appendChild(ye(e,t)),g.appendChild(function(e){var t=fe("div");t.className="introjs-progress",!1===e._options.showProgress&&(t.style.display="none");var n=fe("div",{className:"introjs-progressbar"});e._options.progressBarAdditionalClass&&(n.className+=" "+e._options.progressBarAdditionalClass);var i=ge(e._currentStep,e._introItems.length);return n.setAttribute("role","progress"),n.setAttribute("aria-valuemin","0"),n.setAttribute("aria-valuemax","100"),n.setAttribute("aria-valuenow",i.toString()),n.style.cssText="width:".concat(i,"%;"),t.appendChild(n),t}(e)),C=fe("div"),!0===e._options.showStepNumbers&&(C.className="introjs-helperNumberLayer",C.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length),g.appendChild(C)),g.appendChild(m),f.appendChild(g),(a=fe("a")).onclick=function(){return W(I,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return e._introItems.length-1===e._currentStep?[3,2]:[4,xe(e)];case 1:return t.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(a.className)?Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"done")]:[3,4]:[3,6];case 3:t.sent(),t.label=4;case 4:return[4,Ue(e,e._targetElement)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))},ie(a),a.innerHTML=e._options.nextLabel,(o=fe("a")).onclick=function(){return W(I,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return e._currentStep>0?[4,ke(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},ie(o),o.innerHTML=e._options.prevLabel,ie(s=fe("a",{className:"introjs-skipbutton"})),s.innerHTML=e._options.skipLabel,s.onclick=function(){return W(I,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return e._introItems.length-1===e._currentStep&&Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,2];case 1:t.sent(),t.label=2;case 2:return Y(e._introSkipCallback)?[4,e._introSkipCallback.call(e,e._currentStep)]:[3,4];case 3:t.sent(),t.label=4;case 4:return[4,Ue(e,e._targetElement)];case 5:return t.sent(),[2]}}))}))},v.appendChild(s),e._introItems.length>1&&b.appendChild(o),b.appendChild(a),g.appendChild(b),he(e,t,g,m),ne(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,g)),(S=e._targetElement.querySelector(".introjs-disableInteraction"))&&S.parentNode&&S.parentNode.removeChild(S),t.disableInteraction&&function(e,t){var n=document.querySelector(".introjs-disableInteraction");null===n&&(n=fe("div",{className:"introjs-disableInteraction"}),e._targetElement.appendChild(n)),le(e,t,n)}(e,t),0===e._currentStep&&e._introItems.length>1?(null!=a&&(a.className="".concat(e._options.buttonClass," introjs-nextbutton"),a.innerHTML=e._options.nextLabel),!0===e._options.hidePrev?(null!=o&&(o.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=a&&Q(a,"introjs-fullbutton")):null!=o&&(o.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-disabled"))):e._introItems.length-1===e._currentStep||1===e._introItems.length?(null!=o&&(o.className="".concat(e._options.buttonClass," introjs-prevbutton")),!0===e._options.hideNext?(null!=a&&(a.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=o&&Q(o,"introjs-fullbutton")):null!=a&&(!0===e._options.nextToDone?(a.innerHTML=e._options.doneLabel,Q(a,"".concat(e._options.buttonClass," introjs-nextbutton introjs-donebutton"))):a.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=o&&(o.className="".concat(e._options.buttonClass," introjs-prevbutton")),null!=a&&(a.className="".concat(e._options.buttonClass," introjs-nextbutton"),a.innerHTML=e._options.nextLabel)),null!=o&&o.setAttribute("role","button"),null!=a&&a.setAttribute("role","button"),null!=s&&s.setAttribute("role","button"),null!=a&&a.focus(),function(e){Q(e,"introjs-showElement");var t=X(e,"position");"absolute"!==t&&"relative"!==t&&"sticky"!==t&&"fixed"!==t&&Q(e,"introjs-relativePosition")}(t.element),Y(e._introAfterChangeCallback)?[4,e._introAfterChangeCallback.call(e,t.element)]:[3,4];case 3:j.sent(),j.label=4;case 4:return[2]}}))}))}function be(e,t){return W(this,void 0,void 0,(function(){return q(this,(function(n){switch(n.label){case 0:return e._currentStep=t-2,void 0===e._introItems?[3,2]:[4,xe(e)];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}function we(e,t){return W(this,void 0,void 0,(function(){return q(this,(function(n){switch(n.label){case 0:return e._currentStepNumber=t,void 0===e._introItems?[3,2]:[4,xe(e)];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}function xe(e){return W(this,void 0,void 0,(function(){var t,n,i;return q(this,(function(r){switch(r.label){case 0:if(e._direction="forward",void 0!==e._currentStepNumber)for(t=0;t<e._introItems.length;t++)e._introItems[t].step===e._currentStepNumber&&(e._currentStep=t-1,e._currentStepNumber=void 0);return-1===e._currentStep?e._currentStep=0:++e._currentStep,n=e._introItems[e._currentStep],i=!0,Y(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,n&&n.element,e._currentStep,e._direction)]:[3,2];case 1:i=r.sent(),r.label=2;case 2:return!1===i?(--e._currentStep,[2,!1]):e._introItems.length<=e._currentStep?Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"end")]:[3,4]:[3,6];case 3:r.sent(),r.label=4;case 4:return[4,Ue(e,e._targetElement)];case 5:return r.sent(),[2,!1];case 6:return[4,_e(e,n)];case 7:return r.sent(),[2,!0]}}))}))}function ke(e){return W(this,void 0,void 0,(function(){var t,n;return q(this,(function(i){switch(i.label){case 0:return e._direction="backward",e._currentStep<=0?[2,!1]:(--e._currentStep,t=e._introItems[e._currentStep],n=!0,Y(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,t&&t.element,e._currentStep,e._direction)]:[3,2]);case 1:n=i.sent(),i.label=2;case 2:return!1===n?(++e._currentStep,[2,!1]):[4,_e(e,t)];case 3:return i.sent(),[2,!0]}}))}))}function Ce(e,t){return W(this,void 0,void 0,(function(){var n,i;return q(this,(function(r){switch(r.label){case 0:return null===(n=void 0===t.code?t.which:t.code)&&(n=null===t.charCode?t.keyCode:t.charCode),"Escape"!==n&&27!==n||!0!==e._options.exitOnEsc?[3,2]:[4,Ue(e,e._targetElement)];case 1:return r.sent(),[3,16];case 2:return"ArrowLeft"!==n&&37!==n?[3,4]:[4,ke(e)];case 3:return r.sent(),[3,16];case 4:return"ArrowRight"!==n&&39!==n?[3,6]:[4,xe(e)];case 5:return r.sent(),[3,16];case 6:return"Enter"!==n&&"NumpadEnter"!==n&&13!==n?[3,16]:(i=t.target||t.srcElement)&&i.className.match("introjs-prevbutton")?[4,ke(e)]:[3,8];case 7:return r.sent(),[3,15];case 8:return i&&i.className.match("introjs-skipbutton")?e._introItems.length-1===e._currentStep&&Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,10]:[3,12];case 9:r.sent(),r.label=10;case 10:return[4,Ue(e,e._targetElement)];case 11:return r.sent(),[3,15];case 12:return i&&i.getAttribute("data-step-number")?(i.click(),[3,15]):[3,13];case 13:return[4,xe(e)];case 14:r.sent(),r.label=15;case 15:t.preventDefault?t.preventDefault():t.returnValue=!1,r.label=16;case 16:return[2]}}))}))}function Se(e){if(null===e||"object"!==G(e)||"nodeType"in e)return e;var t={};for(var n in e)"jQuery"in window&&e[n]instanceof window.jQuery?t[n]=e[n]:t[n]=Se(e[n]);return t}function Ie(e){var t=document.querySelector(".introjs-hints");return t?Array.from(t.querySelectorAll(e)):[]}function je(e,t){return W(this,void 0,void 0,(function(){var n;return q(this,(function(i){switch(i.label){case 0:return n=Ie('.introjs-hint[data-step="'.concat(t,'"]'))[0],ze(),n&&Q(n,"introjs-hidehint"),Y(e._hintCloseCallback)?[4,e._hintCloseCallback.call(e,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}function Te(e){return W(this,void 0,void 0,(function(){var t,n,i,r,a;return q(this,(function(o){switch(o.label){case 0:t=Ie(".introjs-hint"),n=0,i=t,o.label=1;case 1:return n<i.length?(r=i[n],(a=r.getAttribute("data-step"))?[4,je(e,parseInt(a,10))]:[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}function Ee(e){return W(this,void 0,void 0,(function(){var t,n,i,r,a;return q(this,(function(o){switch(o.label){case 0:if(!(t=Ie(".introjs-hint"))||!t.length)return[3,1];for(n=0,i=t;n<i.length;n++)r=i[n],(a=r.getAttribute("data-step"))&&Pe(parseInt(a,10));return[3,3];case 1:return[4,Be(e,e._targetElement)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Pe(e){var t=Ie('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&oe(t,/introjs-hidehint/g)}function Ne(e){var t=Ie('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&t.parentNode&&t.parentNode.removeChild(t)}function Le(e){return W(this,void 0,void 0,(function(){var t,n,i,r,a,o,s;return q(this,(function(l){switch(l.label){case 0:for(null===(t=document.querySelector(".introjs-hints"))&&(t=fe("div",{className:"introjs-hints"})),n=function(t){return function(n){var i=n||window.event;i&&i.stopPropagation&&i.stopPropagation(),i&&null!==i.cancelBubble&&(i.cancelBubble=!0),Ae(e,t)}},i=0;i<e._hintItems.length;i++){if(r=e._hintItems[i],document.querySelector('.introjs-hint[data-step="'.concat(i,'"]')))return[2];ie(a=fe("a",{className:"introjs-hint"})),a.onclick=n(i),r.hintAnimation||Q(a,"introjs-hint-no-anim"),re(r.element)&&Q(a,"introjs-fixedhint"),o=fe("div",{className:"introjs-hint-dot"}),s=fe("div",{className:"introjs-hint-pulse"}),a.appendChild(o),a.appendChild(s),a.setAttribute("data-step",i.toString()),r.hintTargetElement=r.element,r.element=a,Me(r.hintPosition,a,r.hintTargetElement),t.appendChild(a)}return document.body.appendChild(t),Y(e._hintsAddedCallback)?[4,e._hintsAddedCallback.call(e)]:[3,2];case 1:l.sent(),l.label=2;case 2:return e._options.hintAutoRefreshInterval>=0&&(e._hintsAutoRefreshFunction=(c=function(){return Re(e)},d=e._options.hintAutoRefreshInterval,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window.clearTimeout(u),u=window.setTimeout((function(){c()}),d)}),$.on(window,"scroll",e._hintsAutoRefreshFunction,e,!0)),[2]}var c,d,u}))}))}function Me(e,t,n){if(void 0!==n){var i=ae(n),r=20,a=20;switch(e){default:case"top-left":t.style.left="".concat(i.left,"px"),t.style.top="".concat(i.top,"px");break;case"top-right":t.style.left="".concat(i.left+i.width-r,"px"),t.style.top="".concat(i.top,"px");break;case"bottom-left":t.style.left="".concat(i.left,"px"),t.style.top="".concat(i.top+i.height-a,"px");break;case"bottom-right":t.style.left="".concat(i.left+i.width-r,"px"),t.style.top="".concat(i.top+i.height-a,"px");break;case"middle-left":t.style.left="".concat(i.left,"px"),t.style.top="".concat(i.top+(i.height-a)/2,"px");break;case"middle-right":t.style.left="".concat(i.left+i.width-r,"px"),t.style.top="".concat(i.top+(i.height-a)/2,"px");break;case"middle-middle":t.style.left="".concat(i.left+(i.width-r)/2,"px"),t.style.top="".concat(i.top+(i.height-a)/2,"px");break;case"bottom-middle":t.style.left="".concat(i.left+(i.width-r)/2,"px"),t.style.top="".concat(i.top+i.height-a,"px");break;case"top-middle":t.style.left="".concat(i.left+(i.width-r)/2,"px"),t.style.top="".concat(i.top,"px")}}}function Ae(e,t){return W(this,void 0,void 0,(function(){var n,i,r,a,o,s,l,c,d,u,h;return q(this,(function(p){switch(p.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(t,'"]')),i=e._hintItems[t],Y(e._hintClickCallback)?[4,e._hintClickCallback.call(e,n,i,t)]:[3,2];case 1:p.sent(),p.label=2;case 2:return void 0!==(r=ze())&&parseInt(r,10)===t||(a=fe("div",{className:"introjs-tooltip"}),o=fe("div"),s=fe("div"),l=fe("div"),a.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},o.className="introjs-tooltiptext",(c=fe("p")).innerHTML=i.hint||"",o.appendChild(c),e._options.hintShowButton&&((d=fe("a")).className=e._options.buttonClass,d.setAttribute("role","button"),d.innerHTML=e._options.hintButtonLabel,d.onclick=function(){return je(e,t)},o.appendChild(d)),s.className="introjs-arrow",a.appendChild(s),a.appendChild(o),u=n.getAttribute("data-step")||"",e._currentStep=parseInt(u,10),h=e._hintItems[e._currentStep],l.className="introjs-tooltipReferenceLayer introjs-hintReference",l.setAttribute("data-step",u),le(e,h,l),l.appendChild(a),document.body.appendChild(l),he(e,h,a,s,!0)),[2]}}))}))}function ze(){var e=document.querySelector(".introjs-hintReference");if(e&&e.parentNode){var t=e.getAttribute("data-step");if(!t)return;return e.parentNode.removeChild(e),t}}function Be(e,t){return W(this,void 0,void 0,(function(){var n,i,r,a,o,s,l,c,d,u;return q(this,(function(h){switch(h.label){case 0:if(e._hintItems=[],e._options.hints&&e._options.hints.length>0)for(n=0,i=e._options.hints;n<i.length;n++)r=i[n],"string"==typeof(a=Se(r)).element&&(a.element=document.querySelector(a.element)),a.hintPosition=a.hintPosition||e._options.hintPosition,a.hintAnimation=a.hintAnimation||e._options.hintAnimation,null!==a.element&&e._hintItems.push(a);else{if(!(o=Array.from(t.querySelectorAll("*[data-hint]")))||!o.length)return[2,!1];for(s=0,l=o;s<l.length;s++)c=l[s],d=c.getAttribute("data-hint-animation"),u=e._options.hintAnimation,d&&(u="true"===d),e._hintItems.push({element:c,hint:c.getAttribute("data-hint")||"",hintPosition:c.getAttribute("data-hint-position")||e._options.hintPosition,hintAnimation:u,tooltipClass:c.getAttribute("data-tooltip-class")||void 0,position:c.getAttribute("data-position")||e._options.tooltipPosition})}return[4,Le(e)];case 1:return h.sent(),$.on(document,"click",ze,e,!1),$.on(window,"resize",Re,e,!0),[2,!0]}}))}))}function Re(e){for(var t=0,n=e._hintItems;t<n.length;t++){var i=n[t],r=i.hintTargetElement;Me(i.hintPosition,i.element,r)}}function De(e,t){var n=Array.from(t.querySelectorAll("*[data-intro]")),i=[];if(e._options.steps&&e._options.steps.length)for(var r=0,a=e._options.steps;r<a.length;r++){var o=Se(h=a[r]);if(o.step=i.length+1,o.title=o.title||"","string"==typeof o.element&&(o.element=document.querySelector(o.element)||void 0),void 0===o.element||null===o.element){var s=document.querySelector(".introjsFloatingElement");null===s&&(s=fe("div",{className:"introjsFloatingElement"}),document.body.appendChild(s)),o.element=s,o.position="floating"}o.position=o.position||e._options.tooltipPosition,o.scrollTo=o.scrollTo||e._options.scrollTo,void 0===o.disableInteraction&&(o.disableInteraction=e._options.disableInteraction),null!==o.element&&i.push(o)}else{var l=void 0;if(n.length<1)return[];for(var c=0,d=n;c<d.length;c++){var u=d[c];if((!e._options.group||u.getAttribute("data-intro-group")===e._options.group)&&"none"!==u.style.display){var h=parseInt(u.getAttribute("data-step")||"",10);l=e._options.disableInteraction,u.hasAttribute("data-disable-interaction")&&(l=!!u.getAttribute("data-disable-interaction")),h>0&&(i[h-1]={step:h,element:u,title:u.getAttribute("data-title")||"",intro:u.getAttribute("data-intro")||"",tooltipClass:u.getAttribute("data-tooltip-class")||void 0,highlightClass:u.getAttribute("data-highlight-class")||void 0,position:u.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:u.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:l})}}for(var p=0,f=0,m=n;f<m.length;f++)if(u=m[f],(!e._options.group||u.getAttribute("data-intro-group")===e._options.group)&&null===u.getAttribute("data-step")){for(;void 0!==i[p];)p++;l=u.hasAttribute("data-disable-interaction")?!!u.getAttribute("data-disable-interaction"):e._options.disableInteraction,i[p]={element:u,title:u.getAttribute("data-title")||"",intro:u.getAttribute("data-intro")||"",step:p+1,tooltipClass:u.getAttribute("data-tooltip-class")||void 0,highlightClass:u.getAttribute("data-highlight-class")||void 0,position:u.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:u.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:l}}}for(var g=[],y=0;y<i.length;y++)i[y]&&g.push(i[y]);return(i=g).sort((function(e,t){return e.step-t.step})),i}function Oe(e,t){var n=e._currentStep;if(null!=n&&-1!=n){var i=e._introItems[n],r=document.querySelector(".introjs-tooltipReferenceLayer"),a=document.querySelector(".introjs-helperLayer"),o=document.querySelector(".introjs-disableInteraction");le(e,i,a),le(e,i,r),le(e,i,o),t&&(e._introItems=De(e,e._targetElement),function(e,t){if(e._options.showBullets){var n=document.querySelector(".introjs-bullets");n&&n.parentNode&&n.parentNode.replaceChild(ye(e,t),n)}}(e,i),ve(r,n,e._introItems.length));var s=document.querySelector(".introjs-arrow"),l=document.querySelector(".introjs-tooltip");return l&&s&&he(e,e._introItems[n],l,s),Re(e),e}}function Fe(e){Oe(e)}function He(e,t){if(void 0===t&&(t=!1),e&&e.parentElement){var n=e.parentElement;t?(se(e,{opacity:"0"}),window.setTimeout((function(){try{n.removeChild(e)}catch(e){}}),500)):n.removeChild(e)}}function Ue(e,t,n){return void 0===n&&(n=!1),W(this,void 0,void 0,(function(){var i,r,a,o;return q(this,(function(s){switch(s.label){case 0:return i=!0,void 0===e._introBeforeExitCallback?[3,2]:[4,e._introBeforeExitCallback.call(e,t)];case 1:i=s.sent(),s.label=2;case 2:if(!n&&!1===i)return[2];if((r=Array.from(t.querySelectorAll(".introjs-overlay")))&&r.length)for(a=0,o=r;a<o.length;a++)He(o[a]);return He(t.querySelector(".introjs-helperLayer"),!0),He(t.querySelector(".introjs-tooltipReferenceLayer")),He(t.querySelector(".introjs-disableInteraction")),He(document.querySelector(".introjsFloatingElement")),pe(),$.off(window,"keydown",Ce,e,!0),$.off(window,"resize",Fe,e,!0),Y(e._introExitCallback)?[4,e._introExitCallback.call(e)]:[3,4];case 3:s.sent(),s.label=4;case 4:return e._currentStep=-1,[2]}}))}))}function Ge(e,t){return W(this,void 0,void 0,(function(){var n;return q(this,(function(i){switch(i.label){case 0:return e.isActive()?Y(e._introStartCallback)?[4,e._introStartCallback.call(e,t)]:[3,2]:[2,!1];case 1:i.sent(),i.label=2;case 2:return 0===(n=De(e,t)).length?[2,!1]:(e._introItems=n,function(e,t){var n=this,i=fe("div",{className:"introjs-overlay"});se(i,{top:0,bottom:0,left:0,right:0,position:"fixed"}),t.appendChild(i),!0===e._options.exitOnOverlayClick&&(se(i,{cursor:"pointer"}),i.onclick=function(){return W(n,void 0,void 0,(function(){return q(this,(function(n){switch(n.label){case 0:return[4,Ue(e,t)];case 1:return n.sent(),[2]}}))}))})}(e,t),[4,xe(e)]);case 3:i.sent(),t.addEventListener,e._options.keyboardNavigation&&$.on(window,"keydown",Ce,e,!0),$.on(window,"resize",Fe,e,!0),i.label=4;case 4:return[2,!1]}}))}))}function We(e,t,n){return e[t]=n,e}var qe=function(){function e(e){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=e,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"\xd7",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return e.prototype.isActive=function(){return(!this._options.dontShowAgain||""===(e=V(this._options.dontShowAgainCookie))||"true"!==e)&&this._options.isActive;var e},e.prototype.clone=function(){return new e(this._targetElement)},e.prototype.setOption=function(e,t){return this._options=We(this._options,e,t),this},e.prototype.setOptions=function(e){return this._options=function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var r=i[n];e=We(e,r[0],r[1])}return e}(this._options,e),this},e.prototype.start=function(){return W(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,Ge(this,this._targetElement)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.goToStep=function(e){return W(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,be(this,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.addStep=function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},e.prototype.addSteps=function(e){if(!e.length)return this;for(var t=0;t<e.length;t++)this.addStep(e[t]);return this},e.prototype.goToStepNumber=function(e){return W(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,we(this,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.nextStep=function(){return W(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,xe(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.previousStep=function(){return W(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,ke(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.currentStep=function(){return this._currentStep},e.prototype.exit=function(e){return W(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,Ue(this,this._targetElement,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.refresh=function(e){return Oe(this,e),this},e.prototype.setDontShowAgain=function(e){return function(e,t){t?Z(e._options.dontShowAgainCookie,"true",e._options.dontShowAgainCookieDays):Z(e._options.dontShowAgainCookie,"",-1)}(this,e),this},e.prototype.onbeforechange=function(e){if(!Y(e))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},e.prototype.onchange=function(e){if(!Y(e))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},e.prototype.onafterchange=function(e){if(!Y(e))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},e.prototype.oncomplete=function(e){if(!Y(e))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},e.prototype.onhintsadded=function(e){if(!Y(e))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},e.prototype.onhintclick=function(e){if(!Y(e))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},e.prototype.onhintclose=function(e){if(!Y(e))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},e.prototype.onstart=function(e){if(!Y(e))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=e,this},e.prototype.onexit=function(e){if(!Y(e))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},e.prototype.onskip=function(e){if(!Y(e))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},e.prototype.onbeforeexit=function(e){if(!Y(e))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},e.prototype.addHints=function(){return W(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,Be(this,this._targetElement)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.hideHint=function(e){return W(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,je(this,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.hideHints=function(){return W(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,Te(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.showHint=function(e){return Pe(e),this},e.prototype.showHints=function(){return W(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,Ee(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.removeHints=function(){return function(e){for(var t=0,n=Ie(".introjs-hint");t<n.length;t++){var i=n[t].getAttribute("data-step");i&&Ne(parseInt(i,10))}$.off(document,"click",ze,e,!1),$.off(window,"resize",Re,e,!0),e._hintsAutoRefreshFunction&&$.off(window,"scroll",e._hintsAutoRefreshFunction,e,!0)}(this),this},e.prototype.removeHint=function(e){return Ne(e),this},e.prototype.showHintDialog=function(e){return W(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,Ae(this,e)];case 1:return t.sent(),[2,this]}}))}))},e}(),Ze=function e(t){var n;if("object"===G(t))n=new qe(t);else if("string"==typeof t){var i=document.querySelector(t);if(!i)throw new Error("There is no element with given selector.");n=new qe(i)}else n=new qe(document.body);return e.instances[K(n,"introjs-instance")]=n,n};Ze.version="7.2.0",Ze.instances={};var Ve=n(6885);const Je=i.oneOf(["top","right","bottom","left","bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned","top-left-aligned","top-middle-aligned","top-right-aligned","auto"]),Ke=i.oneOf(["top-middle","top-left","top-right","bottom-left","bottom-right","bottom-middle","middle-left","middle-right","middle-middle"]),$e=i.shape({nextLabel:i.string,prevLabel:i.string,skipLabel:i.string,doneLabel:i.string,hidePrev:i.bool,hideNext:i.bool,tooltipPosition:Je,tooltipClass:i.string,highlightClass:i.string,exitOnEsc:i.bool,exitOnOverlayClick:i.bool,showStepNumbers:i.bool,keyboardNavigation:i.bool,showButtons:i.bool,showBullets:i.bool,showProgress:i.bool,scrollToElement:i.bool,overlayOpacity:i.number,scrollPadding:i.number,positionPrecedence:i.arrayOf(i.string),disableInteraction:i.bool,hintPosition:Ke,hintButtonLabel:i.string,hintAnimation:i.bool}),Ye={hidePrev:!0,hideNext:!0};function Qe(){return"undefined"===typeof window}class Xe extends e.Component{constructor(e){super(e),(0,U.A)(this,"onExit",(()=>{const{onExit:e}=this.props;this.isVisible=!1,e(this.introJs._currentStep)})),(0,U.A)(this,"onBeforeExit",(()=>{const{onBeforeExit:e}=this.props;return!e||e(this.introJs._currentStep)})),(0,U.A)(this,"onBeforeChange",(e=>{if(!this.isVisible)return!0;const{onBeforeChange:t,onPreventChange:n}=this.props;if(t){const i=t(this.introJs._currentStep,e);return!1===i&&n&&setTimeout((()=>{n(this.introJs._currentStep)}),0),i}return!0})),(0,U.A)(this,"onAfterChange",(e=>{if(!this.isVisible)return;const{onAfterChange:t}=this.props;t&&t(this.introJs._currentStep,e)})),(0,U.A)(this,"onChange",(e=>{if(!this.isVisible)return;const{onChange:t}=this.props;t&&t(this.introJs._currentStep,e)})),(0,U.A)(this,"onComplete",(()=>{const{onComplete:e}=this.props;e&&e()})),(0,U.A)(this,"updateStepElement",(e=>{const t=document.querySelector(this.introJs._options.steps[e].element);t&&(this.introJs._introItems[e].element=t,this.introJs._introItems[e].position=this.introJs._options.steps[e].position||"auto")})),this.introJs=null,this.isConfigured=!1,this.isVisible=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderSteps())}componentDidUpdate(e){const{enabled:t,steps:n,options:i}=this.props;this.isConfigured&&e.steps===n&&e.options===i||(this.configureIntroJs(),this.renderSteps()),e.enabled!==t&&this.renderSteps()}componentWillUnmount(){this.introJs.exit()}installIntroJs(){Qe()||(this.introJs=Ze(),this.introJs.onexit(this.onExit),this.introJs.onbeforeexit(this.onBeforeExit),this.introJs.onbeforechange(this.onBeforeChange),this.introJs.onafterchange(this.onAfterChange),this.introJs.onchange(this.onChange),this.introJs.oncomplete(this.onComplete))}configureIntroJs(){const{options:t,steps:n}=this.props,i=n.map((t=>(0,e.isValidElement)(t.intro)?(0,H.A)((0,H.A)({},t),{},{intro:(0,Ve.qV)(t.intro)}):t));this.introJs.setOptions((0,H.A)((0,H.A)({},t),{},{steps:i})),this.isConfigured=!0}renderSteps(){const{enabled:e,initialStep:t,steps:n,onStart:i}=this.props;e&&n.length>0&&!this.isVisible?(this.introJs.start(),this.isVisible=!0,this.introJs.goToStepNumber(t+1),i&&i(this.introJs._currentStep)):!e&&this.isVisible&&(this.isVisible=!1,this.introJs.exit())}render(){return null}}(0,U.A)(Xe,"propTypes",{enabled:i.bool,initialStep:i.number.isRequired,steps:i.arrayOf(i.shape({element:i.oneOfType([i.string,"undefined"===typeof Element?i.any:i.instanceOf(Element)]),intro:i.node.isRequired,position:Je,tooltipClass:i.string,highlightClass:i.string})).isRequired,onStart:i.func,onExit:i.func.isRequired,onBeforeExit:i.func,onBeforeChange:i.func,onAfterChange:i.func,onChange:i.func,onPreventChange:i.func,onComplete:i.func,options:$e}),(0,U.A)(Xe,"defaultProps",{enabled:!1,onStart:null,onBeforeExit:null,onBeforeChange:null,onAfterChange:null,onChange:null,onPreventChange:null,onComplete:null,options:Ye});class et extends e.Component{constructor(e){super(e),this.introJs=null,this.isConfigured=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderHints())}componentDidUpdate(e){const{enabled:t,hints:n,options:i}=this.props;this.isConfigured&&e.hints===n&&e.options===i||(this.configureIntroJs(),this.renderHints()),e.enabled!==t&&this.renderHints()}componentWillUnmount(){this.introJs.hideHints()}installIntroJs(){if(Qe())return;this.introJs=Ze();const{onClick:e,onClose:t}=this.props;e&&this.introJs.onhintclick(e),t&&this.introJs.onhintclose(t)}configureIntroJs(){const{options:e,hints:t}=this.props;this.introJs.removeHints(),this.introJs.setOptions((0,H.A)((0,H.A)({},e),{},{hints:t})),this.isConfigured=!0}renderHints(){const{enabled:e,hints:t}=this.props;e&&t.length>0?this.introJs.showHints():e||this.introJs.hideHints()}render(){return null}}(0,U.A)(et,"propTypes",{enabled:i.bool,hints:i.arrayOf(i.shape({element:i.string.isRequired,hint:i.string.isRequired,hintPosition:Ke})).isRequired,onClick:i.func,onClose:i.func,options:$e}),(0,U.A)(et,"defaultProps",{enabled:!1,onClick:null,onClose:null,options:Ye});var tt=n(579);const nt=t=>{let{isOpen:n,onClose:i,onTabChange:r,currentTab:a,bookMetadata:o}=t;(0,e.useEffect)((()=>{}),[n,a,r]);const s=[{element:"header",intro:(null===o||void 0===o?void 0:o.tourWelcome)||"Welcome to the Interactive Reading Companion! This app helps you explore the world of the book.",position:"bottom"},{element:".react-tabs__tab-list",intro:"These tabs let you navigate through different aspects of the novel.",position:"bottom"},{element:".tablist-right-cta",intro:"Use this Up To control to set the latest chapter you've read. The entire app will limit content to avoid spoilers.",position:"bottom"},{element:".react-tabs__tab:nth-child(1)",intro:"Explore detailed profiles of all characters in the novel, including their backgrounds, traits, and relationships.",position:"bottom"},{element:".react-tabs__tab:nth-child(2)",intro:"Visualize the complex connections between characters with this interactive network diagram.",position:"bottom"},{element:".react-tabs__tab:nth-child(3)",intro:"Follow the chronological events of the story from beginning to end.",position:"bottom"},{element:".react-tabs__tab:nth-child(4)",intro:"Discover key locations where the story takes place and their significance.",position:"bottom"},{element:".react-tabs__tab:nth-child(5)",intro:"Explore the geographic setting of the novel with this detailed map showing locations, character movements, and event sites.",position:"bottom"},{element:".react-tabs__tab:nth-child(6)",intro:"Understand the structure of the plot and explore key themes and mystery elements.",position:"bottom"},{element:".react-tabs__tab:nth-child(7)",intro:"Browse important items and artifacts that play a role in the story.",position:"bottom"},{element:".react-tabs__tab:nth-child(8)",intro:"Learn about spy techniques and tradecraft mentioned in the novel.",position:"bottom"},{element:".current-selections",intro:"This panel shows your currently selected items for quick cross-reference. Click any item to jump to its detailed view.",position:"top"},{element:"footer",intro:(null===o||void 0===o?void 0:o.tourConclusion)||"You're now ready to explore the world of the book! Click any tab to begin your adventure.",position:"top"}];return(0,tt.jsx)(Xe,{enabled:n,steps:s,initialStep:0,onExit:i,onBeforeChange:e=>{const t=s.findIndex((e=>String(e.element).includes(".react-tabs__tab:nth-child(1)")));if(-1!==t){if(e>=t&&e<=t+7){const n=e-t;a!==n&&r(n)}}},options:{doneLabel:"Finish",showStepNumbers:!0,showBullets:!0,showProgress:!0,scrollToElement:!0,highlightClass:"intro-highlight",tooltipClass:"customTooltip",disableInteraction:!1,overlayOpacity:.3}})},it=e=>{let{darkMode:t,toggleDarkMode:n}=e;return(0,tt.jsxs)("div",{className:"dark-mode-toggle flex items-center cursor-pointer select-none",onClick:n,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n())},"aria-label":"Switch to ".concat(t?"light":"dark"," mode"),children:[(0,tt.jsx)("span",{className:"mr-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:t?"Dark":"Light"}),(0,tt.jsx)("div",{className:"toggle-track relative",children:(0,tt.jsx)("div",{className:"toggle-thumb absolute transition-all duration-300 ease-in-out ".concat(t?"left-7":"left-0.5"),children:(0,tt.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-xs",children:t?"\ud83c\udf19":"\u2600\ufe0f"})})})]})},rt=t=>{let{onCharacterSelect:n,selectedCharacter:i,charactersData:r,relationshipsData:a,groupStyles:o={}}=t;const[s,l]=(0,e.useState)(""),[c,d]=(0,e.useState)("all"),[u,h]=(0,e.useState)("name"),p=r.filter((e=>{const t=e.name.toLowerCase().includes(s.toLowerCase())||e.role&&e.role.toLowerCase().includes(s.toLowerCase()),n="all"===c||e.group===c;return t&&n})).sort(((e,t)=>{if("name"===u)return e.name.localeCompare(t.name);if("importance"===u){var n,i,r,a;const o=((null===(n=e.relations)||void 0===n?void 0:n.length)||0)+((null===(i=e.development)||void 0===i?void 0:i.length)||0);return((null===(r=t.relations)||void 0===r?void 0:r.length)||0)+((null===(a=t.development)||void 0===a?void 0:a.length)||0)-o}return 0}));return(0,tt.jsx)("div",{className:"character-explorer",children:(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,tt.jsxs)("div",{className:"md:col-span-1 h-screen overflow-y-auto pr-4",children:[(0,tt.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"Character List"}),(0,tt.jsx)("div",{className:"mb-4",children:(0,tt.jsx)("input",{type:"text",placeholder:"Search characters...",className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:s,onChange:e=>l(e.target.value)})}),(0,tt.jsxs)("div",{className:"mb-4 flex space-x-2",children:[(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded transition-colors ".concat("all"===c?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>d("all"),children:"All"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded transition-colors ".concat("Protagonists"===c?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>d("Protagonists"),children:"Protagonists"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded transition-colors ".concat("Fifth Columnists"===c?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>d("Fifth Columnists"),children:"Fifth Columnists"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded transition-colors ".concat("German Connection"===c?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>d("German Connection"),children:"German Connection"})]}),(0,tt.jsxs)("div",{className:"mb-4",children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort by"}),(0,tt.jsxs)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:u,onChange:e=>h(e.target.value),children:[(0,tt.jsx)("option",{value:"name",children:"Name"}),(0,tt.jsx)("option",{value:"importance",children:"Importance"})]})]}),(0,tt.jsx)("div",{className:"space-y-2",children:p.map((e=>(0,tt.jsxs)("div",{className:"p-3 border rounded cursor-pointer transition-colors ".concat((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 dark:bg-blue-900 border-blue-300 dark:border-blue-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>n(e),children:[(0,tt.jsx)("h3",{className:"font-bold text-gray-900 dark:text-gray-100",children:e.name}),(0,tt.jsxs)("div",{className:"flex flex-wrap mt-1 gap-1",children:[(0,tt.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(o[e.group]||"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:e.group}),e.title&&(0,tt.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:e.title})]}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 truncate",children:e.role||"Unknown role"})]},e.id)))})]}),(0,tt.jsx)("div",{className:"md:col-span-2",children:i?(0,tt.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[(0,tt.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.name}),i.title&&(0,tt.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:i.title}),(0,tt.jsx)("span",{className:"inline-block mt-2 px-3 py-1 rounded text-sm ".concat(o[i.group]||"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:i.group})]})}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Basic Information"}),(0,tt.jsxs)("div",{className:"space-y-2",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Role:"}),(0,tt.jsx)("span",{className:"ml-2 text-gray-900 dark:text-gray-100",children:i.role||"Unknown"})]}),i.description&&(0,tt.jsxs)("div",{children:[(0,tt.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Description:"}),(0,tt.jsx)("p",{className:"mt-1 text-gray-900 dark:text-gray-100",children:i.description})]}),i.development&&i.development.length>0&&(0,tt.jsxs)("div",{children:[(0,tt.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Character Development:"}),(0,tt.jsx)("ul",{className:"mt-1 list-disc list-inside text-gray-900 dark:text-gray-100",children:i.development.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]})]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Relationships"}),(()=>{const e=(e=>{var t;return[...(null===(t=r.find((t=>t.id===e)))||void 0===t?void 0:t.relations)||[],...a.filter((t=>t.from===e)).map((e=>({characterId:e.to,type:e.type}))),...a.filter((t=>t.to===e)).map((e=>({characterId:e.from,type:e.type})))].filter(((e,t,n)=>t===n.findIndex((t=>t.characterId===e.characterId))))})(i.id);return 0===e.length?(0,tt.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No relationships found."}):(0,tt.jsx)("div",{className:"space-y-2",children:e.map(((e,t)=>{const n=r.find((t=>t.id===e.characterId));return n?(0,tt.jsxs)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded",children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:n.name}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.type})]},t):null}))})})()]})]})]}):(0,tt.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:(0,tt.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:(0,tt.jsx)("p",{className:"text-lg",children:"Select a character to view details"})})})})]})})},at=t=>{let{isOpen:n,onClose:i,title:r="Page Tutorial",steps:a=[],darkMode:o=!1}=t;const[s,l]=(0,e.useState)(0),[c,d]=(0,e.useState)({top:-500,left:0}),[u,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)({x:0,y:0});if((0,e.useEffect)((()=>{if(n){l(0);try{var e,t;const n=16,i=300,r=655,a=(null===(e=window)||void 0===e?void 0:e.innerHeight)||800,o=(null===(t=window)||void 0===t?void 0:t.innerWidth)||1200,s=Math.max(n,a-i-n),l=Math.max(n,o-r-n);d({top:s,left:l})}catch(i){d({top:40,left:40})}}}),[n]),(0,e.useEffect)((()=>{const e=e=>{u&&d((t=>{const n=Math.max(8,Math.min(window.innerWidth-8-560,e.clientX-p.x));return{top:Math.max(8,Math.min(window.innerHeight-8-250,e.clientY-p.y)),left:n}}))},t=()=>h(!1);return u&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[u,p.x,p.y]),!n)return null;const m=0===s,g=s===a.length-1;return(0,tt.jsx)("div",{className:"fixed inset-0 z-50 pointer-events-none",role:"dialog","aria-modal":"false","aria-label":r,children:(0,tt.jsxs)("div",{className:"pointer-events-auto max-w-2xl w-[min(90vw,640px)] rounded-lg shadow-xl border ".concat(o?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-200 text-gray-900"),style:{position:"fixed",top:c.top,left:c.left},children:[(0,tt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800 cursor-move select-none",onMouseDown:e=>{const t=e.currentTarget.parentElement.getBoundingClientRect();h(!0),f({x:e.clientX-t.left,y:e.clientY-t.top})},children:[(0,tt.jsx)("h2",{className:"text-lg font-semibold truncate pr-2",children:r}),(0,tt.jsx)("button",{className:"px-2 py-1 rounded ".concat(o?"hover:bg-gray-800":"hover:bg-gray-100"),onClick:i,"aria-label":"Close tutorial",children:"\u2715"})]}),(0,tt.jsxs)("div",{className:"p-4",children:[(0,tt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,tt.jsxs)("div",{className:"text-sm opacity-70",children:["Step ",s+1," of ",a.length]}),(0,tt.jsx)("div",{className:"flex gap-1",children:a.map(((e,t)=>(0,tt.jsx)("span",{className:"inline-block w-2 h-2 rounded-full ".concat(t===s?"bg-blue-500":o?"bg-gray-700":"bg-gray-300")},t)))})]}),(0,tt.jsx)("div",{className:"space-y-2",children:Array.isArray(a[s])?(0,tt.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:a[s].map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))}):(0,tt.jsx)("p",{className:"leading-relaxed whitespace-pre-line",children:a[s]})})]}),(0,tt.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-800",children:[(0,tt.jsx)("button",{className:"px-3 py-2 rounded text-sm ".concat(m?"opacity-50 cursor-not-allowed":""," ").concat(o?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-gray-100 text-gray-800 hover:bg-gray-200"),onClick:()=>{m||l(s-1)},disabled:m,children:"Previous"}),(0,tt.jsxs)("div",{className:"flex gap-2",children:[(0,tt.jsx)("button",{className:"px-3 py-2 rounded text-sm ".concat(o?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-gray-100 text-gray-800 hover:bg-gray-200"),onClick:i,children:"Skip"}),(0,tt.jsx)("button",{className:"px-4 py-2 rounded text-sm bg-blue-600 text-white hover:bg-blue-700",onClick:()=>{g?i():l(s+1)},children:g?"Finish":"Next"})]})]})]})})},ot=t=>{let{onCharacterSelect:n,selectedCharacter:i,charactersData:r,relationshipsData:a=[],eventsData:o=[],chaptersData:s=[],darkMode:l=!1,groupColors:c={},importanceConfig:d={},relationshipCategoryColors:u={},currentBookKey:h,chapterFilterId:p,onChapterFilterChange:f}=t;const[m,g]=(0,e.useState)([]),[y,v]=(0,e.useState)([]),[_,b]=(0,e.useState)((()=>r&&r.length>0?r[0].id:null)),[w,x]=(0,e.useState)(null),[k,C]=(0,e.useState)(1),[S,I]=(0,e.useState)({x:0,y:0}),[j,T]=(0,e.useState)(!1),[E,P]=(0,e.useState)({x:0,y:0}),[N,L]=(0,e.useState)(null),[M,A]=(0,e.useState)(!1),[z,B]=(0,e.useState)(100),[R,D]=(0,e.useState)(1e5),[O,F]=(0,e.useState)(!1),[U,G]=(0,e.useState)(null),[W,q]=(0,e.useState)("none"),Z="pin"===W,V="remove"===W,[J,K]=(0,e.useState)(new Set),[$,Y]=(0,e.useState)(new Set),[Q,X]=(0,e.useState)(!1),ee=(0,e.useRef)(h),[te,ne]=(0,e.useState)(!1),[ie,re]=(0,e.useState)(!1),[ae,oe]=(0,e.useState)(!1),[se,le]=(0,e.useState)(!1),[ce,de]=(0,e.useState)(!1),ue=(0,e.useRef)(null),he=(0,e.useRef)(null),pe=(0,e.useRef)(null),fe=(0,e.useRef)(!1),me=(0,e.useRef)({x:0,y:0}),ge=(0,e.useRef)(!1),ye=(0,e.useRef)(new Map),ve=(0,e.useRef)(!1),_e=(0,e.useRef)(m);(0,e.useLayoutEffect)((()=>{_e.current=m}),[m]);const be=(0,e.useRef)(new Map),we=(0,e.useRef)(!1),xe=(0,e.useRef)(null),ke=(0,e.useRef)(new Map),Ce=(0,e.useRef)(null),[Se,Ie]=(0,e.useState)(0),[je,Te]=(0,e.useState)(!1),[Ee,Pe]=(0,e.useState)([]),Ne=(0,e.useRef)({frames:0,lastReport:0,lastFps:0}),Le=(0,e.useRef)(z),Me=(0,e.useRef)(R),Ae=(0,e.useRef)(y),ze=(0,e.useRef)(J),Be=(0,e.useRef)($);(0,e.useEffect)((()=>{"undefined"!==typeof performance&&(Ne.current.lastReport=performance.now(),Ne.current.frames=0,Ne.current.lastFps=0)}),[]),(0,e.useEffect)((()=>{Le.current=z}),[z]),(0,e.useEffect)((()=>{Me.current=R}),[R]),(0,e.useEffect)((()=>{Ae.current=y}),[y]),(0,e.useEffect)((()=>{ze.current=J}),[J]),(0,e.useEffect)((()=>{Be.current=$}),[$]),(0,e.useEffect)((()=>{const e=e=>{"F10"===e.key&&(e.preventDefault(),Te((e=>!e)))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]);const Re=(0,e.useCallback)((e=>{var t,n,i,r,s,l,c,u,h,p,f,m,g,y,v,_,b,w;let x=0;const k={keyScenesPer:null!==(t=null===(n=d.keyScenes)||void 0===n?void 0:n.perItem)&&void 0!==t?t:6,keyScenesMax:null!==(i=null===(r=d.keyScenes)||void 0===r?void 0:r.max)&&void 0!==i?i:30,eventPer:null!==(s=null===(l=d.eventParticipation)||void 0===l?void 0:l.perItem)&&void 0!==s?s:2.5,eventMax:null!==(c=null===(u=d.eventParticipation)||void 0===u?void 0:u.max)&&void 0!==c?c:25,relationshipsPer:null!==(h=null===(p=d.relationships)||void 0===p?void 0:p.perItem)&&void 0!==h?h:2,relationshipsMax:null!==(f=null===(m=d.relationships)||void 0===m?void 0:m.max)&&void 0!==f?f:20,developmentPer:null!==(g=null===(y=d.development)||void 0===y?void 0:y.perItem)&&void 0!==g?g:2.5,developmentMax:null!==(v=null===(_=d.development)||void 0===_?void 0:_.max)&&void 0!==v?v:10,defaultGroupBonus:null!==(b=d.defaultGroupBonus)&&void 0!==b?b:3},C=d.groupBonuses||{Protagonists:15,"Fifth Columnists":12,Military:10,"Historical Figures":10,"German Connection":8,"Supporting Characters":5};e.key_scenes&&(x+=Math.min(e.key_scenes.length*k.keyScenesPer,k.keyScenesMax));const S=(o||[]).filter((t=>(t.characters||[]).some((t=>t.characterId===e.id)))).length;x+=Math.min(S*k.eventPer,k.eventMax);const I=a.filter((t=>t.from===e.id||t.to===e.id)).length;return x+=Math.min(I*k.relationshipsPer,k.relationshipsMax),x+=null!==(w=C[e.group])&&void 0!==w?w:k.defaultGroupBonus,e.development&&(x+=Math.min(e.development.length*k.developmentPer,k.developmentMax)),Math.max(1,Math.min(100,Math.round(x)))}),[a,o,d]),De=(0,e.useCallback)(((e,t)=>{if(0===e.length)return[];const n=new Map;e.forEach((e=>{n.set(e.id,new Set)})),t.forEach((e=>{n.has(e.from)&&n.has(e.to)&&(n.get(e.from).add(e.to),n.get(e.to).add(e.from))}));const i=new Set,r=[],a=(e,t)=>{i.add(e),t.push(e);(n.get(e)||new Set).forEach((e=>{i.has(e)||a(e,t)}))};if(e.forEach((e=>{if(!i.has(e.id)){const t=[];a(e.id,t),r.push(t)}})),0===r.length)return[];return r.reduce(((e,t)=>t.length>e.length?t:e))}),[]),Oe=(0,e.useCallback)(((e,t)=>{if(!e||0===e.length)return[];const n=new Map;e.forEach((e=>{n.set(e.id,new Set)})),t.forEach((e=>{n.has(e.from)&&n.has(e.to)&&(n.get(e.from).add(e.to),n.get(e.to).add(e.from))}));const i=new Set,r=[],a=(e,t)=>{i.add(e),t.push(e);(n.get(e)||new Set).forEach((e=>{i.has(e)||a(e,t)}))};return e.forEach((e=>{if(!i.has(e.id)){const t=[];a(e.id,t),r.push(t)}})),r}),[]),Fe=(0,e.useCallback)((e=>a.filter((t=>t.from===e||t.to===e)).length),[a]),He=(0,e.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=c[e]||"#000000";if(0===t)return n;const i=n.replace("#",""),r=parseInt(i.substr(0,2),16),a=parseInt(i.substr(2,2),16),o=parseInt(i.substr(4,2),16),s=Math.min(1.5,1+t/10*.5),l=Math.min(255,Math.round(r*s)),d=Math.min(255,Math.round(a*s)),u=Math.min(255,Math.round(o*s));return"#".concat(l.toString(16).padStart(2,"0")).concat(d.toString(16).padStart(2,"0")).concat(u.toString(16).padStart(2,"0"))}),[c]),Ue=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"#ffffff":"#000000"},Ge=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return"#ffffff";const t=e.replace("#","");return(.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16))/255>.5?"#000000":"#ffffff"},We=(0,e.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const n="".concat(e,"-").concat(t);if(ye.current.has(n))return ye.current.get(n);if("undefined"!==typeof document&&document.createElement)try{const i=document.createElement("canvas").getContext("2d");i.font="".concat(t,"px Arial");const r=i.measureText(e).width;return ye.current.set(n,r),r}catch(a){console.warn("Canvas text measurement failed, using estimation:",a)}const i=.6*t,r=e.length*i;return ye.current.set(n,r),r}),[]),qe=(0,e.useCallback)((function(e){const t=10+e/100*50;return Math.max(t,15)}),[]);(0,e.useEffect)((()=>{g((e=>e.map((e=>(0,H.A)((0,H.A)({},e),{},{animatedSize:null!=e.animatedSize?e.animatedSize:null!=e.size?e.size:30})))))}),[m.length]);const Ze=(0,e.useCallback)((e=>{if(!we.current)return void(Ce.current=null);const t=xe.current;xe.current=e;const n=Math.min(.05,t?(e-t)/1e3:.016),i=be.current;let r=!1;const a=_e.current.map((e=>{const t=null!=e.size?e.size:30,a=null!=e.animatedSize?e.animatedSize:t;let o=i.get(e.id)||0;o+=(-260*(a-t)-14*o)*n;let s=a+o*n;return Math.abs(s-t)<.1&&Math.abs(o)<.1?(s=t,o=0):r=!0,i.set(e.id,o),s!==e.animatedSize?(0,H.A)((0,H.A)({},e),{},{animatedSize:s}):e}));r?(g(a),Ce.current=window.requestAnimationFrame(Ze)):(we.current=!1,Ce.current=null)}),[g]),Ve=(0,e.useCallback)((()=>{we.current=!0,xe.current=null,Ce.current||(Ce.current=window.requestAnimationFrame(Ze))}),[Ze]),Je=(0,e.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return e?"#ffffff":"#000000";const n=a.filter((e=>e.from===t||e.to===t)),i=new Set;n.forEach((e=>{i.add(e.from),i.add(e.to)}));return Array.from(i).some((e=>e!==t&&!m.some((t=>t.id===e))))?e?"#ffffff":"#000000":e?"#000000":"#ffffff"}),[a,m]),Ke=(0,e.useCallback)((e=>{const t=(e||"").toLowerCase();return t.includes("spouse")?"Spouse":t.includes("handler")||t.includes("asset")?"Handler/Asset":t.includes("conspirator")||t.includes("enemy")?"Conspirator/Enemy":t.includes("colleague")||t.includes("partner")?"Colleague/Partner":t.includes("superior")||t.includes("subordinate")?"Superior/Subordinate":t.includes("friend")?"Friend":t.includes("informant")||t.includes("double-agent")?"Informant/Double-Agent":t.includes("target")||t.includes("victim")?"Conspirator/Enemy":"Other"}),[]),$e=(0,e.useCallback)((e=>{const t=Ke(e),n=u[t];return n||"#718096"}),[u,Ke]),Ye=(0,e.useCallback)((e=>e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" - ")),[]);(0,e.useEffect)((()=>{L(p||null)}),[p]);const Qe=(0,e.useCallback)(((e,t)=>{if(!t)return e;const n=e=>e?s.findIndex((t=>t.id===e)):-1,i=n(t);if(-1===i)return e;const a=new Map((r||[]).map((e=>[e.id,n(e.introducedInChapter)])));return e.filter((e=>{let t=-1;if(e.introducedInChapter)t=n(e.introducedInChapter);else{var r,o;const n=[null!==(r=a.get(e.from))&&void 0!==r?r:-1,null!==(o=a.get(e.to))&&void 0!==o?o:-1].filter((e=>-1!==e));t=n.length>0?Math.min(...n):-1}return-1!==t&&t<=i}))}),[s,r]),Xe=(0,e.useCallback)(((e,t)=>{if(!t)return e;const n=s.findIndex((e=>e.id===t));return-1===n?e:e.filter((e=>{if(e.introducedInChapter){return s.findIndex((t=>t.id===e.introducedInChapter))<=n}return!0}))}),[s]),et=(0,e.useMemo)((()=>{const e=Qe(a,N)||[],t=new Map;return e.forEach((e=>{const n=e.category||Ke(e.type);t.has(n)||t.set(n,$e(e.category||e.type))})),0===t.size?[]:Array.from(t,(e=>{let[t,n]=e;return{label:t,color:n}}))}),[a,N,Qe,$e,Ke]),nt=(0,e.useCallback)((()=>{const e=Xe(r,N),t=_?e.filter((e=>e.id===_||a.some((t=>t.from===_&&t.to===e.id||t.to===_&&t.from===e.id)))):e,n=t.find((e=>e.id===_)),i=t.filter((e=>e.id!==_)),o=[];if(n){const e=Fe(n.id),t=Re(n),i=ce?qe(t,!0):30;o.push({id:n.id,name:n.name,role:n.role,group:n.group,position:{x:400,y:300},color:He(n.group,e),relationshipCount:e,importance:t,size:i,isFocused:!0})}i.forEach(((e,t)=>{const n=Fe(e.id),r=Re(e),a=ce?qe(r,!1):30,s=i.length,l=2*t*Math.PI/s,c=400+200*Math.cos(l),d=300+200*Math.sin(l);o.push({id:e.id,name:e.name,role:e.role,group:e.group,position:{x:c,y:d},color:He(e.group,n),relationshipCount:n,importance:r,size:a,isFocused:!1})})),g(o)}),[r,a,_,N,Fe,He,Re,qe,ce,Xe]),it=(0,e.useCallback)((()=>{const e=Qe(a,N).filter((e=>{const t=m.some((t=>t.id===e.from)),n=m.some((t=>t.id===e.to));return t&&n})).map(((e,t)=>({id:"".concat(e.from,"-").concat(e.to,"-").concat(t),from:e.from,to:e.to,type:e.type,color:$e(e.type),label:Ye(e.type)})));if(y.length===e.length){let t=!0;for(let n=0;n<e.length;n++){const i=e[n],r=y[n];if(!r||i.id!==r.id||i.type!==r.type||i.label!==r.label){t=!1;break}}if(t)return}v(e)}),[a,N,m,y,Qe,$e,Ye]);(0,e.useEffect)((()=>{if(ve.current)ve.current=!1;else if(nt(),he.current){const e=he.current.clientWidth,t=he.current.clientHeight;I({x:e/2-400,y:t/2-300})}}),[_,nt]),(0,e.useEffect)((()=>{m.length>0?(it(),Ve()):v([])}),[m,it,Ve]),(0,e.useEffect)((()=>{g((e=>{if(!N)return e;if(-1===s.findIndex((e=>e.id===N)))return e;const t=Xe(r,N),n=new Set(t.map((e=>e.id)));return e.filter((e=>n.has(e.id)))}))}),[N,s,r,Xe]),(0,e.useEffect)((()=>{m.length>0&&(Ce.current&&(cancelAnimationFrame(Ce.current),Ce.current=null),we.current=!1,be.current.clear(),g((e=>e.map((e=>{const t=ce?qe(e.importance,e.isFocused):30,n=null!=e.animatedSize?e.animatedSize:null!=e.size?e.size:30;return(0,H.A)((0,H.A)({},e),{},{animatedSize:n,size:t})})))),"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame((()=>Ve())):Ve())}),[ce,qe,m.length,Ve]),(0,e.useEffect)((()=>{if(0===m.length)return;let e=!1;const t=ke.current;m.forEach((n=>{const i=null!=n.size?n.size:30,r=t.get(n.id);(null==r||Math.abs(r-i)>.25)&&(e=!0),t.set(n.id,i)})),e&&(Ce.current&&(cancelAnimationFrame(Ce.current),Ce.current=null),we.current=!1,be.current.clear(),Ve())}),[m,Ve]),(0,e.useEffect)((()=>{if(i&&i.id!==_){const e=Xe(r,N);new Set(e.map((e=>e.id))).has(i.id)&&(g([]),v([]),b(i.id))}}),[i,r,N,Xe,_]),(0,e.useEffect)((()=>{if(m.length>0)return;if(ve.current)return void(ve.current=!1);if(!r||0===r.length)return;const e=Xe(r,N);if(!(_&&e.some((e=>e.id===_)))&&!i){g([]),v([]);const t=e.length>0?e[0].id:null;b(t)}}),[r,N,Xe,_,i,m.length]);const rt=(0,e.useCallback)((()=>{M&&g((e=>{if(0===e.length)return e;const t=new Set([...Array.from(ze.current||new Set),...Array.from(Be.current||new Set)]),n={nodes:e.map((e=>(0,H.A)((0,H.A)({},e),{},{velocity:{x:0,y:0},force:{x:0,y:0}}))),edges:Ae.current,pinnedSet:t,repulsionForce:Me.current,springForce:Le.current,springLength:120,damping:.85,maxVelocity:40,step:function(){const e=this.nodes,t=e.length,n=this.pinnedSet,i=this.damping,r=this.maxVelocity,a=this.repulsionForce,o=this.springForce,s=this.springLength;for(let h=0;h<t;h++){const t=e[h];t.force.x=0,t.force.y=0}const l=new Array(t),c=new Map;for(let h=0;h<t;h++){const t=e[h];c.set(t.id,h),l[h]=n.has(t.id)}for(let h=0;h<t;h++){const n=e[h];for(let i=h+1;i<t;i++){const t=e[i],r=t.position.x-n.position.x,o=t.position.y-n.position.y,s=r*r+o*o;if(0===s)continue;const c=1/Math.sqrt(s),d=a/s,u=l[h],p=l[i];if(u||p)u&&!p?(t.force.x+=r*c*d,t.force.y+=o*c*d):!u&&p&&(n.force.x-=r*c*d,n.force.y-=o*c*d);else{const e=r*c*d,i=o*c*d;n.force.x-=e,n.force.y-=i,t.force.x+=e,t.force.y+=i}}}const d=this.edges;for(let h=0;h<d.length;h++){const t=d[h],n=c.get(t.from),i=c.get(t.to);if(void 0===n||void 0===i)continue;const r=e[n],a=e[i],u=a.position.x-r.position.x,p=a.position.y-r.position.y,f=Math.sqrt(u*u+p*p)||1,m=1/f,g=o/1e3*(f-s),y=l[n],v=l[i];if(y||v)y&&!v?(a.force.x-=u*m*g,a.force.y-=p*m*g):!y&&v&&(r.force.x+=u*m*g,r.force.y+=p*m*g);else{const e=u*m*g,t=p*m*g;r.force.x+=e,r.force.y+=t,a.force.x-=e,a.force.y-=t}}const u=r*r;for(let h=0;h<t;h++){const t=e[h],n=l[h];n?(t.velocity.x=0,t.velocity.y=0):(t.velocity.x+=t.force.x,t.velocity.y+=t.force.y),t.velocity.x*=i,t.velocity.y*=i;const a=t.velocity.x*t.velocity.x+t.velocity.y*t.velocity.y;if(a>u){const e=r/Math.sqrt(a);t.velocity.x*=e,t.velocity.y*=e}n||(t.position.x+=t.velocity.x,t.position.y+=t.velocity.y)}}};if(n.step(),"undefined"!==typeof performance){const e=performance.now(),t=Ne.current;t.frames+=1;const n=e-t.lastReport;if(n>=500){const i=Math.round(1e3*t.frames/n);t.frames=0,t.lastReport=e,Pe((e=>{const t=[...e,i];return t.length>60?t.slice(t.length-60):t})),i!==t.lastFps&&(t.lastFps=i,Ie(i))}}return M&&pe.current&&(pe.current=requestAnimationFrame(rt)),n.nodes}))}),[M]);(0,e.useEffect)((()=>{M?pe.current||(pe.current=requestAnimationFrame(rt)):pe.current&&(cancelAnimationFrame(pe.current),pe.current=null)}),[M,rt]),(0,e.useEffect)((()=>()=>{pe.current&&cancelAnimationFrame(pe.current),Ce.current&&cancelAnimationFrame(Ce.current)}),[]),(0,e.useEffect)((()=>{if(0===m.length)return void($.size>0&&Y(new Set));const e=Oe(m,y);if(e.length<=1)return void($.size>0&&Y(new Set));const t=new Map;m.forEach((e=>t.set(e.id,0))),y.forEach((e=>{t.has(e.from)&&t.set(e.from,(t.get(e.from)||0)+1),t.has(e.to)&&t.set(e.to,(t.get(e.to)||0)+1)}));const n=new Set;e.forEach((e=>{if(e.some((e=>J.has(e))))return;let i=null,r=-1/0;e.forEach((e=>{const n=m.find((t=>t.id===e));if(!n)return;const a=100*(t.get(e)||0)+(n.importance||0);a>r&&(r=a,i=e)})),i&&n.add(i)}));$.size===n.size&&Array.from($).every((e=>n.has(e)))||Y(n)}),[m,y,J,$,$.size,Oe]);const ot=(0,e.useCallback)((e=>{j&&j&&w&&g((t=>{const n=t.find((e=>e.id===w));if(!n)return t;let i=n.position.x,r=n.position.y;if(he.current){const t=he.current.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,o=(n-S.x)/k,s=(a-S.y)/k;i=o-E.x,r=s-E.y}return Math.sqrt(Math.pow(e.clientX-me.current.x,2)+Math.pow(e.clientY-me.current.y,2))>8&&(fe.current=!1),t.map((e=>e.id===w?(0,H.A)((0,H.A)({},e),{},{position:{x:i,y:r}}):e))}))}),[j,w,E,S,k]),st=(0,e.useCallback)((e=>{if(Z)return K((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})),void q("none");g(V?t=>{const n=t.filter((t=>t.id!==e)),i=De(n,y),r=n.filter((e=>i.includes(e.id)));return v((e=>{const t=new Set(r.map((e=>e.id)));return e.filter((e=>t.has(e.from)&&t.has(e.to)))})),q("none"),r}:t=>{const n=a.filter((t=>t.from===e||t.to===e)),i=new Set;n.forEach((e=>{i.add(e.from),i.add(e.to)}));const o=new Set(t.map((e=>e.id))),s=Xe(r,N).filter((e=>i.has(e.id)&&!o.has(e.id))),l=t.find((t=>t.id===e));if(!l)return t;const c=s.length>0?[...t,...s.map(((e,n)=>{const i=(()=>{let e=0;do{const i=2*n*Math.PI/s.length+.3*e,r=150+25*e,a=l.position.x+r*Math.cos(i),o=l.position.y+r*Math.sin(i);e++;if(!t.some((e=>{const t=e.position.x-a,n=e.position.y-o;return Math.sqrt(t*t+n*n)<120}))||e>15)break}while(e<=15);const i=2*n*Math.PI/s.length+.3*(e-1),r=150+25*(e-1);return{x:l.position.x+r*Math.cos(i),y:l.position.y+r*Math.sin(i)}})(),r=Fe(e.id),a=Re(e),o=ce?qe(a,!1):30;return{id:e.id,name:e.name,role:e.role,group:e.group,position:i,color:He(e.group,r),relationshipCount:r,importance:a,size:o,isFocused:!1}}))]:t;return v((e=>{const t=new Set(e.map((e=>e.id))),n=new Set(c.map((e=>e.id))),i=a.filter((e=>n.has(e.from)&&n.has(e.to))),r=Qe(i,N).filter((e=>{const n="".concat(e.from,"-").concat(e.to);return!Array.from(t).some((e=>e.startsWith(n)))})).map(((e,t)=>({id:"".concat(e.from,"-").concat(e.to,"-").concat(Date.now(),"-").concat(t),from:e.from,to:e.to,type:e.type,color:$e(e.type),label:Ye(e.type)})));return r.length>0?[...e,...r]:e})),c})}),[Z,V,y,a,r,N,De,Fe,He,Qe,Xe,$e,Ye,Re,qe,ce]),lt=(0,e.useCallback)(((e,t)=>{j&&(T(!1),x(null),ge.current&&(A(!0),ge.current=!1)),fe.current&&t&&st(t)}),[j,st]),ct=(0,e.useCallback)((e=>{if(!j||w)return;const t=e.clientX-E.x,n=e.clientY-E.y;I((e=>({x:e.x+t,y:e.y+n}))),P({x:e.clientX,y:e.clientY})}),[j,w,E]),dt=(0,e.useCallback)((e=>{const t=he.current.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,r=(n-S.x)/k,a=(i-S.y)/k,o=e.deltaY>0?.9:1.1,s=Math.min(Math.max(k*o,.5),2),l=n-r*s,c=i-a*s;C(s),I({x:l,y:c})}),[S,k]);(0,e.useEffect)((()=>{const e=he.current;if(!e)return;const t=e=>{e.preventDefault(),dt(e)};return e.addEventListener("wheel",t,{passive:!1}),()=>{try{e.removeEventListener("wheel",t,{passive:!1})}catch(n){}}}),[dt]);return(0,e.useEffect)((()=>{ee.current!==h&&(g([]),v([]),ve.current=!0,b(null),C(1),I({x:0,y:0}),A(!1),K(new Set),Y(new Set),G(null),q("none"),L(null),pe.current&&(cancelAnimationFrame(pe.current),pe.current=null),Ce.current&&(cancelAnimationFrame(Ce.current),Ce.current=null),we.current=!1,be.current.clear(),ee.current=h)}),[h,r]),(0,e.useEffect)((()=>{const e=e=>ot(e),t=e=>{w&&lt(e,w),j&&(T(!1),x(null),ge.current&&(A(!0),ge.current=!1))},n=e=>{if(he.current&&he.current.contains(e.target))return e.preventDefault(),e.stopPropagation(),!1};return j&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),document.addEventListener("wheel",n,{passive:!1}),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.removeEventListener("wheel",n)}}),[j,w,ot,lt]),(0,e.useEffect)((()=>{let e=0,t=0;const n=()=>{if(_&&m.length>0&&he.current){const n=he.current.clientWidth,i=he.current.clientHeight;if(0===e)return e=n,void(t=i);const r=n-e,a=i-t;I((e=>({x:e.x+r/2,y:e.y+a/2}))),e=n,t=i}};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[_,m.length]),(0,tt.jsxs)("div",{className:"relationship-web ".concat(O?"fixed inset-0 z-50 bg-white dark:bg-gray-900":""),children:[!O&&(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore character connections. Drag nodes to rearrange, select a character to focus, and choose a chapter to avoid spoilers."})}),(0,tt.jsxs)("div",{className:"".concat(O?"p-4":"mb-4"," grid grid-cols-1 md:[grid-template-columns:minmax(0,1fr)_auto] gap-4"),children:[(0,tt.jsxs)("div",{className:"min-w-0",children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Focus on Character"}),(0,tt.jsx)("select",{className:"w-full min-w-0 p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:_||"",onChange:e=>(e=>{if(e){const t=Xe(r,N);if(!new Set(t.map((e=>e.id))).has(e))return}if(_!==e&&(b(e),g([]),v([]),C(1),he.current)){const e=he.current.clientWidth,t=he.current.clientHeight;I({x:e/2-400,y:t/2-300})}})(e.target.value||null),children:Xe(r,N).map((e=>(0,tt.jsxs)("option",{value:e.id,children:[e.name," (",e.group,")"]},e.id)))})]}),(0,tt.jsxs)("div",{className:"flex flex-wrap gap-2 items-end md:w-max md:justify-self-start",children:[(0,tt.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex-shrink-0",onClick:()=>{const e=Xe(r,N),t=new Map(e.map((e=>[e.id,e]))),n=new Set(e.map((e=>e.id))),i=Qe(a,N).filter((e=>n.has(e.from)&&n.has(e.to))),o=new Map;i.forEach((e=>{o.has(e.from)||o.set(e.from,new Set),o.has(e.to)||o.set(e.to,new Set),o.get(e.from).add(e.to),o.get(e.to).add(e.from)}));let s=[...m],l=new Set(s.map((e=>e.id)));const c=function(e,n){var i;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=t.get(n);if(!a)return null;const s=Fe(n),l=Re(a),c=ce?qe(l,!1):30,d=2*r*Math.PI/Math.max(1,(null===(i=o.get(e.id))||void 0===i?void 0:i.size)||1),u=150+25*r,h=e.position.x+u*Math.cos(d),p=e.position.y+u*Math.sin(d);return{id:a.id,name:a.name,role:a.role,group:a.group,position:{x:h,y:p},color:He(a.group,s),relationshipCount:s,importance:l,size:c,isFocused:!1}};if(0===s.length){var d;const i=_&&n.has(_)?_:(null===(d=e[0])||void 0===d?void 0:d.id)||null;if(i){const e=t.get(i),n=Fe(i),r=Re(e),a=ce?qe(r,!0):30;s.push({id:e.id,name:e.name,role:e.role,group:e.group,position:{x:400,y:300},color:He(e.group,n),relationshipCount:n,importance:r,size:a,isFocused:!0}),l.add(i)}}let u=e.length+5;for(;u-- >0;){let e=!1;const t=[...s];for(let i=0;i<t.length;i++){const r=t[i],a=Array.from(o.get(r.id)||[]);let d=0;for(const t of a)if(!l.has(t)&&n.has(t)){const n=c(r,t,d);n&&(s.push(n),l.add(t),e=!0,d++)}}if(!e)break}const h=Array.from(n).filter((e=>!l.has(e)));if(h.length>0){const e=250;h.forEach(((n,i)=>{const r=t.get(n);if(!r)return;const a=Fe(n),o=Re(r),l=ce?qe(o,!1):30,c=2*i*Math.PI/h.length,d=400+e*Math.cos(c),u=300+e*Math.sin(c);s.push({id:r.id,name:r.name,role:r.role,group:r.group,position:{x:d,y:u},color:He(r.group,a),relationshipCount:a,importance:o,size:l,isFocused:!1})}))}g(s);const p=new Set(s.map((e=>e.id))),f=i.filter((e=>p.has(e.from)&&p.has(e.to))).map(((e,t)=>({id:"".concat(e.from,"-").concat(e.to,"-").concat(t),from:e.from,to:e.to,type:e.type,color:$e(e.type),label:Ye(e.type)})));v(f)},title:"Show all characters and relationships up to the selected chapter",children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"Show\nAll"})}),(0,tt.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex-shrink-0",onClick:()=>{C(1),I({x:0,y:0}),g([]),v([]),A(!1),setTimeout((()=>{if(nt(),he.current){const e=he.current.clientWidth,t=he.current.clientHeight;I({x:e/2-400,y:t/2-300})}}),0)},title:"Reset zoom, pan, and focus to defaults",children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"Reset\nView"})}),(0,tt.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex-shrink-0",onClick:()=>{if(0===m.length)return;const e=Math.min(...m.map((e=>e.position.x))),t=Math.max(...m.map((e=>e.position.x))),n=Math.min(...m.map((e=>e.position.y))),i=Math.max(...m.map((e=>e.position.y))),r=t-e+200,a=i-n+200,o=he.current.clientWidth,s=he.current.clientHeight,l=o/r,c=s/a,d=Math.min(l,c,2),u=o/2-(e+t)/2*d,h=s/2-(n+i)/2*d;C(d),I({x:u,y:h})},title:"Zoom and center so all visible nodes fit in view",children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"Fit to\nView"})}),(0,tt.jsx)("button",{className:"flex-shrink-0 px-4 py-2 text-white rounded transition-colors ".concat(M?"bg-green-500 hover:bg-green-600":"bg-gray-500 hover:bg-gray-600"),onClick:()=>A(!M),title:"Toggle automatic layout of nodes",children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"Auto\narrange"})}),(0,tt.jsx)("button",{className:"flex-shrink-0 px-4 py-2 text-white rounded transition-colors ".concat(Z?"bg-green-500 hover:bg-green-600":"bg-gray-500 hover:bg-gray-600"),onClick:()=>q((e=>"pin"===e?"none":"pin")),title:"Toggle pin mode (click nodes to pin/unpin)",children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"Pin\nMode"})}),(0,tt.jsx)("button",{className:"flex-shrink-0 px-4 py-2 text-white rounded transition-colors ".concat(V?"bg-green-500 hover:bg-green-600":"bg-gray-500 hover:bg-gray-600"),onClick:()=>q((e=>"remove"===e?"none":"remove")),title:"Toggle remove mode (click nodes to remove)",children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"Remove\nMode"})}),(0,tt.jsx)("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors flex-shrink-0",title:"Step-by-step tutorial for this page",onClick:()=>X(!0),children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"Page\nTutorial"})}),(0,tt.jsx)("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors flex-shrink-0",title:"How to use the Relationship Web",onClick:()=>{alert('How to use the Relationship Web:\n\n \u2022 Start by selecting a character to focus on their relationships\n \u2022 Choose a chapter to avoid spoilers\n \u2022 Drag characters to rearrange, or use "Auto Arrange" for automatic layout\n \u2022 Click on any character to view their details and add their relationships\n \u2022 Use mouse wheel to zoom, and drag the background to pan\n \u2022 Toggle "Remove Mode" to click and remove characters (only the largest connected component will be kept)\n \u2022 Use "Fit to View" to see all characters at once\n \u2022 Use the full screen button (\u2197) for maximum viewing area\n \u2022 Toggle "Size by Importance" to make important characters larger')},children:(0,tt.jsx)("span",{className:"whitespace-pre leading-tight text-center",children:"\u2139\ufe0f\nHelp"})})]})]}),(0,tt.jsxs)("div",{className:"flex gap-4",children:[(0,tt.jsx)("div",{className:"w-48 flex-shrink-0",children:(0,tt.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded bg-white dark:bg-gray-800 p-4 h-full",style:{height:O?"calc(100vh - 95px)":"840px"},children:[(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsxs)("div",{className:"space-y-3",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,tt.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Spring Force"}),(0,tt.jsx)("span",{className:"text-xs text-gray-500",children:z})]}),(0,tt.jsx)("input",{type:"range",min:"0",max:"200",step:"1",value:z,onChange:e=>B(parseInt(e.target.value)),className:"w-full"})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,tt.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Repulsion Force"}),(0,tt.jsx)("span",{className:"text-xs text-gray-500",children:R})]}),(0,tt.jsx)("input",{type:"range",min:"0",max:"500000",step:"100",value:R,onChange:e=>D(parseInt(e.target.value)),className:"w-full"})]})]})}),(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-m font-medium text-gray-700 dark:text-gray-300 mb-2",children:"View Options"}),(0,tt.jsxs)("div",{className:"space-y-2",children:[(0,tt.jsxs)("label",{className:"flex items-center",children:[(0,tt.jsx)("input",{type:"checkbox",checked:te,onChange:e=>ne(e.target.checked),className:"mr-2"}),(0,tt.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Description"})]}),(0,tt.jsxs)("label",{className:"flex items-center",children:[(0,tt.jsx)("input",{type:"checkbox",checked:ie,onChange:e=>re(e.target.checked),className:"mr-2"}),(0,tt.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Relationship"})]}),(0,tt.jsxs)("label",{className:"flex items-center",children:[(0,tt.jsx)("input",{type:"checkbox",checked:ae,onChange:e=>{oe(e.target.checked),e.target.checked&&le(!1)},className:"mr-2"}),(0,tt.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Relationship Count"})]}),(0,tt.jsxs)("label",{className:"flex items-center",children:[(0,tt.jsx)("input",{type:"checkbox",checked:se,onChange:e=>{le(e.target.checked),e.target.checked&&oe(!1)},className:"mr-2"}),(0,tt.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Importance Rating"})]}),(0,tt.jsxs)("label",{className:"flex items-center",children:[(0,tt.jsx)("input",{type:"checkbox",checked:ce,onChange:e=>{de(e.target.checked),m&&m.length>0&&(Ce.current&&(cancelAnimationFrame(Ce.current),Ce.current=null),we.current=!1,be.current.clear(),g((t=>t.map((t=>{const n=e.target.checked?qe(t.importance,t.isFocused):30,i=null!=t.animatedSize?t.animatedSize:null!=t.size?t.size:30;return(0,H.A)((0,H.A)({},t),{},{animatedSize:i,size:n})})))),"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame((()=>Ve())):Ve())},className:"mr-2"}),(0,tt.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Size is Importance"})]})]})]})}),(0,tt.jsxs)("div",{className:"mb-6",children:[(0,tt.jsx)("label",{className:"block text-m font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Character Groups"}),(0,tt.jsx)("div",{className:"space-y-2",children:Object.keys(c).map((e=>(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:He(e)}}),(0,tt.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 truncate",children:e})]},e)))})]}),et.length>0&&(0,tt.jsxs)("div",{className:"mb-6",children:[(0,tt.jsx)("label",{className:"block text-m font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Relationship Types"}),(0,tt.jsx)("div",{className:"space-y-2",children:et.map((e=>(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-3 h-3 mr-2 flex-shrink-0",style:{backgroundColor:e.color}}),(0,tt.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 truncate",children:e.label})]},e.label)))})]})]})}),(0,tt.jsx)("div",{className:"flex-1",children:(0,tt.jsxs)("div",{ref:he,className:"border border-gray-200 dark:border-gray-700 rounded overflow-hidden bg-white dark:bg-gray-800 relative ".concat(O?"flex-1":""),style:{height:O?"calc(100vh - 95px)":"840px"},onMouseDown:e=>{e.target===ue.current&&(T(!0),P({x:e.clientX,y:e.clientY}))},onMouseMove:ct,onMouseUp:()=>{w||T(!1)},children:[je&&(0,tt.jsxs)("div",{className:"absolute left-4 top-4 z-10 px-2 py-1 rounded text-xs font-mono flex items-center gap-2",style:{background:l?"rgba(0,0,0,0.6)":"rgba(255,255,255,0.8)",color:l?"#fff":"#111",border:l?"1px solid #444":"1px solid #ddd"},children:[(0,tt.jsx)("span",{style:{minWidth:16,textAlign:"right"},children:Se}),(0,tt.jsx)("svg",{width:"80",height:"40",viewBox:"0 0 80 20",children:(()=>{const e=Ee,t=Math.floor(40),n=e.slice(-t),i=80-2*n.length;return n.map(((e,t)=>{const n=Math.max(0,Math.min(60,e||0)),r=Math.max(1,Math.round(n/60*38)),a=i+2*t,o=30-r,s=l?"#777788":"#0ea5e9";return(0,tt.jsx)("rect",{x:a,y:o,width:2,height:r,fill:s},t)}))})()})]}),(0,tt.jsx)("button",{className:"absolute top-4 right-4 z-10 p-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>F(!O),title:O?"Exit Full Screen":"Enter Full Screen",children:O?(0,tt.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 330 330",fill:"currentColor",className:"text-gray-700 dark:text-gray-300",children:(0,tt.jsxs)("g",{children:[(0,tt.jsx)("path",{d:"M 134.897 30.362 C 126.613 30.362 119.897 37.078 119.897 45.362 L 119.897 99.147 L 25.505 4.755 C 19.648 -1.103 10.15 -1.103 4.292 4.755 C -1.566 10.613 -1.566 20.11 4.292 25.968 L 98.682 120.358 L 44.896 120.362 C 36.612 120.362 29.896 127.079 29.897 135.363 C 29.898 143.647 36.614 150.362 44.898 150.362 L 134.898 150.356 C 143.182 150.356 149.897 143.64 149.897 135.356 L 149.897 45.362 C 149.897 37.078 143.181 30.362 134.897 30.362 Z"}),(0,tt.jsx)("path",{d:"M 194.665 300.225 C 202.949 300.225 209.665 293.509 209.665 285.225 L 209.665 231.44 L 304.057 325.832 C 306.986 328.761 310.825 330.226 314.663 330.226 C 318.502 330.226 322.341 328.762 325.27 325.832 C 331.128 319.974 331.128 310.477 325.27 304.619 L 230.88 210.229 L 284.666 210.225 C 292.95 210.225 299.666 203.508 299.665 195.224 C 299.664 186.94 292.948 180.225 284.664 180.225 L 194.664 180.231 C 186.38 180.231 179.665 186.947 179.665 195.231 L 179.665 285.225 C 179.665 293.509 186.381 300.225 194.665 300.225 Z"}),(0,tt.jsx)("path",{d:"M 303.77 3.972 L 209.38 98.362 L 209.376 44.576 C 209.376 36.292 202.659 29.577 194.375 29.577 C 186.091 29.577 179.376 36.294 179.376 44.578 L 179.382 134.578 C 179.382 142.862 186.098 149.577 194.382 149.577 L 284.376 149.577 C 292.66 149.577 299.376 142.861 299.376 134.577 C 299.376 126.293 292.66 119.577 284.376 119.577 L 230.591 119.577 L 324.983 25.185 C 330.841 19.327 330.841 9.83 324.983 3.972 C 319.125 -1.886 309.627 -1.886 303.77 3.972 Z"}),(0,tt.jsx)("path",{d:"M 15.272 330.019 C 19.111 330.019 22.95 328.555 25.878 325.625 L 120.268 231.235 L 120.272 285.023 C 120.273 293.307 126.989 300.023 135.273 300.022 C 143.557 300.021 150.273 293.305 150.272 285.021 L 150.266 195.021 C 150.265 186.737 143.55 180.022 135.266 180.022 L 45.272 180.022 C 36.988 180.022 30.272 186.738 30.272 195.022 C 30.272 203.306 36.988 210.022 45.272 210.022 L 99.056 210.022 L 4.665 304.413 C -1.193 310.271 -1.193 319.768 4.665 325.626 C 7.594 328.555 11.433 330.019 15.272 330.019 Z"})]})}):(0,tt.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 330 330",fill:"currentColor",className:"text-gray-700 dark:text-gray-300",children:(0,tt.jsxs)("g",{children:[(0,tt.jsx)("path",{d:"M315,210c-8.284,0-15,6.716-15,15v53.785l-94.392-94.392c-5.857-5.858-15.355-5.858-21.213,0\r c-5.858,5.858-5.858,15.355,0,21.213l94.39,94.39L224.999,300c-8.284,0-15,6.717-14.999,15.001\r c0.001,8.284,6.717,14.999,15.001,14.999l90-0.006c8.284,0,14.999-6.716,14.999-15V225C330,216.716,323.284,210,315,210z"}),(0,tt.jsx)("path",{d:"M15,120c8.284,0,15-6.716,15-15V51.215l94.392,94.392c2.929,2.929,6.768,4.394,10.606,4.394\r c3.839,0,7.678-1.464,10.607-4.394c5.858-5.858,5.858-15.355,0-21.213l-94.39-94.39L105.001,30c8.284,0,15-6.717,14.999-15.001\r S113.283,0,104.999,0l-90,0.006C6.715,0.006,0,6.722,0,15.006V105C0,113.284,6.716,120,15,120z"}),(0,tt.jsx)("path",{d:"M124.394,184.395l-94.39,94.39L30,224.999c0-8.284-6.717-14.999-15.001-14.999S0,216.717,0,225.001l0.006,90\r c0,8.284,6.716,14.999,15,14.999H105c8.284,0,15-6.716,15-15s-6.716-15-15-15H51.215l94.392-94.392\r c5.858-5.858,5.858-15.355,0-21.213C139.749,178.537,130.251,178.537,124.394,184.395z"}),(0,tt.jsx)("path",{d:"M195,149.997c3.839,0,7.678-1.464,10.606-4.394l94.39-94.39L300,105.001c0.001,8.284,6.717,15,15.001,14.999\r c8.284-0.001,15-6.717,14.999-15.001l-0.006-90C329.993,6.715,323.278,0,314.994,0H225c-8.284,0-15,6.716-15,15s6.716,15,15,15\r h53.784l-94.391,94.391c-5.858,5.858-5.858,15.355,0,21.213C187.322,148.533,191.161,149.997,195,149.997z"})]})})}),(0,tt.jsxs)("svg",{ref:ue,width:"100%",height:"100%",style:{cursor:j?"grabbing":"grab"},children:[(0,tt.jsxs)("defs",{children:[(0,tt.jsx)("marker",{id:"arrow-end",markerWidth:"10",markerHeight:"8",refX:"4",refY:"2",orient:"auto",children:(0,tt.jsx)("polygon",{points:"0 0, 6 2, 0 4",fill:"context-stroke"})}),(0,tt.jsx)("marker",{id:"arrow-start",markerWidth:"10",markerHeight:"8",refX:"4",refY:"2",orient:"auto-start-reverse",children:(0,tt.jsx)("polygon",{points:"0 0, 6 2, 0 4",fill:"context-stroke"})})]}),(0,tt.jsxs)("g",{transform:"translate(".concat(S.x,", ").concat(S.y,") scale(").concat(k,")"),children:[y.map((e=>{var t,n,i,r;const a=m.find((t=>t.id===e.from)),o=m.find((t=>t.id===e.to));if(!a||!o)return null;const s=null!==(t=null!==(n=a.animatedSize)&&void 0!==n?n:a.size)&&void 0!==t?t:30,c=null!==(i=null!==(r=o.animatedSize)&&void 0!==r?r:o.size)&&void 0!==i?i:30,d=o.position.x-a.position.x,u=o.position.y-a.position.y,h=Math.atan2(u,d),p=a.position.x+(s+4)*Math.cos(h),f=a.position.y+(s+4)*Math.sin(h),g=o.position.x-(c+4)*Math.cos(h),y=o.position.y-(c+4)*Math.sin(h),v=(p+g)/2,_=(f+y)/2;return(0,tt.jsxs)("g",{children:[(0,tt.jsx)("line",{x1:p,y1:f,x2:g,y2:y,stroke:e.color,strokeWidth:"2",markerEnd:"url(#arrow-end)",markerStart:"url(#arrow-start)"}),(ie||U===e.from||U===e.to)&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("rect",{x:v-We(e.label)/2,y:_-8,width:We(e.label),height:"16",fill:l?"rgb(34, 33, 33)":"rgba(255, 255, 255, 0.9)",stroke:e.color,strokeWidth:"1",rx:"3"}),(0,tt.jsx)("text",{x:v,y:_,textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fill:Ue(l),className:"select-none font-medium",style:{textShadow:l?"1px 1px 2px rgba(0,0,0,0.8)":"1px 1px 2px rgba(255,255,255,0.8)"},children:e.label})]})]},e.id)})),m.map((e=>{var t,n,i,r,a,o,s,c;return(0,tt.jsxs)("g",{children:[(0,tt.jsx)("circle",{cx:e.position.x,cy:e.position.y,r:null!==(t=null!==(n=e.animatedSize)&&void 0!==n?n:e.size)&&void 0!==t?t:30,fill:e.color,stroke:Je(l,e.id),strokeWidth:2,className:"cursor-pointer hover:opacity-80 transition-opacity",onMouseDown:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),g((n=>{const i=n.find((e=>e.id===t));if(!i)return n;if(fe.current=!0,me.current={x:e.clientX,y:e.clientY},T(!0),x(t),he.current){const t=he.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,a=(n-S.x)/k,o=(r-S.y)/k;P({x:a-i.position.x,y:o-i.position.y})}else P({x:0,y:0});return M&&(ge.current=!0,A(!1)),n}))})(t,e.id),onMouseEnter:()=>G(e.id),onMouseLeave:()=>G(null)}),(J.has(e.id)||$.has(e.id))&&(0,tt.jsx)("g",{transform:"translate(".concat(e.position.x+.3*(null!==(i=null!==(r=e.animatedSize)&&void 0!==r?r:e.size)&&void 0!==i?i:30),", ").concat(e.position.y-1*(null!==(a=null!==(o=e.animatedSize)&&void 0!==o?o:e.size)&&void 0!==a?a:30),")"),pointerEvents:"none",children:(0,tt.jsxs)("g",{transform:"scale(".concat(10/256,")"),children:[(0,tt.jsx)("path",{fill:"#C0392B",d:"M394.6,81.1L161.5,314.3l18.1,18.1l115,115c9.5-30.7,12.6-63,7.1-93.7L445,210.3c22.1,0,45.7-4.7,67-11.8l-99.2-99.2L394.6,81.1z"}),(0,tt.jsx)("polygon",{fill:"#BDC3C7",points:"161.5,314.3 125.2,350.5 53.6,422.2 18.1,458.4 0,512 36.2,475.8 143.4,368.6 179.6,332.4 "}),(0,tt.jsx)("polygon",{fill:"#7F8C8D",points:"179.6,332.4 143.4,368.6 71.7,440.3 36.2,475.8 0,512 53.6,493.9 89.8,458.4 161.5,386.8 197.7,350.5 "}),(0,tt.jsx)("path",{fill:"#E74C3C",d:"M313.5,0c-7.1,21.3-12.6,44.9-11.8,67L157.5,210.3c-29.9-5.5-63-2.4-93.7,7.1l115,115L412,99.2 L313.5,0z"})]})}),(ae||se||U===e.id)&&(0,tt.jsx)("text",{x:e.position.x,y:e.position.y-(null!==(s=null!==(c=e.animatedSize)&&void 0!==c?c:e.size)&&void 0!==s?s:30)-10,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fontWeight:"bold",fill:Ge(e.color,l),className:"select-none pointer-events-none",style:{textShadow:l?"1px 1px 2px rgba(0,0,0,0.8)":"1px 1px 2px rgba(255,255,255,0.8)"},children:se?e.importance||0:e.relationshipCount||0}),(0,tt.jsx)("text",{x:e.position.x,y:e.position.y,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fontWeight:"bold",fill:Ue(l),className:"select-none pointer-events-none",style:{textShadow:l?"1px 1px 2px rgba(0,0,0,0.8)":"1px 1px 2px rgba(255,255,255,0.8)"},children:(()=>{const t=e.name.split(" "),n=[];let i="";t.forEach((e=>{const t=i+(i?" ":"")+e;We(t,12)<=72?i=t:(i&&n.push(i),i=e)})),i&&n.push(i);const r=-(14*n.length)/2+7;return n.map(((t,n)=>(0,tt.jsx)("tspan",{x:e.position.x,dy:0===n?r:14,children:t},n)))})()}),(te||U===e.id)&&e.role&&(0,tt.jsx)("text",{x:e.position.x,y:e.position.y,textAnchor:"middle",fontSize:"10",fill:Ue(l),className:"select-none pointer-events-none",style:{textShadow:l?"1px 1px 2px rgba(0,0,0,0.8)":"1px 1px 2px rgba(255,255,255,0.8)"},children:((t,n)=>{const i=e.role.split(" "),r=[];let a="";i.forEach((e=>{const t=a+(a?" ":"")+e;We(t,10)<=120?a=t:(a&&r.push(a),a=e)})),a&&r.push(a);r.length;const o=(null!==(t=null!==(n=e.animatedSize)&&void 0!==n?n:e.size)&&void 0!==t?t:30)+15;return r.map(((t,n)=>(0,tt.jsx)("tspan",{x:e.position.x,dy:0===n?o:12,children:t},n)))})()})]},e.id)}))]})]})]})})]}),(0,tt.jsx)(at,{isOpen:Q,onClose:()=>X(!1),title:"Relationships \u2014 How to use this page",steps:[["This page lets you explore relationships between characters.",'Start by using "Focus on Character" to select someone.'],["Hover a character to see connected relationships and a brief description.","Use your mouse wheel to zoom, and drag the background to pan."],["Characters with a white outline have relationships not yet shown.","Click a character to add their related characters and edges."],['The view may now be cluttered, Click "Auto arrange" to toggle automatic layout.',"Layout uses springs (attraction) and node repulsion.",'Adjust "Spring Force" and "Repulsion Force" using the sliders.'],["You may now want more space. Use the expand icon to enter a full-screen view.",'Now use "Fit to View" to center and zoom to include all visible nodes.'],['Under "View Options" you can control labels and sizing.','Click "Size is Importance" to scale node size by calculated importance.',"Toggle labels like Relationship, Description, and Counts/Importance."],['If the view is cluttered, toggle "Remove Mode" to click and remove nodes.',"Only the largest remaining connected component is kept to you can remove whole branches."],['Click "Show All" to reveal all characters up to the selected chapter.','Then "Fit to View" to frame everything.'],['"Pin Mode" pins/unpins nodes.',"This prevents clusters from drifting apart under repulsion.","Click a pinned node to unpin it.At least one node per group must be pinned"],['"Reset View" restores defaults without changing the chapter filter or full-screen.',"Use the Up To control on the tab bar to limit content by chapter and avoid spoilers."]],darkMode:l})]})},st=(e,t)=>{const n=t.find((t=>t.id===e));return n?n.name:e},lt=(e,t)=>{const n=t.find((t=>t.id===e));return n?n.area:""},ct=(e,t)=>{if(!e.characters||0===e.characters.length)return"#6b7280";const n=e.characters.map((e=>{const n=t.find((t=>t.id===e.characterId));return n?n.group:"Unknown"}));return n.includes("Protagonists")?"#3182ce":n.includes("Fifth Columnists")?"#e53e3e":n.includes("German Connection")?"#d69e2e":"#6b7280"},dt=t=>{let{onEventSelect:n,selectedEvent:i,onCharacterSelect:r,eventsData:a,charactersData:o,locationsData:s}=t;const[l,c]=(0,e.useState)("all"),[d,u]=(0,e.useState)("all"),[h,p]=(0,e.useState)("chronological"),[f,m]=(0,e.useState)(50),g=((0,e.useRef)(null),(0,e.useRef)(null),(0,e.useRef)(null),a.filter((e=>{const t="all"===l||!("early"!==l||!e.date.includes("193"))||!("mid"!==l||!e.date.includes("1941")&&!e.date.includes("1942"))||!("late"!==l||!e.date.includes("1943")&&!e.date.includes("1944")),n="all"===d||!!e.characters&&e.characters.some((e=>e.characterId===d));return t&&n}))),y=[...g].sort(((e,t)=>{const n=e=>{const t=e.match(/\d{4}/);return t?parseInt(t[0]):1900},i=n(e.date),r=n(t.date);if(i!==r)return i-r;const a={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12},o=e=>{for(const t in a)if(e.includes(t))return a[t];return 0};return o(e.date)-o(t.date)})),v=(y.reduce(((e,t)=>{const n=t.date.match(/\d{4}/)?t.date.match(/\d{4}/)[0]:"Unknown";return e[n]||(e[n]=[]),e[n].push(t),e}),{}),(()=>{const e={Protagonists:[],"Fifth Columnists":[],"German Connection":[]};return g.forEach((t=>{if(!t.characters)return;const n=t.characters.map((e=>(e=>{const t=o.find((t=>t.id===e));return t?t.group:"Unknown"})(e.characterId))),i=(()=>{const t={};n.forEach((e=>{t[e]=(t[e]||0)+1}));const i=Object.keys(t).reduce(((e,n)=>t[e]>t[n]?e:n));return e[i]?i:"Protagonists"})();e[i]&&e[i].push(t)})),e})()),_=e=>{n(e)};return(0,tt.jsxs)("div",{className:"timeline-container",children:[(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore the chronological sequence of events in the book."})}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time Period"}),(0,tt.jsxs)("div",{className:"flex",children:[(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-l transition-colors ".concat("all"===l?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>c("all"),children:"All"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("early"===l?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>c("early"),children:"1932-1939"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm transition-colors ".concat("mid"===l?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>c("mid"),children:"1940-1942"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-r transition-colors ".concat("late"===l?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>c("late"),children:"1943-1944"})]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"View"}),(0,tt.jsxs)("div",{className:"flex",children:[(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-l transition-colors ".concat("chronological"===h?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>p("chronological"),children:"Chronological"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-r transition-colors ".concat("parallel"===h?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>p("parallel"),children:"Parallel Storylines"})]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Character"}),(0,tt.jsxs)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:d,onChange:e=>u(e.target.value),children:[(0,tt.jsx)("option",{value:"all",children:"All Characters"}),(0,tt.jsx)("optgroup",{label:"Protagonists",children:o.filter((e=>"Protagonists"===e.group)).map((e=>(0,tt.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,tt.jsx)("optgroup",{label:"Fifth Columnists",children:o.filter((e=>"Fifth Columnists"===e.group)).map((e=>(0,tt.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,tt.jsx)("optgroup",{label:"German Connection",children:o.filter((e=>"German Connection"===e.group)).map((e=>(0,tt.jsx)("option",{value:e.id,children:e.name},e.id)))})]})]})]}),"chronological"===h&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("div",{className:"overflow-x-auto mb-4 relative h-40 border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 rounded w-full",children:[" ",(0,tt.jsxs)("div",{className:"w-max h-full max-w-[2000px]",children:[" ",(0,tt.jsxs)("div",{className:"relative h-full",children:[(0,tt.jsx)("div",{className:"absolute left-0 right-0 h-1 bg-gray-300 dark:bg-gray-600 top-28"})," ",(0,tt.jsx)("div",{className:"flex h-full",children:y.map(((e,t)=>(0,tt.jsxs)("div",{className:"relative px-4 h-full",onClick:()=>_(e),children:[(0,tt.jsx)("div",{className:"absolute w-4 h-4 rounded-full cursor-pointer transition-all duration-200 hover:scale-125 ".concat((null===i||void 0===i?void 0:i.id)===e.id?"ring-4 ring-blue-400 dark:ring-blue-500":""),style:{top:"26px",left:"50%",transform:"translateX(-50%)",backgroundColor:ct(e,o)}}),(0,tt.jsxs)("div",{className:"absolute pt-6 text-center w-full",children:[(0,tt.jsx)("div",{className:"text-xs font-medium text-gray-900 dark:text-gray-100 truncate",children:e.title}),(0,tt.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.date})]})]},e.id)))})]})]})]}),i?(0,tt.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[(0,tt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:i.title}),(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:i.date})]}),(0,tt.jsxs)("div",{className:"flex space-x-2",children:[(0,tt.jsx)("button",{className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",onClick:()=>{if(!i)return;const e=y.findIndex((e=>e.id===i.id));e>0&&n(y[e-1])},disabled:0===y.findIndex((e=>e.id===i.id)),children:"Previous"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",onClick:()=>{if(!i)return;const e=y.findIndex((e=>e.id===i.id));e<y.length-1&&n(y[e+1])},disabled:y.findIndex((e=>e.id===i.id))===y.length-1,children:"Next"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",onClick:()=>{n(null)},children:"Back to Timeline"})]})]}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Description"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.description}),i.location&&(0,tt.jsxs)("div",{className:"mt-4",children:[(0,tt.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Location"}),(0,tt.jsxs)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-700",children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:st(i.location,s)}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:lt(i.location,s)})]})]})]}),(0,tt.jsxs)("div",{children:[i.characters&&i.characters.length>0&&(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Characters Involved"}),(0,tt.jsx)("div",{className:"space-y-2",children:i.characters.map(((e,t)=>{const n=o.find((t=>t.id===e.characterId));return n?(0,tt.jsxs)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>r(n),children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:n.name}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.role||"Participant"})]},t):null}))})]}),i.consequences&&i.consequences.length>0&&(0,tt.jsxs)("div",{className:"mt-4",children:[(0,tt.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Consequences"}),(0,tt.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 dark:text-gray-300",children:i.consequences.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]})]})]})]}):(0,tt.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:(0,tt.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:(0,tt.jsx)("p",{className:"text-lg",children:"Select an event from the timeline to view details"})})})]}),"parallel"===h&&(0,tt.jsx)("div",{className:"space-y-6",children:Object.entries(v).map((e=>{let[t,n]=e;return(0,tt.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,tt.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-gray-100",children:t}),(0,tt.jsx)("div",{className:"space-y-3",children:n.map((e=>(0,tt.jsx)("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>_(e),children:(0,tt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.title}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.date})]}),(0,tt.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ct(e,o)}})]})},e.id)))})]},t)}))})]})},ut=t=>{let{onLocationSelect:n,selectedLocation:i,onEventSelect:r,locationsData:a,eventsData:o,charactersData:s}=t;const[l,c]=(0,e.useState)(""),[d,u]=(0,e.useState)("all"),[h,p]=(0,e.useState)("all"),f=Array.from(new Set(a.map((e=>e.type)))),m=Array.from(new Set(a.map((e=>e.area)))),g=a.filter((e=>{const t=e.name.toLowerCase().includes(l.toLowerCase())||e.description&&e.description.toLowerCase().includes(l.toLowerCase())||e.area&&e.area.toLowerCase().includes(l.toLowerCase()),n="all"===d||e.type===d,i="all"===h||e.area===h;return t&&n&&i})),y=e=>o.filter((t=>t.location===e));return(0,tt.jsxs)("div",{className:"location-explorer",children:[(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore the significant locations in the book where key events took place."})}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,tt.jsxs)("div",{className:"md:col-span-1",children:[(0,tt.jsx)("div",{className:"mb-4",children:(0,tt.jsx)("input",{type:"text",placeholder:"Search locations...",className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:l,onChange:e=>c(e.target.value)})}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location Type"}),(0,tt.jsxs)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:d,onChange:e=>u(e.target.value),children:[(0,tt.jsx)("option",{value:"all",children:"All Types"}),f.map((e=>(0,tt.jsx)("option",{value:e,children:e},e)))]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Area"}),(0,tt.jsxs)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:h,onChange:e=>p(e.target.value),children:[(0,tt.jsx)("option",{value:"all",children:"All Areas"}),m.map((e=>(0,tt.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,tt.jsx)("div",{className:"h-128 overflow-y-auto pr-2",children:g.map((e=>(0,tt.jsxs)("div",{className:"p-3 mb-3 border rounded cursor-pointer transition-colors ".concat((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 dark:bg-blue-900 border-blue-300 dark:border-blue-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>n(e),children:[(0,tt.jsx)("h3",{className:"font-bold text-gray-900 dark:text-gray-100",children:e.name}),(0,tt.jsx)("div",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 inline-block mt-1",children:e.type}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.area}),y(e.id).length>0&&(0,tt.jsxs)("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:[y(e.id).length," related events"]})]},e.id)))})]}),(0,tt.jsx)("div",{className:"md:col-span-2",children:i?(0,tt.jsxs)("div",{children:[(0,tt.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-4 mb-4 bg-white dark:bg-gray-800",children:[(0,tt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.name}),(0,tt.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:i.area}),(0,tt.jsx)("div",{className:"mt-2 px-2 py-1 inline-block rounded bg-gray-200 dark:bg-gray-700 text-sm text-gray-700 dark:text-gray-300",children:i.type})]}),(0,tt.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded mb-4 overflow-hidden",children:(0,tt.jsx)("div",{className:"h-64 bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:(0,tt.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 p-4 text-center",children:["Location image would be displayed here in a full implementation. This would show a period-appropriate illustration or photo of ",i.name,"."]})})}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 text-gray-900 dark:text-gray-100",children:"Description"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.description||"No detailed description available."}),i.features&&i.features.length>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Key Features"}),(0,tt.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 dark:text-gray-300",children:i.features.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]}),i.rooms&&i.rooms.length>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Notable Rooms/Areas"}),(0,tt.jsx)("div",{className:"space-y-2",children:i.rooms.map(((e,t)=>(0,tt.jsxs)("div",{className:"border-l-4 border-blue-200 dark:border-blue-600 pl-3",children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.significance})]},t)))})]})]}),(0,tt.jsxs)("div",{children:[i.significance&&i.significance.length>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 text-gray-900 dark:text-gray-100",children:"Significance"}),(0,tt.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 dark:text-gray-300",children:i.significance.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]}),y(i.id).length>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Related Events"}),(0,tt.jsx)("div",{className:"space-y-2",children:y(i.id).map((e=>(0,tt.jsxs)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>r(e),children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.title}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.date})]},e.id)))})]})]})]})]}):(0,tt.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:(0,tt.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:(0,tt.jsx)("p",{className:"text-lg",children:"Select a location to view details"})})})})]})]})};function ht(e,t){return Object.freeze((0,H.A)((0,H.A)({},e),t))}const pt=(0,e.createContext)(null),ft=pt.Provider;function mt(){const t=(0,e.useContext)(pt);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function gt(){return mt().map}function yt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var vt=n(7950);function _t(t){function n(n,i){const{instance:r,context:a}=t(n).current;return(0,e.useImperativeHandle)(i,(()=>r)),null==n.children?null:e.createElement(ft,{value:a},n.children)}return(0,e.forwardRef)(n)}function bt(t){function n(n,i){const{instance:r}=t(n).current;return(0,e.useImperativeHandle)(i,(()=>r)),null}return(0,e.forwardRef)(n)}function wt(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function xt(t,n){return null==n?function(n,i){const r=(0,e.useRef)();return r.current||(r.current=t(n,i)),r}:function(i,r){const a=(0,e.useRef)();a.current||(a.current=t(i,r));const o=(0,e.useRef)(i),{instance:s}=a.current;return(0,e.useEffect)((function(){o.current!==i&&(n(s,i,o.current),o.current=i)}),[s,i,r]),a}}function kt(t,n){const i=(0,e.useRef)(n);(0,e.useEffect)((function(){n!==i.current&&null!=t.attributionControl&&(null!=i.current&&t.attributionControl.removeAttribution(i.current),null!=n&&t.attributionControl.addAttribution(n)),i.current=n}),[t,n])}function Ct(t,n){const i=(0,e.useRef)();(0,e.useEffect)((function(){return null!=n&&t.instance.on(n),i.current=n,function(){null!=i.current&&t.instance.off(i.current),i.current=null}}),[t,n])}function St(e,t){var n;const i=null!==(n=e.pane)&&void 0!==n?n:t.pane;return i?(0,H.A)((0,H.A)({},e),{},{pane:i}):e}function It(t,n){(0,e.useEffect)((function(){var e;return(null!==(e=n.layerContainer)&&void 0!==e?e:n.map).addLayer(t.instance),function(){var e;null===(e=n.layerContainer)||void 0===e||e.removeLayer(t.instance),n.map.removeLayer(t.instance)}}),[n,t])}function jt(e){return function(t){const n=mt(),i=e(St(t,n),n);return kt(n.map,t.attribution),Ct(i.current,t.eventHandlers),It(i.current,n),i}}function Tt(t){return function(n){const i=mt(),r=t(St(n,i),i);return Ct(r.current,n.eventHandlers),It(r.current,i),function(t,n){const i=(0,e.useRef)();(0,e.useEffect)((function(){if(n.pathOptions!==i.current){var e;const r=null!==(e=n.pathOptions)&&void 0!==e?e:{};t.instance.setStyle(r),i.current=r}}),[t,n])}(r.current,n),r}}function Et(t,n){const i=function(e,t){return function(n,i){const r=mt(),a=e(St(n,r),r);return kt(r.map,n.attribution),Ct(a.current,n.eventHandlers),t(a.current,r,n,i),a}}(xt(t),n);return function(t){function n(n,i){const[r,a]=(0,e.useState)(!1),{instance:o}=t(n,a).current;(0,e.useImperativeHandle)(i,(()=>o)),(0,e.useEffect)((function(){r&&o.update()}),[o,r,n.children]);const s=o._contentNode;return s?(0,vt.createPortal)(n.children,s):null}return(0,e.forwardRef)(n)}(i)}function Pt(e,t){return _t(Tt(xt(e,t)))}var Nt=n(228),Lt=n.n(Nt);const Mt=["position"],At=_t(jt(xt((function(e,t){let{position:n}=e,i=yt(e,Mt);const r=new Nt.Marker(n,i);return wt(r,ht(t,{overlayContainer:r}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}))));const zt=Et((function(e,t){return wt(new Nt.Popup(e,t.overlayContainer),t)}),(function(t,n,i,r){let{position:a}=i;(0,e.useEffect)((function(){const{instance:e}=t;function i(t){t.popup===e&&(e.update(),r(!0))}function o(t){t.popup===e&&r(!1)}return n.map.on({popupopen:i,popupclose:o}),null==n.overlayContainer?(null!=a&&e.setLatLng(a),e.openOn(n.map)):n.overlayContainer.bindPopup(e),function(){var t;n.map.off({popupopen:i,popupclose:o}),null===(t=n.overlayContainer)||void 0===t||t.unbindPopup(),n.map.removeLayer(e)}}),[t,n,r,a])})),Bt=["positions"],Rt=Pt((function(e,t){let{positions:n}=e,i=yt(e,Bt);const r=new Nt.Polyline(n,i);return wt(r,ht(t,{overlayContainer:r}))}),(function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)}));const Dt=["center","children"],Ot=Pt((function(e,t){let{center:n,children:i}=e,r=yt(e,Dt);const a=new Nt.CircleMarker(n,r);return wt(a,ht(t,{overlayContainer:a}))}),(function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)})),Ft=Et((function(e,t){return wt(new Nt.Tooltip(e,t.overlayContainer),t)}),(function(t,n,i,r){let{position:a}=i;(0,e.useEffect)((function(){const e=n.overlayContainer;if(null==e)return;const{instance:i}=t,o=e=>{e.tooltip===i&&(null!=a&&i.setLatLng(a),i.update(),r(!0))},s=e=>{e.tooltip===i&&r(!1)};return e.on({tooltipopen:o,tooltipclose:s}),e.bindTooltip(i),function(){e.off({tooltipopen:o,tooltipclose:s}),null!=e._map&&e.unbindTooltip()}}),[t,n,r,a])})),Ht=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function Ut(){return Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ut.apply(this,arguments)}function Gt(t,n){let{bounds:i,boundsOptions:r,center:a,children:o,className:s,id:l,placeholder:c,style:d,whenReady:u,zoom:h}=t,p=yt(t,Ht);const[f]=(0,e.useState)({className:s,id:l,style:d}),[m,g]=(0,e.useState)(null);(0,e.useImperativeHandle)(n,(()=>{var e;return null!==(e=null===m||void 0===m?void 0:m.map)&&void 0!==e?e:null}),[m]);const y=(0,e.useCallback)((e=>{if(null!==e&&null===m){const t=new Nt.Map(e,p);null!=a&&null!=h?t.setView(a,h):null!=i&&t.fitBounds(i,r),null!=u&&t.whenReady(u),g(function(e){return Object.freeze({__version:1,map:e})}(t))}}),[]);(0,e.useEffect)((()=>()=>{null===m||void 0===m||m.map.remove()}),[m]);const v=m?e.createElement(ft,{value:m},o):null!==c&&void 0!==c?c:null;return e.createElement("div",Ut({},f,{ref:y}),v)}const Wt=(0,e.forwardRef)(Gt);const qt=["url"],Zt=function(e,t){return bt(jt(xt(e,t)))}((function(e,t){let{url:n}=e,i=yt(e,qt);return wt(new Nt.TileLayer(n,St(i,t)),t)}),(function(e,t,n){!function(e,t,n){const{opacity:i,zIndex:r}=t;null!=i&&i!==n.opacity&&e.setOpacity(i),null!=r&&r!==n.zIndex&&e.setZIndex(r)}(e,t,n);const{url:i}=t;null!=i&&i!==n.url&&e.setUrl(i)})),Vt=(Kt=function(e){return new Nt.Control.Zoom(e)},bt((Jt=xt((function(e,t){return wt(Kt(e),t)})),function(t){const n=mt(),i=Jt(t,n),{instance:r}=i.current,a=(0,e.useRef)(t.position),{position:o}=t;return(0,e.useEffect)((function(){return r.addTo(n.map),function(){r.remove()}}),[n.map,r]),(0,e.useEffect)((function(){null!=o&&o!==a.current&&(r.setPosition(o),a.current=o)}),[r,o]),i})));var Jt,Kt;delete Lt().Icon.Default.prototype._getIconUrl,Lt().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const $t=e=>Lt().divIcon({html:'<div style="background-color: '.concat(e,'; width: 10px; height: 10px; border-radius: 50%; border: 2px solid white;"></div>'),className:"custom-div-icon",iconSize:[14,14],iconAnchor:[7,7]}),Yt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Lt().divIcon({html:'<div style="background-color: '.concat(e?"#9f1239":"#e53e3e",'; width: 12px; height: 12px; border: 2px solid white;"></div>'),className:"custom-div-icon",iconSize:[16,16],iconAnchor:[8,8]})},Qt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Lt().divIcon({html:'\n    <div style="\n      width: 0; \n      height: 0; \n      border-left: 8px solid transparent;\n      border-right: 8px solid transparent;\n      border-bottom: 14px solid '.concat(e,";\n      transform: ").concat(t?"scale(1.3)":"scale(1)",';\n    "></div>\n  '),className:"custom-div-icon",iconSize:[16,14],iconAnchor:[8,7]})},Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Lt().divIcon({html:'\n    <div style="\n      width: 12px;\n      height: 12px;\n      border-radius: 50%;\n      background-color: #805ad5;\n      border: 2px solid white;\n      transform: '.concat(e?"scale(1.3)":"scale(1)",';\n    "></div>\n  '),className:"custom-div-icon",iconSize:[16,16],iconAnchor:[8,8]})},en=t=>{let{center:n,zoom:i,bounds:r,selectedItem:a,currentZoomRef:o}=t;const s=gt();return(0,e.useEffect)((()=>{const e=()=>{o.current=s.getZoom()};return s.on("zoomend",e),r&&s.fitBounds(r),()=>{s.off("zoomend",e)}}),[s,r,o]),null},tn=t=>{let{onLocationSelect:n,onEventSelect:i,onCharacterSelect:r,onObjectSelect:a,locationsData:o,eventsData:s,charactersData:l,objectsData:c,locationPositions:d={},eventPositions:u={},characterPositions:h={},objectPositions:p={},mapBoundaries:f=null}=t;const[m,g]=(0,e.useState)("all"),[y,v]=(0,e.useState)("all"),[_,b]=(0,e.useState)("uk"),[w,x]=(0,e.useState)(null),[k,C]=(0,e.useState)(null),[S,I]=(0,e.useState)(null),[j,T]=(0,e.useState)([52.3555,-1.1743]),[E,P]=(0,e.useState)(6),[N,L]=(0,e.useState)(null),[M,A]=(0,e.useState)(!1),z=(0,e.useRef)(E),B=(0,e.useRef)(null);(0,e.useEffect)((()=>{}),[_]);const R=()=>{const t=gt();return(0,e.useEffect)((()=>{B.current=t,z.current=t.getZoom()}),[t]),null},D=s.filter((e=>"all"===y||(!("early"!==y||!e.date.includes("193"))||(!("mid"!==y||!e.date.includes("194")||e.date.includes("1943"))||!("late"!==y||!e.date.includes("1943")&&!e.date.includes("1944"))))));(0,e.useEffect)((()=>{if(!w||!k)return I(null),void A(!1);let e=null;switch(k){case"location":e=o.find((e=>e.id===w));break;case"event":e=s.find((e=>e.id===w));break;case"character":e=l.find((e=>e.id===w));break;case"object":e=c.find((e=>e.id===w))}I(e),A(!!e)}),[w,k,o,s,l,c]);const O=e=>{const t=s.find((t=>t.id===e));if(t){x(e),C("event"),I(t),A(!0);const n=u[e];if(n&&n.locationId){const e=d[n.locationId];e&&B.current&&B.current.panTo([e.lat,e.lon])}}},F=(e,t)=>{if(!e)return x(null),C(null),I(null),void A(!1);x(e),C(t);let n=null,i=null;switch(t){case"location":{const t=d[e];t&&(n=[t.lat,t.lon]),i=o.find((t=>t.id===e));break}case"event":{const t=u[e];if(t)if(t.locationId){const e=d[t.locationId];e&&(n=[e.lat,e.lon])}else if(t.path&&t.path.length>0){const e=Math.floor(t.path.length/2);n=[t.path[e].lat,t.path[e].lon]}i=s.find((t=>t.id===e));break}case"character":{const t=h[e];if(t&&t.locationId){const e=d[t.locationId];e&&(n=[e.lat,e.lon])}i=l.find((t=>t.id===e));break}case"object":{const t=p[e];if(t&&t.locationId){const e=d[t.locationId];e&&(n=[e.lat,e.lon])}i=c.find((t=>t.id===e));break}}if(I(i),A(!!i),n&&B.current){B.current.getSize().x}},H=()=>{A(!1)},U=()=>{if(k&&S)switch(k){case"location":n(S);break;case"event":i(S);break;case"character":r&&r(S);break;case"object":a&&a(S)}};return(0,tt.jsxs)("div",{className:"map-container",children:[(0,tt.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Map View"}),(0,tt.jsxs)("div",{className:"flex",children:[(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-l ".concat("uk"===_?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>{b("uk"),B.current&&B.current.setView([54,-4],6)},children:"UK"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-r ".concat("europe"===_?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>{b("europe"),B.current&&B.current.setView([50,4],5)},children:"Europe"})]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display"}),(0,tt.jsxs)("div",{className:"flex flex-wrap",children:[(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-l ".concat("all"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("all"),children:"All"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm ".concat("locations"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("locations"),children:"Locations"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm ".concat("events"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("events"),children:"Events"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm ".concat("characters"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("characters"),children:"Characters"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-r ".concat("objects"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("objects"),children:"Objects"})]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time Period"}),(0,tt.jsxs)("div",{className:"flex",children:[(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-l ".concat("all"===y?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>v("all"),children:"All"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm ".concat("early"===y?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>v("early"),children:"1932-1939"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm ".concat("mid"===y?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>v("mid"),children:"1940-1942"}),(0,tt.jsx)("button",{className:"px-3 py-1 text-sm rounded-r ".concat("late"===y?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>v("late"),children:"1943-1944"})]})]})]}),(0,tt.jsxs)("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),(0,tt.jsx)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:"location"===k?w:"",onChange:e=>F(e.target.value,"location"),title:"location"===k&&S?S.name:"",children:[{value:"",label:"Select a location"},...o.filter((e=>d[e.id])).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>({value:e.id,label:e.name})))].map((e=>(0,tt.jsx)("option",{value:e.value,children:e.label},"loc-".concat(e.value))))})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event"}),(0,tt.jsx)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:"event"===k?w:"",onChange:e=>F(e.target.value,"event"),title:"event"===k&&S?S.title:"",children:[{value:"",label:"Select an event"},...D.sort(((e,t)=>e.title.localeCompare(t.title))).map((e=>({value:e.id,label:e.title})))].map((e=>(0,tt.jsx)("option",{value:e.value,children:e.label},"event-".concat(e.value))))})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Character"}),(0,tt.jsx)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:"character"===k?w:"",onChange:e=>F(e.target.value,"character"),title:"character"===k&&S?S.name:"",children:[{value:"",label:"Select a character"},...l.filter((e=>{const t=h[e.id];return t&&t.locationId&&d[t.locationId]})).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>({value:e.id,label:e.name})))].map((e=>(0,tt.jsx)("option",{value:e.value,children:e.label},"char-".concat(e.value))))})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Object"}),(0,tt.jsx)("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:"object"===k?w:"",onChange:e=>F(e.target.value,"object"),title:"object"===k&&S?S.name:"",children:[{value:"",label:"Select an object"},...c.filter((e=>{const t=p[e.id];return t&&t.locationId&&d[t.locationId]})).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>({value:e.id,label:e.name})))].map((e=>(0,tt.jsx)("option",{value:e.value,children:e.label},"obj-".concat(e.value))))})]})]}),(0,tt.jsxs)("div",{className:"flex flex-col md:flex-row border border-gray-200 dark:border-gray-700 rounded overflow-hidden",style:{height:"600px"},children:[(0,tt.jsx)("div",{className:"".concat(M?"w-full md:w-2/3":"w-full"," h-full transition-all duration-300"),children:(0,tt.jsxs)(Wt,{center:j,zoom:E,style:{height:"100%",width:"100%"},zoomControl:!1,children:[(0,tt.jsx)(Zt,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,tt.jsx)(R,{}),(0,tt.jsx)(Vt,{position:"topright"}),(0,tt.jsx)(en,{center:j,zoom:E,bounds:N,selectedItem:w,currentZoomRef:z}),"locations"!==m&&"all"!==m?null:Object.entries(d).map((e=>{let[t,n]=e;if("uk"===_&&"german"===n.type||"europe"===_&&"irish"===n.type)return null;const i=w===t&&"location"===k,r=(e=>{switch(e){case"german":return"#d69e2e";case"irish":return"#38a169";default:return"#3182ce"}})(n.type);return(0,tt.jsxs)(At,{position:[n.lat,n.lon],icon:$t(r),eventHandlers:{click:()=>(e=>{const t=o.find((t=>t.id===e));if(t){x(e),C("location"),I(t),A(!0);const n=d[e];n&&B.current&&B.current.panTo([n.lat,n.lon])}})(t)},children:[(0,tt.jsx)(zt,{children:n.label}),i&&(0,tt.jsx)(zt,{children:(0,tt.jsx)("strong",{children:n.label})})]},"loc-".concat(t))})),"events"!==m&&"all"!==m?null:D.map((e=>{const t=u[e.id];if(!t)return null;let n;if(t.locationId){const e=d[t.locationId];if(!e)return null;if("uk"===_&&"german"===e.type||"europe"===_&&"irish"===e.type)return null;n=[e.lat,e.lon]}else{if(!(t.path&&t.path.length>0))return null;{const e=Math.floor(t.path.length/2);n=[t.path[e].lat,t.path[e].lon]}}const i=w===e.id&&"event"===k;return(0,tt.jsxs)(At,{position:n,icon:Yt(i),eventHandlers:{click:()=>O(e.id)},children:[(0,tt.jsx)(zt,{children:e.title}),i&&(0,tt.jsx)(zt,{children:(0,tt.jsxs)("div",{children:[(0,tt.jsx)("strong",{children:e.title}),(0,tt.jsx)("div",{children:e.date})]})})]},"event-".concat(e.id))})),"events"!==m&&"all"!==m?null:D.map((t=>{const n=u[t.id];if(!n||!n.path||n.path.length<2)return null;const i=n.path.map((e=>[e.lat,e.lon])),r=w===t.id&&"event"===k;return(0,tt.jsxs)(e.Fragment,{children:[(0,tt.jsx)(Rt,{positions:i,color:r?"#9f1239":"#e53e3e",weight:r?3:2,dashArray:"5,5",eventHandlers:{click:()=>O(t.id)}}),n.path.map(((e,n)=>(0,tt.jsx)(Ot,{center:[e.lat,e.lon],radius:3,color:"#ffffff",fillColor:r?"#9f1239":"#e53e3e",fillOpacity:1,weight:1,children:(0,tt.jsx)(Ft,{children:e.label||"Point ".concat(n+1)})},"path-point-".concat(t.id,"-").concat(n))))]},"path-".concat(t.id))})),"characters"!==m&&"all"!==m?null:Object.entries(h).map((e=>{let[t,n]=e;if(!n.locationId)return null;const i=d[n.locationId];if(!i)return null;if("uk"===_&&"german"===i.type||"europe"===_&&"irish"===i.type)return null;const r=l.find((e=>e.id===t));if(!r)return null;const a=w===t&&"character"===k,o=(e=>{const t=l.find((t=>t.id===e));if(!t)return"#718096";switch(t.group){case"Protagonists":return"#3182ce";case"Fifth Columnists":return"#e53e3e";case"German Connection":return"#d69e2e";default:return"#718096"}})(t);return(0,tt.jsxs)(At,{position:[i.lat,i.lon],icon:Qt(o,a),eventHandlers:{click:()=>(e=>{const t=l.find((t=>t.id===e));if(t){x(e),C("character"),I(t),A(!0);const n=h[e];if(n&&n.locationId){const e=d[n.locationId];e&&B.current&&B.current.panTo([e.lat,e.lon])}}})(t)},children:[(0,tt.jsx)(zt,{children:r.name}),a&&(0,tt.jsx)(zt,{children:(0,tt.jsxs)("div",{children:[(0,tt.jsx)("strong",{children:r.name}),(0,tt.jsx)("div",{children:r.role})]})})]},"char-".concat(t))})),"objects"!==m&&"all"!==m?null:Object.entries(p).map((e=>{let[t,n]=e;if(!n.locationId)return null;const i=d[n.locationId];if(!i)return null;if("uk"===_&&"german"===i.type||"europe"===_&&"irish"===i.type)return null;const r=c.find((e=>e.id===t));if(!r)return null;const a=w===t&&"object"===k;return(0,tt.jsxs)(At,{position:[i.lat,i.lon],icon:Xt(a),eventHandlers:{click:()=>(e=>{const t=c.find((t=>t.id===e));if(t){x(e),C("object"),I(t),A(!0);const n=p[e];if(n&&n.locationId){const e=d[n.locationId];e&&B.current&&B.current.panTo([e.lat,e.lon])}}})(t)},children:[(0,tt.jsx)(zt,{children:r.name}),a&&(0,tt.jsx)(zt,{children:(0,tt.jsxs)("div",{children:[(0,tt.jsx)("strong",{children:r.name}),(0,tt.jsx)("div",{children:r.type})]})})]},"obj-".concat(t))}))]})}),M&&(0,tt.jsx)("div",{className:"w-full md:w-1/3 h-full border-l border-gray-200 dark:border-gray-700 overflow-hidden bg-white dark:bg-gray-800",children:(0,tt.jsxs)("div",{className:"bg-white p-4 rounded shadow-md h-full overflow-y-auto",children:[(0,tt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,tt.jsx)("h3",{className:"text-xl font-bold",children:(()=>{switch(k){case"location":case"character":case"object":return S.name;case"event":return S.title;default:return""}})()}),(0,tt.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:H,children:(0,tt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,tt.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(()=>{switch(k){case"location":return(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("div",{className:"text-gray-600 mb-2",children:[S.area," \u2022 ",S.type]}),S.description&&(0,tt.jsx)("p",{className:"mb-2",children:S.description}),S.significance&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Significance:"}),(0,tt.jsx)("ul",{className:"list-disc pl-4 text-sm",children:S.significance.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]}),S.features&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Features:"}),(0,tt.jsx)("ul",{className:"list-disc pl-4 text-sm",children:S.features.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]})]});case"event":return(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("div",{className:"text-gray-600 mb-2",children:S.date}),(0,tt.jsx)("p",{className:"mb-2",children:S.description}),S.keyActions&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Key Actions:"}),(0,tt.jsx)("ul",{className:"list-disc pl-4 text-sm",children:S.keyActions.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]}),S.characters&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Characters Involved:"}),(0,tt.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[S.characters.slice(0,3).map(((e,t)=>{const n=l.find((t=>t.id===e.characterId));return n?(0,tt.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:[n.name,e.role&&" (".concat(e.role,")")]},t):null})),S.characters.length>3&&(0,tt.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:["+ ",S.characters.length-3," more"]})]})]})]});case"character":return(0,tt.jsxs)(tt.Fragment,{children:[S.role&&(0,tt.jsx)("div",{className:"text-gray-600 mb-2",children:S.role}),S.group&&(0,tt.jsx)("div",{className:"mb-2",children:(0,tt.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat("Protagonists"===S.group?"bg-blue-100 text-blue-800":"Fifth Columnists"===S.group?"bg-red-100 text-red-800":"German Connection"===S.group?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:S.group})}),S.background&&(0,tt.jsx)("p",{className:"mb-2",children:S.background}),S.personality&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Personality:"}),(0,tt.jsx)("p",{className:"text-sm",children:S.personality})]}),S.traits&&S.traits.length>0&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Traits:"}),(0,tt.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:S.traits.map(((e,t)=>(0,tt.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:e},t)))})]})]});case"object":return(0,tt.jsxs)(tt.Fragment,{children:[S.type&&(0,tt.jsx)("div",{className:"text-gray-600 mb-2",children:S.type}),(0,tt.jsx)("p",{className:"mb-2",children:S.description}),S.significance&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Significance:"}),(0,tt.jsxs)("ul",{className:"list-disc pl-4 text-sm",children:[S.significance.slice(0,2).map(((e,t)=>(0,tt.jsx)("li",{children:e},t))),S.significance.length>2&&(0,tt.jsxs)("li",{children:["+ ",S.significance.length-2," more points"]})]})]}),S.possessors&&(0,tt.jsxs)("div",{className:"mb-2",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm",children:"Possessors:"}),(0,tt.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[S.possessors.slice(0,2).map(((e,t)=>{const n=l.find((t=>t.id===e.characterId));return n?(0,tt.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:[n.name," (",e.period,")"]},t):null})),S.possessors.length>2&&(0,tt.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:["+ ",S.possessors.length-2," more"]})]})]})]});default:return null}})(),(0,tt.jsx)("div",{className:"mt-4",children:(0,tt.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",onClick:U,children:"View Full Details"})})]})})]}),(0,tt.jsxs)("div",{className:"mt-4 p-4 border border-gray-200 dark:border-gray-700 rounded bg-white dark:bg-gray-800",children:[(0,tt.jsx)("h3",{className:"text-sm font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Legend"}),(0,tt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-blue-500"}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"UK Locations"})]}),(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-yellow-500"}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"German Locations"})]}),(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-green-500"}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"Irish Locations"})]}),(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2 bg-red-500"}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"Events"})]}),(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2",style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid blue",marginLeft:"4px"}}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"Protagonists"})]}),(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2",style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid #e53e3e",marginLeft:"4px"}}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"Fifth Columnists"})]}),(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2",style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid #d69e2e",marginLeft:"4px"}}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"German Connection"})]}),(0,tt.jsxs)("div",{className:"flex items-center",children:[(0,tt.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-purple-500"}),(0,tt.jsx)("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"Objects"})]})]})]}),(0,tt.jsx)("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 p-2 border-t border-gray-200 dark:border-gray-700",children:(0,tt.jsx)("p",{children:"Interactive map showing key locations, events, characters, and objects from the book. Click on markers for details or use the dropdowns to select specific items. The detail panel will show a summary with the option to view full details."})})]})},nn=t=>{let{onEventSelect:n,onCharacterSelect:i,eventsData:r,charactersData:a,chaptersData:o,mysteryElements:s,themeElements:l,bookMetadata:c}=t;const[d,u]=(0,e.useState)("chapters"),[h,p]=(0,e.useState)("full"),[f,m]=(0,e.useState)(null),g=e=>{const t=a.find((t=>t.id===e));return t?t.name:e},y=e=>{const t=r.find((t=>t.id===e));return t?t.title:e},v=e=>{const t=a.find((t=>t.id===e));t&&i(t)},_=e=>{const t=r.find((t=>t.id===e));t&&n(t)};return(0,tt.jsxs)("div",{className:"plot-navigator",children:[(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore the narrative structure, mysteries, and themes of the book to enhance your understanding of the novel."})}),(0,tt.jsxs)("div",{className:"flex mb-4",children:[(0,tt.jsx)("button",{className:"px-4 py-2 cursor-pointer focus:outline-none rounded mr-2 transition-colors ".concat("chapters"===d?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>u("chapters"),children:"Chapter Progression"}),(0,tt.jsx)("button",{className:"px-4 py-2 cursor-pointer focus:outline-none rounded mr-2 transition-colors ".concat("mysteries"===d?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>u("mysteries"),children:"Mystery Elements"}),(0,tt.jsx)("button",{className:"px-4 py-2 cursor-pointer focus:outline-none rounded transition-colors ".concat("themes"===d?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>u("themes"),children:"Theme Analysis"})]}),(0,tt.jsxs)("div",{className:"flex mb-4",children:[(0,tt.jsx)("button",{className:"px-4 py-2 text-sm rounded-l transition-colors ".concat("progressive"===h?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>p("progressive"),children:"Reader's View"}),(0,tt.jsx)("button",{className:"px-4 py-2 text-sm rounded-r transition-colors ".concat("full"===h?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),onClick:()=>p("full"),children:"Full Overview"})]}),"chapters"===d&&(0,tt.jsxs)(tt.Fragment,{children:["progressive"===h&&(0,tt.jsx)("div",{className:"mb-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 text-sm",children:(0,tt.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,tt.jsx)("strong",{children:"Progressive Reader Mode:"})," Chapters are revealed as if you were reading the novel for the first time. Expand each chapter to continue the story."]})}),(0,tt.jsx)("div",{className:"space-y-4",children:o.map(((e,t)=>{if("progressive"===h&&f&&t>o.findIndex((e=>e.id===f)))return null;const n=f===e.id,i=e.events?e.events.map((e=>r.find((t=>t.id===e)))).filter(Boolean):[];return(0,tt.jsxs)("div",{className:"border-l-4 pl-4 transition-colors ".concat(n?"border-blue-500":"border-gray-300 dark:border-gray-600"),children:[(0,tt.jsxs)("div",{className:"font-bold cursor-pointer transition-colors ".concat(n?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-gray-100"),onClick:()=>m(n?null:e.id),children:[e.title,(0,tt.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-2",children:e.timeframe||e.date})]}),!n&&(0,tt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description||e.summary}),n&&(0,tt.jsxs)("div",{className:"mt-2 pl-2",children:[(0,tt.jsx)("p",{className:"mb-3 text-gray-700 dark:text-gray-300",children:e.description||e.summary}),i.length>0&&(0,tt.jsxs)("div",{className:"mb-4",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:"Key Events:"}),(0,tt.jsx)("div",{className:"space-y-2 mt-2",children:i.map((e=>(0,tt.jsxs)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>_(e.id),children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.title}),(0,tt.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.date}),(0,tt.jsx)("p",{className:"text-sm mt-1 text-gray-700 dark:text-gray-300",children:e.description})]},e.id)))})]}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.filter((t=>t.firstMentioned===e.id||t.revealedInChapter===e.id)).length>0&&(0,tt.jsxs)("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded bg-pink-50 dark:bg-pink-900/20",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm mb-2 text-gray-900 dark:text-gray-100",children:"Mystery Elements Introduced:"}),(0,tt.jsx)("div",{className:"space-y-2",children:s.filter((t=>t.firstMentioned===e.id||t.revealedInChapter===e.id)).map((t=>(0,tt.jsxs)("div",{className:"text-sm",children:[(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.title}),t.revealedInChapter===e.id?(0,tt.jsx)("div",{className:"text-green-600 dark:text-green-400",children:"Revealed in this chapter"}):(0,tt.jsx)("div",{className:"text-blue-600 dark:text-blue-400",children:"First mentioned, revealed later"})]},t.id)))})]}),(0,tt.jsxs)("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded bg-white dark:bg-gray-800",children:[(0,tt.jsx)("h4",{className:"font-medium text-sm mb-2 text-gray-900 dark:text-gray-100",children:"Character Focus:"}),(0,tt.jsx)("div",{className:"space-y-1",children:i.flatMap((e=>{var t;return(null===(t=e.characters)||void 0===t?void 0:t.map((t=>(0,H.A)((0,H.A)({},t),{},{event:e.id}))))||[]})).filter(((e,t,n)=>t===n.findIndex((t=>t.characterId===e.characterId)))).slice(0,5).map((e=>{const t=a.find((t=>t.id===e.characterId));return t?(0,tt.jsxs)("div",{className:"flex items-center cursor-pointer hover:underline",onClick:()=>v(t.id),children:[(0,tt.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:t.name}),e.role&&(0,tt.jsx)("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 rounded px-1 ml-2 text-gray-700 dark:text-gray-300",children:e.role})]},t.id):null}))})]})]}),t<o.length-1&&"progressive"===h&&(0,tt.jsxs)("button",{className:"mt-4 px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",onClick:()=>m(o[t+1].id),children:["Continue to ",o[t+1].title.split(":")[0]]})]})]},e.id)}))})]}),"mysteries"===d&&(0,tt.jsxs)("div",{className:"space-y-4",children:["progressive"===h&&(0,tt.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 text-sm",children:[(0,tt.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,tt.jsx)("strong",{children:"Progressive Reader Mode:"})," Mystery elements are unlocked as they're revealed in the story. Select a chapter to see which mysteries have been revealed."]}),(0,tt.jsxs)("div",{className:"mt-2",children:[(0,tt.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Current Chapter:"}),(0,tt.jsxs)("select",{className:"w-full md:w-auto p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",value:f||"",onChange:e=>m(e.target.value||null),children:[(0,tt.jsx)("option",{value:"",children:"Select a chapter"}),o.map((e=>(0,tt.jsx)("option",{value:e.id,children:e.title},e.id)))]})]})]}),(0,tt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((e=>{const t="full"===h||f&&((e,t)=>"full"===h||o.findIndex((e=>e.id===t))>=o.findIndex((t=>t.id===e.revealedInChapter)))(e,f);return(0,tt.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 p-3 rounded transition-colors ".concat(t?"twist"===e.status?"bg-purple-50 dark:bg-purple-900/20":"major_plot"===e.status?"bg-blue-50 dark:bg-blue-900/20":"bg-green-50 dark:bg-green-900/20":"bg-gray-100 dark:bg-gray-800"),children:[(0,tt.jsx)("h4",{className:"font-bold text-gray-900 dark:text-gray-100",children:e.title}),(0,tt.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["First introduced: Chapter ",o.findIndex((t=>t.id===e.firstMentioned))+1]}),t?(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:e.description}),e.relatedCharacters&&e.relatedCharacters.length>0&&(0,tt.jsxs)("div",{className:"mt-2",children:[(0,tt.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Related Characters:"}),(0,tt.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.relatedCharacters.map((e=>(0,tt.jsx)("button",{className:"text-xs px-2 py-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors",onClick:()=>v(e),children:g(e)},e)))})]}),e.relatedEvents&&e.relatedEvents.length>0&&(0,tt.jsxs)("div",{className:"mt-2",children:[(0,tt.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Key Events:"}),(0,tt.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.relatedEvents.map((e=>(0,tt.jsx)("button",{className:"text-xs px-2 py-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors",onClick:()=>_(e),children:y(e)},e)))})]}),(0,tt.jsx)("div",{className:"mt-2 flex",children:(0,tt.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("twist"===e.status?"bg-purple-200 dark:bg-purple-800 text-purple-800 dark:text-purple-200":"major_plot"===e.status?"bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200":"bg-green-200 dark:bg-green-800 text-green-800 dark:text-green-200"),children:"twist"===e.status?"Major Plot Twist":"major_plot"===e.status?"Central Plot Element":"Revealed Mystery"})})]}):(0,tt.jsx)("div",{className:"mt-2 flex items-center",children:(0,tt.jsxs)("span",{className:"bg-gray-200 dark:bg-gray-700 text-sm px-2 py-1 rounded text-gray-700 dark:text-gray-300",children:["Locked until Chapter ",o.findIndex((t=>t.id===e.revealedInChapter))+1]})})]},e.id)}))})]}),"themes"===d&&(0,tt.jsxs)("div",{className:"space-y-6",children:[(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore the major themes and motifs running through the book and how they connect to characters and events in the novel."}),l.map((e=>(0,tt.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-4 bg-white dark:bg-gray-800",children:[(0,tt.jsx)("h3",{className:"font-bold text-lg text-blue-700 dark:text-blue-400 mb-2",children:e.title}),(0,tt.jsx)("p",{className:"mt-1 text-gray-700 dark:text-gray-300",children:e.description}),(0,tt.jsxs)("div",{className:"mt-4",children:[(0,tt.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Key Examples:"}),(0,tt.jsx)("ul",{className:"list-disc pl-5 text-sm mt-1 text-gray-700 dark:text-gray-300",children:e.examples.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]}),e.relatedCharacters&&e.relatedCharacters.length>0&&(0,tt.jsxs)("div",{className:"mt-4",children:[(0,tt.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Key Characters:"}),(0,tt.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.relatedCharacters.map((e=>(0,tt.jsx)("button",{className:"text-sm px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 transition-colors",onClick:()=>v(e),children:g(e)},e)))})]})]},e.id))),(null===c||void 0===c?void 0:c.literaryAnalysis)&&(0,tt.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-4 bg-gray-50 dark:bg-gray-800 mt-6",children:[(0,tt.jsx)("h3",{className:"font-bold text-lg mb-2 text-gray-900 dark:text-gray-100",children:c.literaryAnalysis.title||"Literary Analysis"}),Array.isArray(c.literaryAnalysis.paragraphs)&&c.literaryAnalysis.paragraphs.length>0?c.literaryAnalysis.paragraphs.map(((e,t)=>(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300 ".concat(t>0?"mt-2":""),children:e},t))):c.literaryAnalysis.content?(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:c.literaryAnalysis.content}):null]})]})]})},rn=t=>{let{onObjectSelect:n,selectedObject:i,objectsData:r,charactersData:a,eventsData:o}=t;const[s,l]=(0,e.useState)(""),c=r.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase()))),d=e=>{const t=a.find((t=>t.id===e));return t?t.name:e},u=e=>{const t=o.find((t=>t.id===e));return t?t.title:e};return(0,tt.jsxs)("div",{className:"object-gallery",children:[(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore the significant objects that play important roles in the novel's plot."})}),(0,tt.jsx)("div",{className:"mb-4",children:(0,tt.jsx)("input",{type:"text",placeholder:"Search objects...",className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:s,onChange:e=>l(e.target.value)})}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,tt.jsx)("div",{className:"md:col-span-1 h-128 overflow-y-auto pr-4",children:c.map((e=>(0,tt.jsxs)("div",{className:"p-3 mb-3 border rounded cursor-pointer transition-colors ".concat((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 dark:bg-blue-900 border-blue-300 dark:border-blue-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>n(e),children:[(0,tt.jsx)("h3",{className:"font-bold text-gray-900 dark:text-gray-100",children:e.name}),(0,tt.jsx)("div",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 inline-block mt-1",children:e.type}),(0,tt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:e.description})]},e.id)))}),(0,tt.jsx)("div",{className:"md:col-span-2",children:i?(0,tt.jsxs)("div",{children:[(0,tt.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-4 bg-white dark:bg-gray-800 mb-4",children:[(0,tt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.name}),(0,tt.jsx)("div",{className:"text-sm px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 inline-block mt-1",children:i.type})]}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded mb-4 overflow-hidden",children:(0,tt.jsx)("div",{className:"h-64 bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:(0,tt.jsx)("p",{className:"text-gray-500 dark:text-gray-400 p-4 text-center",children:i.image_description||"No image available"})})}),(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 text-gray-900 dark:text-gray-100",children:"Description"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.description}),i.physical_details&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Physical Details"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.physical_details})]}),i.technical_details&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Technical Details"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.technical_details})]}),i.significance&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Significance"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.significance})]})]}),(0,tt.jsxs)("div",{children:[i.owner&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 text-gray-900 dark:text-gray-100",children:"Owner"}),(0,tt.jsx)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-700",children:(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:d(i.owner)})})]}),i.location&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Location"}),(0,tt.jsx)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-700",children:(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:i.location})})]}),i.time_period&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Time Period"}),(0,tt.jsx)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-700",children:(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:(h=i.time_period,h.charAt(0).toUpperCase()+h.slice(1).replace(/_/g," "))})})]}),i.related_events&&i.related_events.length>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Related Events"}),(0,tt.jsx)("div",{className:"space-y-2",children:i.related_events.map((e=>(0,tt.jsx)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{o.find((t=>t.id===e))},children:(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:u(e)})},e)))})]}),i.related_characters&&i.related_characters.length>0&&(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 mt-4 text-gray-900 dark:text-gray-100",children:"Related Characters"}),(0,tt.jsx)("div",{className:"space-y-2",children:i.related_characters.map((e=>(0,tt.jsx)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{a.find((t=>t.id===e))},children:(0,tt.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:d(e)})},e)))})]})]})]})]}):(0,tt.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:(0,tt.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:(0,tt.jsx)("p",{className:"text-lg",children:"Select an object to view details"})})})})]})]});var h},an=t=>{let{spycraftEntries:n}=t;const[i,r]=(0,e.useState)(null),[a,o]=(0,e.useState)(""),s=n.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase()))),l=e=>{r(e)};return(0,tt.jsxs)("div",{className:"spycraft-encyclopedia",children:[(0,tt.jsx)("div",{className:"mb-6",children:(0,tt.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore the spy techniques and methods used in the book and learn about their historical context in WWII espionage."})}),(0,tt.jsx)("div",{className:"mb-4",children:(0,tt.jsx)("input",{type:"text",placeholder:"Search spy techniques...",className:"w-full p-2 border rounded bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:a,onChange:e=>o(e.target.value)})}),(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,tt.jsxs)("div",{className:"md:col-span-1 h-128 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded p-4 bg-white dark:bg-gray-800",children:[(0,tt.jsx)("h3",{className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"Techniques"}),(0,tt.jsx)("div",{className:"space-y-2",children:s.map((e=>(0,tt.jsxs)("div",{className:"p-3 border rounded cursor-pointer transition-colors ".concat((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 dark:bg-blue-900 border-blue-300 dark:border-blue-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"),onClick:()=>l(e),children:[(0,tt.jsx)("h4",{className:"font-bold text-gray-900 dark:text-gray-100",children:e.title}),(0,tt.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:e.description})]},e.id)))})]}),(0,tt.jsx)("div",{className:"md:col-span-2 border border-gray-200 dark:border-gray-700 rounded p-6 bg-white dark:bg-gray-800",children:i?(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.title}),(0,tt.jsxs)("div",{className:"mt-4",children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 text-gray-900 dark:text-gray-100",children:"Description"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.description})]}),(0,tt.jsxs)("div",{className:"mt-4",children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 text-gray-900 dark:text-gray-100",children:"Historical Context"}),(0,tt.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:i.historicalContext})]}),(0,tt.jsxs)("div",{className:"mt-4",children:[(0,tt.jsx)("h3",{className:"font-bold text-lg border-b border-gray-200 dark:border-gray-700 pb-2 mb-2 text-gray-900 dark:text-gray-100",children:"Examples in the Book"}),(0,tt.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 dark:text-gray-300",children:i.examples.map(((e,t)=>(0,tt.jsx)("li",{children:e},t)))})]}),(0,tt.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 dark:bg-gray-700 rounded",children:[(0,tt.jsx)("h3",{className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Related Items"}),(0,tt.jsx)("div",{className:"flex flex-wrap gap-2",children:n.filter((e=>e.id!==i.id)).slice(0,3).map((e=>(0,tt.jsx)("button",{className:"px-3 py-1 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",onClick:()=>l(e),children:e.title},e.id)))})]}),(0,tt.jsxs)("div",{className:"mt-6",children:[(0,tt.jsx)("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:"Historical Note"}),(0,tt.jsx)("div",{className:"p-4 border-l-4 border-yellow-500 dark:border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20 mt-2",children:(0,tt.jsx)("p",{className:"text-sm italic text-gray-700 dark:text-gray-300",children:"The intelligence tactics portrayed in the book are based on real methods used during WWII. The British intelligence services were particularly adept at counter-espionage and the running of double agents."})})]})]}):(0,tt.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:(0,tt.jsx)("p",{className:"text-lg",children:"Select a spy technique to view details"})})})]})]})};var on=n(6705);const sn=t=>{let{isOpen:n,onClose:i,currentBook:r,onBookSelect:a,availableBooks:o,darkMode:s}=t;const[l,c]=(0,e.useState)(r),[d,u]=(0,e.useState)(!1);(0,e.useEffect)((()=>{c(r),u(!1)}),[r]);return n?(0,tt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,tt.jsxs)("div",{className:"max-w-md w-full mx-4 p-6 rounded-lg shadow-xl ".concat(s?"bg-gray-800 text-white border border-gray-600":"bg-white text-gray-900 border border-gray-200"),children:[(0,tt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,tt.jsx)("h2",{className:"text-xl font-bold",children:"Select Book"}),(0,tt.jsx)("button",{onClick:i,className:"p-2 rounded-full hover:bg-opacity-20 ".concat(s?"hover:bg-gray-600":"hover:bg-gray-200"),children:(0,tt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,tt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,tt.jsx)("div",{className:"space-y-3 mb-6",children:Object.entries(o).map((e=>{let[t,n]=e;return(0,tt.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,tt.jsx)("input",{type:"radio",name:"bookSelection",value:t,checked:l===t,onChange:()=>(e=>{c(e)})(t),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,tt.jsxs)("div",{className:"flex-1",children:[(0,tt.jsx)("div",{className:"font-medium",children:n.title||t}),(0,tt.jsx)("div",{className:"text-sm ".concat(s?"text-gray-400":"text-gray-600"),children:n.author||"Unknown Author"}),n.shortDescription&&(0,tt.jsx)("div",{className:"text-xs mt-1 ".concat("text-gray-500"),children:n.shortDescription})]})]},t)}))}),(0,tt.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,tt.jsx)("button",{onClick:()=>{c(r),i()},className:"px-4 py-2 rounded ".concat(s?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"),children:"Cancel"}),(0,tt.jsx)("button",{onClick:()=>{l!==r?(u(!0),a(l)):i()},disabled:d,className:"px-4 py-2 rounded ".concat(d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"," text-white"),children:d?(0,tt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,tt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,tt.jsx)("span",{children:"Loading..."})]}):"Select Book"})]})]})}):null},ln=()=>{var t,n,i,r;const[a,o]=(0,e.useState)(1),[s,l]=(0,e.useState)(null),[c,d]=(0,e.useState)(null),[u,h]=(0,e.useState)(null),[p,f]=(0,e.useState)(null),[m,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)(!0),[_,b]=(0,e.useState)(!0),[w,x]=(0,e.useState)(!1),[k,C]=(0,e.useState)(on.defaultBookKey),[S,j]=(0,e.useState)(null),[T,E]=(0,e.useState)(!0),[N,L]=(0,e.useState)(null),[M,A]=(0,e.useState)(!1),B=(0,on.getAvailableBookMetadata)();(0,e.useEffect)((()=>{(async()=>{E(!0);try{const e=await(0,on.loadBookData)(k);j(e),L(null)}catch(e){console.error("Failed to load book data:",e),k!==on.defaultBookKey&&C(on.defaultBookKey)}finally{E(!1)}})()}),[k]),(0,e.useEffect)((()=>{localStorage.getItem("interactiveReadingCompanionVisited")?v(!1):(v(!0),localStorage.setItem("interactiveReadingCompanionVisited","true"));const e=localStorage.getItem("darkMode");if(null!==e){const t="true"===e;b(t),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}else document.documentElement.classList.add("dark");const t=localStorage.getItem("selectedBook");t&&B[t]&&C(t)}),[B]);const R=e=>{l(e),0!==a&&o(0)},D=e=>{d(e),o(3)},O=e=>{h(e),o(2)},H=e=>{f(e),o(6)},U=(0,e.useCallback)((()=>{g(!1)}),[]),G=(0,e.useCallback)((e=>{o(e)}),[]);var W;if(T||!S)return(0,tt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:(0,tt.jsxs)("div",{className:"text-center",children:[(0,tt.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white mx-auto mb-4"}),(0,tt.jsxs)("p",{className:"text-xl",children:["Loading ",(null===(W=B[k])||void 0===W?void 0:W.title)||"book","..."]})]})});const q=S.bookMetadata,Z=S.chapters||[],V=e=>e?Z.findIndex((t=>t.id===e)):-1,J=N?V(N):null,K=null===J||-1===J?S.characters:(S.characters||[]).filter((e=>{if(!e.introducedInChapter)return!0;const t=V(e.introducedInChapter);return-1===t||t<=J})),$=(()=>{if(null===J||-1===J)return S.relationships;const e=new Map((S.characters||[]).map((e=>[e.id,V(e.introducedInChapter)])));return(S.relationships||[]).filter((t=>{let n=-1;if(t.introducedInChapter)n=V(t.introducedInChapter);else{var i,r;const a=[null!==(i=e.get(t.from))&&void 0!==i?i:-1,null!==(r=e.get(t.to))&&void 0!==r?r:-1].filter((e=>-1!==e));n=a.length?Math.min(...a):-1}return-1!==n&&n<=J}))})(),Y=(()=>{if(null===J||-1===J)return S.events;const e=new Map;return Z.forEach(((t,n)=>{(t.events||[]).forEach((t=>{e.has(t)||e.set(t,n)}))})),(S.events||[]).filter((t=>{let n=-1;return t.introducedInChapter?n=V(t.introducedInChapter):e.has(t.id)?n=e.get(t.id):t.chapter&&(n=V(String(t.chapter))),-1===n||n<=J}))})(),Q=null===J||-1===J?S.locations:(S.locations||[]).filter((e=>{if(!e.introducedInChapter)return!0;const t=V(e.introducedInChapter);return-1===t||t<=J})),X=null===J||-1===J?S.objects:(S.objects||[]).filter((e=>{if(!e.introducedInChapter)return!0;const t=V(e.introducedInChapter);return-1===t||t<=J}));return(0,tt.jsxs)("div",{className:"app-container min-h-screen ".concat(_?"dark bg-gray-900":"bg-gray-100"),children:[(0,tt.jsx)("header",{className:"p-3",style:{backgroundColor:"var(--color-header-bg)",color:"var(--color-header-text)"},children:(0,tt.jsxs)("div",{className:"container mx-auto flex justify-between",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h1",{className:"text-3xl font-serif",children:q.appTitle}),(0,tt.jsx)("p",{className:"text-sm mt-1",children:q.appSubtitle})]}),(0,tt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,tt.jsx)(it,{darkMode:_,toggleDarkMode:()=>{const e=!_;b(e),localStorage.setItem("darkMode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),(0,tt.jsx)("button",{className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded text-white text-sm",onClick:()=>{x(!0)},children:(0,tt.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,tt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,tt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,tt.jsx)("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",onClick:()=>{g(!0)},children:"Tour the App"})]})]})}),y&&(0,tt.jsx)("div",{className:"p-4 border-b ".concat(_?"bg-blue-900 border-blue-800 text-blue-100":"bg-blue-50 border-blue-200 text-blue-800"),children:(0,tt.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,tt.jsxs)("div",{className:"pr-8",children:[(0,tt.jsx)("h2",{className:"text-lg font-bold",children:q.welcomeMessage}),(0,tt.jsx)("p",{className:"mt-1",children:q.welcomeDescription})]}),(0,tt.jsx)("button",{className:"px-3 py-1 rounded text-white text-sm ".concat(_?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"),onClick:()=>{v(!1)},children:"Got it"})]})}),(0,tt.jsx)("main",{className:"p-4",children:(0,tt.jsxs)(I,{selectedIndex:a,onSelect:e=>o(e),children:[(0,tt.jsxs)(P,{children:[(0,tt.jsx)(z,{children:"Characters"}),(0,tt.jsx)(z,{children:"Relationships"}),(0,tt.jsx)(z,{children:"Timeline"}),(0,tt.jsx)(z,{children:"Locations"}),(0,tt.jsx)(z,{children:"Map"}),(0,tt.jsx)(z,{children:"Plot"}),(0,tt.jsx)(z,{children:"Objects"}),(0,tt.jsx)(z,{children:"Spycraft"}),(0,tt.jsx)("button",{type:"button",className:"react-tabs__tab tablist-right-cta ml-2 cursor-pointer font-bold ".concat(_?"bg-gray-800":"bg-white text-gray-800"),onClick:()=>A(!0),title:"Choose the latest chapter you've read to limit content across the app",style:{userSelect:"none"},children:(e=>{const t=S.chapters||[],n=N?"Show up to "+((null===(e=t.find((e=>e.id===N)))||void 0===e?void 0:e.title)||"Selected chapter"):"Show whole book";return"".concat(n)})()})]}),M&&(0,tt.jsxs)("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[(0,tt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>A(!1)}),(0,tt.jsxs)("div",{className:"relative z-50 w-full max-w-lg mx-4 rounded shadow-lg ".concat(_?"bg-gray-900 text-gray-100":"bg-white text-gray-900"),children:[(0,tt.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-600",children:[(0,tt.jsx)("h3",{className:"text-lg font-semibold",children:"Select chapter to view up to"}),(0,tt.jsx)("button",{className:"px-2 py-1 text-sm rounded ".concat(_?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"),onClick:()=>A(!1),children:"\u2715"})]}),(0,tt.jsxs)("div",{className:"p-4 space-y-3 max-h-[60vh] overflow-y-auto",children:[(0,tt.jsx)("button",{className:"w-full text-left px-3 py-2 rounded border ".concat(_?"border-gray-700 hover:bg-gray-800":"border-gray-300 hover:bg-gray-100"),onClick:()=>{L(null),A(!1)},children:"Whole book (no limit)"}),(S.chapters||[]).map((e=>(0,tt.jsx)("button",{className:"w-full text-left px-3 py-2 rounded border ".concat(_?"border-gray-700 hover:bg-gray-800":"border-gray-300 hover:bg-gray-100"),onClick:()=>{L(e.id),A(!1)},children:e.title},e.id)))]})]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)(F,{children:(0,tt.jsx)(rt,{onCharacterSelect:R,selectedCharacter:s,charactersData:K,relationshipsData:$,groupStyles:(null===(t=S.bookMetadata)||void 0===t?void 0:t.characterGroupStyles)||{}})}),(0,tt.jsx)(F,{forceRender:!0,children:(0,tt.jsx)(ot,{onCharacterSelect:R,selectedCharacter:s,charactersData:S.characters,relationshipsData:S.relationships,eventsData:S.events,chaptersData:S.chapters,darkMode:_,groupColors:(null===(n=S.bookMetadata)||void 0===n?void 0:n.characterGroupColors)||{},importanceConfig:(null===(i=S.bookMetadata)||void 0===i?void 0:i.importanceWeights)||{},relationshipCategoryColors:(null===(r=S.bookMetadata)||void 0===r?void 0:r.relationshipCategoryColors)||{},currentBookKey:k,chapterFilterId:N,onChapterFilterChange:L})}),(0,tt.jsx)(F,{children:(0,tt.jsx)(dt,{onEventSelect:O,selectedEvent:u,onCharacterSelect:R,eventsData:Y,charactersData:K,locationsData:Q})}),(0,tt.jsx)(F,{children:(0,tt.jsx)(ut,{onLocationSelect:D,selectedLocation:c,onEventSelect:O,locationsData:Q,eventsData:Y,charactersData:K})}),(0,tt.jsx)(F,{children:(0,tt.jsx)(tn,{onLocationSelect:D,onEventSelect:O,onCharacterSelect:R,onObjectSelect:H,locationsData:Q,eventsData:Y,charactersData:K,objectsData:X,locationPositions:S.locationPositions||{},eventPositions:S.eventPositions||{},characterPositions:S.characterPositions||{},objectPositions:S.objectPositions||{},mapBoundaries:S.mapBoundaries||null})}),(0,tt.jsx)(F,{children:(0,tt.jsx)(nn,{onEventSelect:O,onCharacterSelect:R,eventsData:Y,charactersData:K,chaptersData:S.chapters,mysteryElements:S.mysteryElements,themeElements:S.themeElements,bookMetadata:S.bookMetadata})}),(0,tt.jsx)(F,{children:(0,tt.jsx)(rn,{onObjectSelect:H,selectedObject:p,objectsData:X,charactersData:K,eventsData:Y})}),(0,tt.jsx)(F,{children:(0,tt.jsx)(an,{spycraftEntries:S.spycraftEntries})})]})]})}),(0,tt.jsx)("footer",{className:"p-4 mt-0",style:{backgroundColor:"var(--color-footer-bg)",color:"var(--color-footer-text)"},children:(0,tt.jsxs)("div",{className:"container mx-auto",children:[(0,tt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h3",{className:"text-lg font-bold mb-2",children:"About this App"}),(0,tt.jsx)("p",{className:"text-sm",children:q.aboutApp})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Navigation Tips"}),(0,tt.jsxs)("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[(0,tt.jsx)("li",{children:"Use the tabs to explore different aspects of the novel"}),(0,tt.jsx)("li",{children:"Click on characters, events, or locations to see more details"}),(0,tt.jsx)("li",{children:"Use the Plot Navigator to understand the story structure"})]})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)("h3",{className:"text-lg font-bold mb-2",children:"About the Book"}),(0,tt.jsx)("p",{className:"text-sm",children:q.aboutBook})]})]}),(0,tt.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-600 text-center text-sm",children:(0,tt.jsxs)("p",{children:[q.copyright," \xa9 ",(new Date).getFullYear()]})})]})}),(0,tt.jsx)(nt,{isOpen:m,onClose:U,currentTab:a,onTabChange:G,bookMetadata:q}),(0,tt.jsx)(sn,{isOpen:w,onClose:()=>{x(!1)},currentBook:k,onBookSelect:e=>{e!==k&&(C(e),localStorage.setItem("selectedBook",e),l(null),d(null),h(null),f(null),x(!1))},availableBooks:B,darkMode:_})]})};(0,t.H)(document.getElementById("root")).render((0,tt.jsx)(ln,{}))})()})();
//# sourceMappingURL=main.f274c9e7.js.map