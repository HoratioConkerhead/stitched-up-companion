/*! For license information please see main.151dcfed.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var i=n(43),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},160:(e,t,n)=>{"use strict";var i=n(43);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=Object.prototype.hasOwnProperty,a=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},l={};function c(e){return!!o.call(l,e)||!o.call(s,e)&&(a.test(e)?l[e]=!0:(s[e]=!0,!1))}function u(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){d[e]=new u(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];d[t]=new u(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){d[e]=new u(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){d[e]=new u(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){d[e]=new u(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){d[e]=new u(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){d[e]=new u(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){d[e]=new u(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){d[e]=new u(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,p);d[t]=new u(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,p);d[t]=new u(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,p);d[t]=new u(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){d[e]=new u(e,1,!1,e.toLowerCase(),null,!1,!1)})),d.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){d[e]=new u(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","ms","Moz","O"];Object.keys(f).forEach((function(e){m.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),f[t]=f[e]}))}));var g=/["'&<>]/;function y(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=g.exec(e);if(t){var n,i="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(i+=e.substring(r,n)),r=n+1,i+=t}e=r!==n?i+e.substring(r,n):i}return e}var v=/([A-Z])/g,b=/^ms-/,_=Array.isArray;function x(e,t){return{insertionMode:e,selectedValue:t}}var w=new Map;function k(e,t,n){if("object"!==typeof n)throw Error(r(62));for(var i in t=!0,n)if(o.call(n,i)){var a=n[i];if(null!=a&&"boolean"!==typeof a&&""!==a){if(0===i.indexOf("--")){var s=y(i);a=y((""+a).trim())}else{s=i;var l=w.get(s);void 0!==l||(l=y(s.replace(v,"-$1").toLowerCase().replace(b,"-ms-")),w.set(s,l)),s=l,a="number"===typeof a?0===a||o.call(f,i)?""+a:a+"px":y((""+a).trim())}t?(t=!1,e.push(' style="',s,":",a)):e.push(";",s,":",a)}}t||e.push('"')}function S(e,t,n,i){switch(n){case"style":return void k(e,t,i);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=d.hasOwnProperty(n)?d[n]:null)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:i&&e.push(" ",n,'=""');break;case 4:!0===i?e.push(" ",n,'=""'):!1!==i&&e.push(" ",n,'="',y(i),'"');break;case 5:isNaN(i)||e.push(" ",n,'="',y(i),'"');break;case 6:!isNaN(i)&&1<=i&&e.push(" ",n,'="',y(i),'"');break;default:t.sanitizeURL&&(i=""+i),e.push(" ",n,'="',y(i),'"')}}else if(c(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',y(i),'"')}}function C(e,t,n){if(null!=t){if(null!=n)throw Error(r(60));if("object"!==typeof t||!("__html"in t))throw Error(r(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function E(e,t,n,i){e.push(j(n));var r,a=n=null;for(r in t)if(o.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:S(e,i,r,s)}}return e.push(">"),C(e,a,n),"string"===typeof n?(e.push(y(n)),null):n}var N=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,P=new Map;function j(e){var t=P.get(e);if(void 0===t){if(!N.test(e))throw Error(r(65,e));t="<"+e,P.set(e,t)}return t}function I(e,t,n,a,s){switch(t){case"select":e.push(j("select"));var l=null,u=null;for(f in n)if(o.call(n,f)){var d=n[f];if(null!=d)switch(f){case"children":l=d;break;case"dangerouslySetInnerHTML":u=d;break;case"defaultValue":case"value":break;default:S(e,a,f,d)}}return e.push(">"),C(e,u,l),l;case"option":u=s.selectedValue,e.push(j("option"));var h=d=null,p=null,f=null;for(l in n)if(o.call(n,l)){var m=n[l];if(null!=m)switch(l){case"children":d=m;break;case"selected":p=m;break;case"dangerouslySetInnerHTML":f=m;break;case"value":h=m;default:S(e,a,l,m)}}if(null!=u)if(n=null!==h?""+h:function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(d),_(u)){for(a=0;a<u.length;a++)if(""+u[a]===n){e.push(' selected=""');break}}else""+u===n&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),C(e,f,d),d;case"textarea":for(d in e.push(j("textarea")),f=u=l=null,n)if(o.call(n,d)&&null!=(h=n[d]))switch(d){case"children":f=h;break;case"value":l=h;break;case"defaultValue":u=h;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:S(e,a,d,h)}if(null===l&&null!==u&&(l=u),e.push(">"),null!=f){if(null!=l)throw Error(r(92));if(_(f)&&1<f.length)throw Error(r(93));l=""+f}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),null!==l&&e.push(y(""+l)),null;case"input":for(u in e.push(j("input")),h=f=d=l=null,n)if(o.call(n,u)&&null!=(p=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":h=p;break;case"defaultValue":d=p;break;case"checked":f=p;break;case"value":l=p;break;default:S(e,a,u,p)}return null!==f?S(e,a,"checked",f):null!==h&&S(e,a,"checked",h),null!==l?S(e,a,"value",l):null!==d&&S(e,a,"value",d),e.push("/>"),null;case"menuitem":for(var g in e.push(j("menuitem")),n)if(o.call(n,g)&&null!=(l=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:S(e,a,g,l)}return e.push(">"),null;case"title":for(m in e.push(j("title")),l=null,n)if(o.call(n,m)&&null!=(u=n[m]))switch(m){case"children":l=u;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:S(e,a,m,u)}return e.push(">"),l;case"listing":case"pre":for(h in e.push(j(t)),u=l=null,n)if(o.call(n,h)&&null!=(d=n[h]))switch(h){case"children":l=d;break;case"dangerouslySetInnerHTML":u=d;break;default:S(e,a,h,d)}if(e.push(">"),null!=u){if(null!=l)throw Error(r(60));if("object"!==typeof u||!("__html"in u))throw Error(r(61));null!==(n=u.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var v in e.push(j(t)),n)if(o.call(n,v)&&null!=(l=n[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,t));default:S(e,a,v,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return E(e,n,t,a);case"html":return 0===s.insertionMode&&e.push("<!DOCTYPE html>"),E(e,n,t,a);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return E(e,n,t,a);for(p in e.push(j(t)),u=l=null,n)if(o.call(n,p)&&null!=(d=n[p]))switch(p){case"children":l=d;break;case"dangerouslySetInnerHTML":u=d;break;case"style":k(e,a,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:c(p)&&"function"!==typeof d&&"symbol"!==typeof d&&e.push(" ",p,'="',y(d),'"')}return e.push(">"),C(e,u,l),l}}function M(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(r(395));return e.push(n),e.push('"></template>')}var T=/[<\u2028\u2029]/g;function L(e){return JSON.stringify(e).replace(T,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function z(e,t,n,i){return n.generateStaticMarkup?(e.push(y(t)),!1):(""===t?e=i:(i&&e.push("\x3c!-- --\x3e"),e.push(y(t)),e=!0),e)}var A=Object.assign,R=Symbol.for("react.element"),O=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.for("react.scope"),Y=Symbol.for("react.debug_trace_mode"),K=Symbol.for("react.legacy_hidden"),X=Symbol.for("react.default_value"),J=Symbol.iterator;function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case O:return"Portal";case F:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case $:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case U:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var n,i={};for(n in e)i[n]=t[n];return i}var ne=null;function ie(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));ie(e,n)}t.context._currentValue2=t.value}}function re(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&re(e)}function oe(e){var t=e.parent;null!==t&&oe(t),e.context._currentValue2=e.value}function ae(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(r(402));e.depth===t.depth?ie(e,t):ae(e,t)}function se(e,t){var n=t.parent;if(null===n)throw Error(r(402));e.depth===n.depth?ie(e,n):se(e,n),t.context._currentValue2=t.value}function le(e){var t=ne;t!==e&&(null===t?oe(e):null===e?re(t):t.depth===e.depth?ie(t,e):t.depth>e.depth?ae(t,e):se(t,e),ne=e)}var ce={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ue(e,t,n,i){var r=void 0!==e.state?e.state:null;e.updater=ce,e.props=n,e.state=r;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue2:i,"function"===typeof(a=t.getDerivedStateFromProps)&&(r=null===(a=a(n,r))||void 0===a?r:A({},r,a),e.state=r),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ce.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&1===t.length)e.state=t[0];else{for(o=a?t[0]:e.state,r=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,o,n,i):s)&&(r?(r=!1,o=A({},o,s)):A(o,s))}e.state=o}else o.queue=null}var de={id:1,overflow:""};function he(e,t,n){var i=e.id;e=e.overflow;var r=32-pe(i)-1;i&=~(1<<r),n+=1;var o=32-pe(t)+r;if(30<o){var a=r-r%5;return o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,{id:1<<32-pe(t)+r|n<<r|i,overflow:o+e}}return{id:1<<o|n<<r|i,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ye=null,ve=null,be=null,_e=null,xe=!1,we=!1,ke=0,Se=null,Ce=0;function Ee(){if(null===ye)throw Error(r(321));return ye}function Ne(){if(0<Ce)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Pe(){return null===_e?null===be?(xe=!1,be=_e=Ne()):(xe=!0,_e=be):null===_e.next?(xe=!1,_e=_e.next=Ne()):(xe=!0,_e=_e.next),_e}function je(){ve=ye=null,we=!1,be=null,Ce=0,_e=Se=null}function Ie(e,t){return"function"===typeof t?t(e):t}function Me(e,t,n){if(ye=Ee(),_e=Pe(),xe){var i=_e.queue;if(t=i.dispatch,null!==Se&&void 0!==(n=Se.get(i))){Se.delete(i),i=_e.memoizedState;do{i=e(i,n.action),n=n.next}while(null!==n);return _e.memoizedState=i,[i,t]}return[_e.memoizedState,t]}return e=e===Ie?"function"===typeof t?t():t:void 0!==n?n(t):t,_e.memoizedState=e,e=(e=_e.queue={last:null,dispatch:null}).dispatch=Le.bind(null,ye,e),[_e.memoizedState,e]}function Te(e,t){if(ye=Ee(),t=void 0===t?null:t,null!==(_e=Pe())){var n=_e.memoizedState;if(null!==n&&null!==t){var i=n[1];e:if(null===i)i=!1;else{for(var r=0;r<i.length&&r<t.length;r++)if(!ge(t[r],i[r])){i=!1;break e}i=!0}if(i)return n[0]}}return e=e(),_e.memoizedState=[e,t],e}function Le(e,t,n){if(25<=Ce)throw Error(r(301));if(e===ye)if(we=!0,e={action:n,next:null},null===Se&&(Se=new Map),void 0===(n=Se.get(t)))Se.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ze(){throw Error(r(394))}function Ae(){}var Re={readContext:function(e){return e._currentValue2},useContext:function(e){return Ee(),e._currentValue2},useMemo:Te,useReducer:Me,useRef:function(e){ye=Ee();var t=(_e=Pe()).memoizedState;return null===t?(e={current:e},_e.memoizedState=e):t},useState:function(e){return Me(Ie,e)},useInsertionEffect:Ae,useLayoutEffect:function(){},useCallback:function(e,t){return Te((function(){return e}),t)},useImperativeHandle:Ae,useEffect:Ae,useDebugValue:Ae,useDeferredValue:function(e){return Ee(),e},useTransition:function(){return Ee(),[!1,ze]},useId:function(){var e=ve.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var n=Oe;if(null===n)throw Error(r(404));return t=ke++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ee(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(r(407));return n()}},Oe=null,Be=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function De(e){return console.error(e),null}function Fe(){}function He(e,t,n,i,r,o,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&nt(e)},blockedBoundary:n,blockedSegment:i,abortSet:r,legacyContext:o,context:a,treeContext:s};return r.add(l),l}function Ze(e,t,n,i,r,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n,lastPushedText:r,textEmbedded:o}}function $e(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function We(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Ve(e,t,n,i,r){for(ye={},ve=t,ke=0,e=n(i,r);we;)we=!1,ke=0,Ce+=1,_e=null,e=n(i,r);return je(),e}function Ue(e,t,n,i){var o=n.render(),a=i.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof n.getChildContext)i=s;else{for(var l in n=n.getChildContext())if(!(l in a))throw Error(r(108,Q(i)||"Unknown",l));i=A({},s,n)}t.legacyContext=i,Ye(e,t,o),t.legacyContext=s}else Ye(e,t,o)}function qe(e,t){if(e&&e.defaultProps){for(var n in t=A({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Ge(e,t,n,i,o){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){o=te(n,t.legacyContext);var a=n.contextType;ue(a=new n(i,"object"===typeof a&&null!==a?a._currentValue2:o),n,i,o),Ue(e,t,a,n)}else{o=Ve(e,t,n,i,a=te(n,t.legacyContext));var s=0!==ke;if("object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof)ue(o,n,i,a),Ue(e,t,o,n);else if(s){i=t.treeContext,t.treeContext=he(i,1,0);try{Ye(e,t,o)}finally{t.treeContext=i}}else Ye(e,t,o)}else{if("string"!==typeof n){switch(n){case K:case Y:case D:case F:case B:case V:return void Ye(e,t,i.children);case G:throw Error(r(343));case W:e:{n=t.blockedBoundary,o=t.blockedSegment,a=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},c=Ze(0,o.chunks.length,l,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=Ze(0,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=u;try{if(Xe(e,t,i),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("\x3c!-- --\x3e"),u.status=1,et(l,u),0===l.pendingTasks)break e}catch(d){u.status=4,l.forceClientRender=!0,l.errorDigest=$e(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=He(e,a,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case $:if(i=Ve(e,t,n.render,i,o),0!==ke){n=t.treeContext,t.treeContext=he(n,1,0);try{Ye(e,t,i)}finally{t.treeContext=n}}else Ye(e,t,i);return;case U:return void Ge(e,t,n=n.type,i=qe(n,i),o);case H:if(o=i.children,n=n._context,i=i.value,a=n._currentValue2,n._currentValue2=i,ne=i={parent:s=ne,depth:null===s?0:s.depth+1,context:n,parentValue:a,value:i},t.context=i,Ye(e,t,o),null===(e=ne))throw Error(r(403));return i=e.parentValue,e.context._currentValue2=i===X?e.context._defaultValue:i,e=ne=e.parent,void(t.context=e);case Z:return void Ye(e,t,i=(i=i.children)(n._currentValue2));case q:return void Ge(e,t,n=(o=n._init)(n._payload),i=qe(n,i),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(a=I((o=t.blockedSegment).chunks,n,i,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=function(e,t,n){switch(t){case"select":return x(1,null!=n.value?n.value:n.defaultValue);case"svg":return x(2,null);case"math":return x(3,null);case"foreignObject":return x(1,null);case"table":return x(4,null);case"thead":case"tbody":case"tfoot":return x(5,null);case"colgroup":return x(7,null);case"tr":return x(6,null)}return 4<=e.insertionMode||0===e.insertionMode?x(1,null):e}(s,n,i),Xe(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}}function Ye(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case R:return void Ge(e,t,n.type,n.props,n.ref);case O:throw Error(r(257));case q:var i=n._init;return void Ye(e,t,n=i(n._payload))}if(_(n))return void Ke(e,t,n);if(null===n||"object"!==typeof n?i=null:i="function"===typeof(i=J&&n[J]||n["@@iterator"])?i:null,i&&(i=i.call(n))){if(!(n=i.next()).done){var o=[];do{o.push(n.value),n=i.next()}while(!n.done);Ke(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(i=t.blockedSegment).lastPushedText=z(t.blockedSegment.chunks,n,e.responseState,i.lastPushedText):"number"===typeof n&&((i=t.blockedSegment).lastPushedText=z(t.blockedSegment.chunks,""+n,e.responseState,i.lastPushedText))}function Ke(e,t,n){for(var i=n.length,r=0;r<i;r++){var o=t.treeContext;t.treeContext=he(o,i,r);try{Xe(e,t,n[r])}finally{t.treeContext=o}}}function Xe(e,t,n){var i=t.blockedSegment.formatContext,r=t.legacyContext,o=t.context;try{return Ye(e,t,n)}catch(l){if(je(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=o,le(o),l;n=l;var a=t.blockedSegment,s=Ze(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=He(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=o,le(o)}}function Je(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function Qe(e,t,n){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===n?Error(r(432)):n,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return Qe(e,t,n)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&et(e,n)}else e.completedSegments.push(t)}function tt(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(r(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Fe,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&et(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Je,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(et(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function nt(e){if(2!==e.status){var t=ne,n=Be.current;Be.current=Re;var i=Oe;Oe=e.responseState;try{var r,o=e.pingedTasks;for(r=0;r<o.length;r++){var a=o[r],s=e,l=a.blockedSegment;if(0===l.status){le(a.context);try{Ye(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),a.abortSet.delete(a),l.status=1,tt(s,a.blockedBoundary,l)}catch(p){if(je(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var c=a.ping;p.then(c,c)}else{a.abortSet.delete(a),l.status=4;var u=a.blockedBoundary,d=p,h=$e(s,d);if(null===u?We(s,d):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=h,u.parentFlushed&&s.clientRenderedBoundaries.push(u))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}o.splice(0,r),null!==e.destination&&lt(e,e.destination)}catch(p){$e(e,p),We(e,p)}finally{Oe=i,Be.current=n,n===Re&&le(t)}}}function it(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=i.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;i=n.chunks;var a=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];a<o.index;a++)t.push(i[a]);o=rt(e,t,o)}for(;a<i.length-1;a++)t.push(i[a]);return a<i.length&&(o=t.push(i[a])),o;default:throw Error(r(390))}}function rt(e,t,n){var i=n.boundary;if(null===i)return it(e,t,n);if(i.parentFlushed=!0,i.forceClientRender)return e.responseState.generateStaticMarkup||(i=i.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),i&&(t.push(' data-dgst="'),i=y(i),t.push(i),t.push('"')),t.push("></template>")),it(e,t,n),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var o=e.responseState,a=o.nextSuspenseID++;return o=o.boundaryPrefix+a.toString(16),i=i.id=o,M(t,e.responseState,i),it(e,t,n),t.push("\x3c!--/$--\x3e")}if(i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),M(t,e.responseState,i.id),it(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=i.completedSegments).length)throw Error(r(391));return rt(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function ot(e,t,n){return function(e,t,n,i){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');default:throw Error(r(397))}}(t,e.responseState,n.formatContext,n.id),rt(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(r(397))}}(t,n.formatContext)}function at(e,t,n){for(var i=n.completedSegments,o=0;o<i.length;o++)st(e,t,n,i[o]);if(i.length=0,e=e.responseState,i=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===i)throw Error(r(395));return n=n.toString(16),t.push(i),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function st(e,t,n,i){if(2===i.status)return!0;var o=i.id;if(-1===o){if(-1===(i.id=n.rootSegmentID))throw Error(r(392));return ot(e,t,i)}return ot(e,t,i),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function lt(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){rt(e,t,n),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)t.push(i[n]);n<i.length&&t.push(i[n])}var o,a=e.clientRenderedBoundaries;for(o=0;o<a.length;o++){var s=a[o];i=t;var l=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,h=s.errorComponentStack;if(i.push(l.startInlineScript),l.sentClientRenderFunction?i.push('$RX("'):(l.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===c)throw Error(r(395));if(i.push(c),i.push('"'),u||d||h){i.push(",");var p=L(u||"");i.push(p)}if(d||h){i.push(",");var f=L(d||"");i.push(f)}if(h){i.push(",");var m=L(h);i.push(m)}if(!i.push(")<\/script>"))return e.destination=null,o++,void a.splice(0,o)}a.splice(0,o);var g=e.completedBoundaries;for(o=0;o<g.length;o++)if(!at(e,t,g[o]))return e.destination=null,o++,void g.splice(0,o);g.splice(0,o);var y=e.partialBoundaries;for(o=0;o<y.length;o++){var v=y[o];e:{a=e,s=t;var b=v.completedSegments;for(l=0;l<b.length;l++)if(!st(a,s,v,b[l])){l++,b.splice(0,l);var _=!1;break e}b.splice(0,l),_=!0}if(!_)return e.destination=null,o++,void y.splice(0,o)}y.splice(0,o);var x=e.completedBoundaries;for(o=0;o<x.length;o++)if(!at(e,t,x[o]))return e.destination=null,o++,void x.splice(0,o);x.splice(0,o)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ct(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return Qe(n,e,t)})),n.clear(),null!==e.destination&&lt(e,e.destination)}catch(i){$e(e,i),We(e,i)}}function ut(){}function dt(e,t,n,i){var o=!1,a=null,s="",l={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){o=!0,a=e}},c=!1;if(e=function(e,t,n,i,r,o,a,s,l){var c=[],u=new Set;return(n=Ze(t={destination:null,responseState:t,progressiveChunkSize:void 0===i?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?De:r,onAllReady:void 0===o?Fe:o,onShellReady:void 0===a?Fe:a,onShellError:void 0===s?Fe:s,onFatalError:void 0===l?Fe:l},0,null,n,!1,!1)).parentFlushed=!0,e=He(t,e,null,n,u,ee,null,de),c.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ut,void 0,(function(){c=!0}),void 0,void 0),nt(e),ct(e,i),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{lt(e,l)}catch(u){$e(e,u),We(e,u)}}if(o)throw a;if(!c)throw Error(r(426));return s}t.renderToNodeStream=function(){throw Error(r(207))},t.renderToStaticMarkup=function(e,t){return dt(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(r(208))},t.renderToString=function(e,t){return dt(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.3.1"},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,m(_,y.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+P(l,0):o,x(a)?(r="",null!=e&&(r=e.replace(N,"$&/")+"/"),j(a,t,r,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+P(s=e[c],c);l+=j(s,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=j(s=s.value,t,r,u=o+P(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var i=[],r=0;return j(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},L={transition:null},z={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.act=A,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(t in r=arguments[n])e[t]=r[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function r(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function s(e,t,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(a,t),i=!0)},o}function l(e,t,n){var i=t[1],r=t[0],o=i-r;return e===i&&n?e:((e-r)%o+o)%o+r}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return d(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"===typeof i&&(i=i(t)),i}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var x=0;function w(e){var t=+new Date,n=Math.max(0,16-(t-x));return x=t+n,window.setTimeout(e,n)}var k=window.requestAnimationFrame||_("RequestAnimationFrame")||w,S=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,n){if(!n||k!==w)return k.call(window,r(e,t));e.call(t)}function E(e){e&&S.call(window,e)}var N={__proto__:null,extend:n,create:i,bind:r,get lastId(){return o},stamp:a,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:h,setOptions:p,getParamString:f,template:g,isArray:y,indexOf:v,emptyImageUrl:b,requestFn:k,cancelFn:S,requestAnimFrame:C,cancelAnimFrame:E};function P(){}function j(e){if("undefined"!==typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=t.__super__=this.prototype,o=i(r);for(var a in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&n(t,e.statics),e.includes&&(j(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=r.options?i(r.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},P.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},P.mergeOptions=function(e){return n(this.prototype.options,e),this},P.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var I={on:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,o=(e=h(e)).length;r<o;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var i in e)this._off(i,e[i],t);else{e=h(e);for(var r=1===arguments.length,o=0,a=e.length;o<a;o++)r?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,i){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var r={fn:t,ctx:n};i&&(r.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(r)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var i,r,o;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=i[a];this._firingCount&&(s.fn=c,this._events[e]=i=i.slice()),i.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(r=0,o=i.length;r<o;r++)i[r].fn=c;delete this._events[e]}},fire:function(e,t,i){if(!this.listens(e,i))return this;var r=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(e,t,n,i){"string"!==typeof e&&console.warn('"string" type argument expected');var r=t;"function"!==typeof t&&(i=!!t,r=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,r,n))return!0;if(i)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,i))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var i=this._events[e]||[];if(!t)return!!i.length;n===this&&(n=void 0);for(var r=0,o=i.length;r<o;r++)if(i[r].fn===t&&i[r].ctx===n)return r;return!1},once:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t,!0);else for(var r=0,o=(e=h(e)).length;r<o;r++)this._on(e[r],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var M=P.extend(I);function T(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var z=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function A(e,t,n){return e instanceof T?e:y(e)?new T(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new T(e.x,e.y):new T(e,t,n)}function R(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function O(e,t){return!e||e instanceof R?e:new R(e,t)}function B(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function D(e,t){return e instanceof B?e:new B(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function H(e,t,n){return e instanceof F?e:y(e)&&"object"!==typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}T.prototype={clone:function(){return new T(this.x,this.y)},add:function(e){return this.clone()._add(A(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(A(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new T(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new T(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(e){var t=(e=A(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=A(e)).x===this.x&&e.y===this.y},contains:function(e){return e=A(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},R.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof T||"number"===typeof e[0]||"x"in e)t=n=A(e);else if(t=(e=O(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof T?A(e):O(e))instanceof R?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=O(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>=t.x&&i.x<=n.x,a=r.y>=t.y&&i.y<=n.y;return o&&a},overlaps:function(e){e=O(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>t.x&&i.x<n.x,a=r.y>t.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,i=Math.abs(t.x-n.x)*e,r=Math.abs(t.y-n.y)*e;return O(A(t.x-i,t.y-r),A(n.x+i,n.y+r))},equals:function(e){return!!e&&(e=O(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},B.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof B))return e?this.extend(H(e)||D(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new B(new F(t.lat-i,t.lng-r),new F(n.lat+i,n.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof F||"lat"in e?H(e):D(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof B?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=D(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>=t.lat&&i.lat<=n.lat,a=r.lng>=t.lng&&i.lng<=n.lng;return o&&a},overlaps:function(e){e=D(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>t.lat&&i.lat<n.lat,a=r.lng>t.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=D(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=H(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return $.distance(this,H(e))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return D([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var Z={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new R(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new B(new F(o.lat-i,o.lng-r),new F(a.lat-i,a.lng-r))}},$=n({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),W=6378137,V={R:W,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new T(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=W*Math.PI;return new R([-e,-e],[e,e])}()};function U(e,t,n,i){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function q(e,t,n,i){return new U(e,t,n,i)}U.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new T((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G=n({},$,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return q(e,.5,-e,.5)}()}),Y=n({},G,{code:"EPSG:900913"});function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){var n,i,r,o,a,s,l="";for(n=0,r=e.length;n<r;n++){for(i=0,o=(a=e[n]).length;i<o;i++)l+=(i?"L":"M")+(s=a[i]).x+" "+s.y;l+=t?Re.svg?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,Q="ActiveXObject"in window,ee=Q&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Ae("webkit"),ie=Ae("android"),re=Ae("android 2")||Ae("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=ie&&Ae("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Ae("chrome"),ce=Ae("gecko")&&!ne&&!se&&!Q,ue=!le&&Ae("safari"),de=Ae("phantom"),he="OTransition"in J,pe=0===navigator.platform.indexOf("Win"),fe=Q&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ge="MozPerspective"in J,ye=!window.L_DISABLE_3D&&(fe||me||ge)&&!he&&!de,ve="undefined"!==typeof orientation||Ae("mobile"),be=ve&&ne,_e=ve&&me,xe=!window.PointerEvent&&window.MSPointerEvent,we=!(!window.PointerEvent&&!xe),ke="ontouchstart"in window||!!window.TouchEvent,Se=!window.L_NO_TOUCH&&(ke||we),Ce=ve&&se,Ee=ve&&ce,Ne=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),je=!!document.createElement("canvas").getContext,Ie=!(!document.createElementNS||!K("svg").createSVGRect),Me=!!Ie&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Te=!Ie&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Le=0===navigator.platform.indexOf("Mac"),ze=0===navigator.platform.indexOf("Linux");function Ae(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Re={ie:Q,ielt9:ee,edge:te,webkit:ne,android:ie,android23:re,androidStock:ae,opera:se,chrome:le,gecko:ce,safari:ue,phantom:de,opera12:he,win:pe,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ye,mobile:ve,mobileWebkit:be,mobileWebkit3d:_e,msPointer:xe,pointer:we,touch:Se,touchNative:ke,mobileOpera:Ce,mobileGecko:Ee,retina:Ne,passiveEvents:Pe,canvas:je,svg:Ie,vml:Te,inlineSvg:Me,mac:Le,linux:ze},Oe=Re.msPointer?"MSPointerDown":"pointerdown",Be=Re.msPointer?"MSPointerMove":"pointermove",De=Re.msPointer?"MSPointerUp":"pointerup",Fe=Re.msPointer?"MSPointerCancel":"pointercancel",He={touchstart:Oe,touchmove:Be,touchend:De,touchcancel:Fe},Ze={touchstart:Je,touchmove:Xe,touchend:Xe,touchcancel:Xe},$e={},We=!1;function Ve(e,t,n){return"touchstart"===t&&Ke(),Ze[t]?(n=Ze[t].bind(this,n),e.addEventListener(He[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ue(e,t,n){He[t]?e.removeEventListener(He[t],n,!1):console.warn("wrong event specified:",t)}function qe(e){$e[e.pointerId]=e}function Ge(e){$e[e.pointerId]&&($e[e.pointerId]=e)}function Ye(e){delete $e[e.pointerId]}function Ke(){We||(document.addEventListener(Oe,qe,!0),document.addEventListener(Be,Ge,!0),document.addEventListener(De,Ye,!0),document.addEventListener(Fe,Ye,!0),We=!0)}function Xe(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],$e)t.touches.push($e[n]);t.changedTouches=[t],e(t)}}function Je(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&qt(t),Xe(e,t)}function Qe(e){var t,n,i={};for(n in e)t=e[n],i[n]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,i=0;function r(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var r=Yt(e);if(!r.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||r.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-i<=et?2===++n&&t(Qe(e)):n=1,i=o}}}else n=e.detail}return e.addEventListener("click",r),{dblclick:t,simDblclick:r}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var it,rt,ot,at,st,lt=Ct(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=Ct(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function dt(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function pt(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function ft(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function yt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function vt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=wt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function bt(e,t){if(void 0!==e.classList)for(var n=h(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!vt(e,t)){var o=wt(e);xt(e,(o?o+" ":"")+t)}}function _t(e,t){void 0!==e.classList?e.classList.remove(t):xt(e,d((" "+wt(e)+" ").replace(" "+t+" "," ")))}function xt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function wt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function kt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&St(e,t)}function St(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(r){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}function Ct(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Et(e,t,n){var i=t||new T(0,0);e.style[lt]=(Re.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Nt(e,t){e._leaflet_pos=t,Re.any3d?Et(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Pt(e){return e._leaflet_pos||new T(0,0)}if("onselectstart"in document)it=function(){Ot(window,"selectstart",qt)},rt=function(){Dt(window,"selectstart",qt)};else{var jt=Ct(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);it=function(){if(jt){var e=document.documentElement.style;ot=e[jt],e[jt]="none"}},rt=function(){jt&&(document.documentElement.style[jt]=ot,ot=void 0)}}function It(){Ot(window,"dragstart",qt)}function Mt(){Dt(window,"dragstart",qt)}function Tt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Lt(),at=e,st=e.style.outlineStyle,e.style.outlineStyle="none",Ot(window,"keydown",Lt))}function Lt(){at&&(at.style.outlineStyle=st,at=void 0,st=void 0,Dt(window,"keydown",Lt))}function zt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function At(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Rt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:dt,getStyle:ht,create:pt,remove:ft,empty:mt,toFront:gt,toBack:yt,hasClass:vt,addClass:bt,removeClass:_t,setClass:xt,getClass:wt,setOpacity:kt,testProp:Ct,setTransform:Et,setPosition:Nt,getPosition:Pt,get disableTextSelection(){return it},get enableTextSelection(){return rt},disableImageDrag:It,enableImageDrag:Mt,preventOutline:Tt,restoreOutline:Lt,getSizedParentNode:zt,getScale:At};function Ot(e,t,n,i){if(t&&"object"===typeof t)for(var r in t)Zt(e,r,t[r],n);else for(var o=0,a=(t=h(t)).length;o<a;o++)Zt(e,t[o],n,i);return this}var Bt="_leaflet_events";function Dt(e,t,n,i){if(1===arguments.length)Ft(e),delete e[Bt];else if(t&&"object"===typeof t)for(var r in t)$t(e,r,t[r],n);else if(t=h(t),2===arguments.length)Ft(e,(function(e){return-1!==v(t,e)}));else for(var o=0,a=t.length;o<a;o++)$t(e,t[o],n,i);return this}function Ft(e,t){for(var n in e[Bt]){var i=n.split(/\d/)[0];t&&!t(i)||$t(e,i,null,null,n)}}var Ht={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zt(e,t,n,i){var r=t+a(n)+(i?"_"+a(i):"");if(e[Bt]&&e[Bt][r])return this;var o=function(t){return n.call(i||e,t||window.event)},s=o;!Re.touchNative&&Re.pointer&&0===t.indexOf("touch")?o=Ve(e,t,o):Re.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ht[t]||t,o,!!Re.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Qt(e,t)&&s(t)},e.addEventListener(Ht[t],o,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,o),e[Bt]=e[Bt]||{},e[Bt][r]=o}function $t(e,t,n,i,r){r=r||t+a(n)+(i?"_"+a(i):"");var o=e[Bt]&&e[Bt][r];if(!o)return this;!Re.touchNative&&Re.pointer&&0===t.indexOf("touch")?Ue(e,t,o):Re.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Ht[t]||t,o,!1):e.detachEvent("on"+t,o),e[Bt][r]=null}function Wt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Vt(e){return Zt(e,"wheel",Wt),this}function Ut(e){return Ot(e,"mousedown touchstart dblclick contextmenu",Wt),e._leaflet_disable_click=!0,this}function qt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Gt(e){return qt(e),Wt(e),this}function Yt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Kt(e,t){if(!t)return new T(e.clientX,e.clientY);var n=At(t),i=n.boundingClientRect;return new T((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Xt=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jt(e){return Re.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Xt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Qt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(i){return!1}return n!==e}var en={__proto__:null,on:Ot,off:Dt,stopPropagation:Wt,disableScrollPropagation:Vt,disableClickPropagation:Ut,preventDefault:qt,stop:Gt,getPropagationPath:Yt,getMousePosition:Kt,getWheelDelta:Jt,isExternalTarget:Qt,addListener:Ot,removeListener:Dt},tn=M.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Pt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Nt(this._el,n),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=M.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(H(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,i){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(H(e),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,i.pan&&i.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),o=(e instanceof T?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():D(e);var n=A(t.paddingTopLeft||t.padding||[0,0]),i=A(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"===typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),r),s=this.project(e.getNorthEast(),r);return{center:this.unproject(a.add(s).divideBy(2).add(o),r),zoom:r}},fitBounds:function(e,t){if(!(e=D(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=A(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){bt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Re.any3d)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),r=this.project(e),o=this.getSize(),a=this._zoom;e=H(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,t),c=r.distanceTo(i)||1,u=1.42,d=u*u;function h(e){var t=(l*l-s*s+(e?-1:1)*d*d*c*c)/(2*(e?l:s)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return p(e)/f(e)}var g=h(0);function y(e){return s*(f(g)/f(g+u*e))}function v(e){return s*(f(g)*m(g+u*e)-p(g))/d}function b(e){return 1-Math.pow(1-e,1.5)}var _=Date.now(),x=(h(1)-g)/u,w=n.duration?1e3*n.duration:1e3*x*.8;function k(){var n=(Date.now()-_)/w,o=b(n)*x;n<=1?(this._flyToFrame=C(k,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(v(o)/c)),a),this.getScaleZoom(s/y(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),k.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=D(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,D(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=A((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=A(t.paddingBottomRight||t.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=O([a.min.add(n),a.max.subtract(i)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),u=s.extend(o).getSize().subtract(l);r.x+=c.x<0?-u.x:u.x,r.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(r),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=t.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ft(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new B(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=D(e),n=A(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=O(this.project(s,i),this.project(a,i)).getSize(),u=Re.any3d?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,p=t?Math.max(d,h):Math.min(d,h);return i=this.getScaleZoom(p,i),u&&(i=Math.round(i/(u/100))*(u/100),i=t?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new T(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(H(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(A(e),t)},layerPointToLatLng:function(e){var t=A(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(H(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(H(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(D(e))},distance:function(e,t){return this.options.crs.distance(H(e),H(t))},containerPointToLayerPoint:function(e){return A(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return A(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(A(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(H(e)))},mouseEventToContainerPoint:function(e){return Kt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=dt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Ot(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,bt(e,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Nt(this._mapPane,new T(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(e.markerPane,"leaflet-zoom-hide"),bt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Nt(this._mapPane,new T(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,n)._move(e,t)._moveEnd(r),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,i){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Nt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Dt:Ot;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(r&&!Qt(o,e))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||s||r||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Tt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,i){if("click"===e.type){var r=n({},e);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var o=this._findEventTargets(e,t);if(i){for(var a=[],s=0;s<i.length;s++)i[s].listens(t,!0)&&a.push(i[s]);o=a.concat(o)}if(o.length){"contextmenu"===t&&qt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(t,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Pt(this._mapPane)||new T(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return O([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),o=new R(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(i.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new R(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=O(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),o=i.max.subtract(e.max);return new T(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=Re.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=lt,n=this._proxy.style[t];Et(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Et(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(C((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=P.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return bt(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function i(i,r){var o=t+i+" "+t+r;e[i+r]=pt("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ft(this._controlCorners[e]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Ut(t),Vt(t);var i=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Ot(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=pt("a",e+"-toggle",t);r.href="#",r.title="Layers",r.setAttribute("role","button"),Ot(r,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){qt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",i),this._separator=pt("div",e+"-separator",i),this._overlaysList=pt("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(t),t.layerId=a(e.layer),Ot(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Ot(e,"click",qt),this.expand();var t=this;setTimeout((function(){Dt(e,"click",qt),t._preventClick=!1}))}}),ln=function(e,t,n){return new sn(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var o=pt("a",n,i);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Ut(o),Ot(o,"click",Gt),Ot(o,"click",r,this),Ot(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";_t(this._zoomInButton,t),_t(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(bt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(bt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var un=function(e){return new cn(e)},dn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new dn(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Ut(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var mn=function(e){return new fn(e)};on.Layers=sn,on.Zoom=cn,on.Scale=dn,on.Attribution=fn,an.layers=ln,an.zoom=un,an.scale=hn,an.attribution=mn;var gn=P.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var yn={Events:I},vn=Re.touch?"touchstart mousedown":"mousedown",bn=M.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){p(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Ot(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!vt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)bn._dragging===this&&this.finishDrag();else if(!(bn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(bn._dragging=this,this._preventOutline&&Tt(this._element),It(),it(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=zt(this._element);this._startPoint=new T(t.clientX,t.clientY),this._startPos=Pt(this._element),this._parentScale=At(n);var i="mousedown"===e.type;Ot(document,i?"mousemove":"touchmove",this._onMove,this),Ot(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new T(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,qt(e),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Nt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Mt(),rt();var t=this._moved&&this._moving;this._moving=!1,bn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function _n(e,t,n){var i,r,o,a,s,l,c,u,d,h=[1,4,2,8];for(r=0,c=e.length;r<c;r++)e[r]._code=Ln(e[r],t);for(a=0;a<4;a++){for(u=h[a],i=[],r=0,o=(c=e.length)-1;r<c;o=r++)s=e[r],l=e[o],s._code&u?l._code&u||((d=Tn(l,s,u,t,n))._code=Ln(d,t),i.push(d)):(l._code&u&&((d=Tn(l,s,u,t,n))._code=Ln(d,t),i.push(d)),i.push(s));e=i}return e}function xn(e,t){var n,i,r,o,a,s,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=H([0,0]),h=D(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=wn(e));var p=e.length,f=[];for(n=0;n<p;n++){var m=H(e[n]);f.push(t.project(H([m.lat-d.lat,m.lng-d.lng])))}for(s=l=c=0,n=0,i=p-1;n<p;i=n++)r=f[n],o=f[i],a=r.y*o.x-o.y*r.x,l+=(r.x+o.x)*a,c+=(r.y+o.y)*a,s+=3*a;u=0===s?f[0]:[l/s,c/s];var g=t.unproject(A(u));return H([g.lat+d.lat,g.lng+d.lng])}function wn(e){for(var t=0,n=0,i=0,r=0;r<e.length;r++){var o=H(e[r]);t+=o.lat,n+=o.lng,i++}return H([t/i,n/i])}var kn,Sn={__proto__:null,clipPolygon:_n,polygonCenter:xn,centroid:wn};function Cn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Pn(e=In(e,n),n)}function En(e,t,n){return Math.sqrt(An(e,t,n,!0))}function Nn(e,t,n){return An(e,t,n)}function Pn(e,t){var n=e.length,i=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,jn(e,i,t,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(e[r]);return o}function jn(e,t,n,i,r){var o,a,s,l=0;for(a=i+1;a<=r-1;a++)(s=An(e[a],e[i],e[r],!0))>l&&(o=a,l=s);l>n&&(t[o]=1,jn(e,t,n,i,o),jn(e,t,n,o,r))}function In(e,t){for(var n=[e[0]],i=1,r=0,o=e.length;i<o;i++)zn(e[i],e[r])>t&&(n.push(e[i]),r=i);return r<o-1&&n.push(e[o-1]),n}function Mn(e,t,n,i,r){var o,a,s,l=i?kn:Ln(e,n),c=Ln(t,n);for(kn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=Ln(a=Tn(e,t,o=l||c,n,r),n),o===l?(e=a,l=s):(t=a,c=s)}}function Tn(e,t,n,i,r){var o,a,s=t.x-e.x,l=t.y-e.y,c=i.min,u=i.max;return 8&n?(o=e.x+s*(u.y-e.y)/l,a=u.y):4&n?(o=e.x+s*(c.y-e.y)/l,a=c.y):2&n?(o=u.x,a=e.y+l*(u.x-e.x)/s):1&n&&(o=c.x,a=e.y+l*(c.x-e.x)/s),new T(o,a,r)}function Ln(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function zn(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function An(e,t,n,i){var r,o=t.x,a=t.y,s=n.x-o,l=n.y-a,c=s*s+l*l;return c>0&&((r=((e.x-o)*s+(e.y-a)*l)/c)>1?(o=n.x,a=n.y):r>0&&(o+=s*r,a+=l*r)),s=e.x-o,l=e.y-a,i?s*s+l*l:new T(o,a)}function Rn(e){return!y(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function On(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(e)}function Bn(e,t){var n,i,r,o,a,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=H([0,0]),d=D(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=wn(e));var h=e.length,p=[];for(n=0;n<h;n++){var f=H(e[n]);p.push(t.project(H([f.lat-u.lat,f.lng-u.lng])))}for(n=0,i=0;n<h-1;n++)i+=p[n].distanceTo(p[n+1])/2;if(0===i)c=p[0];else for(n=0,o=0;n<h-1;n++)if(a=p[n],s=p[n+1],(o+=r=a.distanceTo(s))>i){l=(o-i)/r,c=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var m=t.unproject(A(c));return H([m.lat+u.lat,m.lng+u.lng])}var Dn={__proto__:null,simplify:Cn,pointToSegmentDistance:En,closestPointOnSegment:Nn,clipSegment:Mn,_getEdgeIntersection:Tn,_getBitCode:Ln,_sqClosestPointOnSegment:An,isFlat:Rn,_flat:On,polylineCenter:Bn},Fn={project:function(e){return new T(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new R([-180,-90],[180,90])},Hn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new T(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new F(s*n,e.x*n/i)}},Zn={__proto__:null,LonLat:Fn,Mercator:Hn,SphericalMercator:V},$n=n({},$,{code:"EPSG:3395",projection:Hn,transformation:function(){var e=.5/(Math.PI*Hn.R);return q(e,.5,-e,.5)}()}),Wn=n({},$,{code:"EPSG:4326",projection:Fn,transformation:q(1/180,1,-1/180,.5)}),Vn=n({},Z,{projection:Fn,transformation:q(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Z.Earth=$,Z.EPSG3395=$n,Z.EPSG3857=G,Z.EPSG900913=Y,Z.EPSG4326=Wn,Z.Simple=Vn;var Un=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?y(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qn=Un.extend({initialize:function(e,t){var n,i;if(p(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Gn=function(e,t){return new qn(e,t)},Yn=qn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),qn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),qn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new B;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Kn=function(e,t){return new Yn(e,t)},Xn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"===typeof i&&(i=[i,i]);var r=A(i),o=A("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Re.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Jn(e){return new Xn(e)}var Qn=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Qn.imagePath&&(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+Xn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var i=t.exec(e);return i&&i[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ei=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new bn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=Pt(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=O(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!l.contains(o)){var c=A((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Nt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=Pt(t._icon),r=t._map.layerPointToLatLng(i);n&&Nt(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ti=Un.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=H(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),bt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(n,"focus",this._panOnFocus,this);var r=e.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(bt(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Nt(this._icon,e),this._shadow&&Nt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ei)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ei(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&kt(this._icon,e),this._shadow&&kt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?A(t.iconSize):A(0,0),i=t.iconAnchor?A(t.iconAnchor):A(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ni(e,t){return new ti(e,t)}var ii=Un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ri=ii.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=H(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=H(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ii.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new R(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function oi(e,t){return new ri(e,t)}var ai=ri.extend({initialize:function(e,t,i){if("number"===typeof t&&(t=n({},i,{radius:t})),p(this,t),this._latlng=H(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ii.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===$.distance){var r=Math.PI/180,o=this._mRadius/$.R/r,a=n.project([t+o,e]),s=n.project([t-o,e]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*r)-Math.sin(t*r)*Math.sin(c*r))/(Math.cos(t*r)*Math.cos(c*r)))/r;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-a.y}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function si(e,t,n){return new ai(e,t,n)}var li=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,o=An,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var d=o(e,t=l[c-1],n=l[c],!0);d<i&&(i=d,r=o(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=H(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new B,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Rn(e),i=0,r=e.length;i<r;i++)n?(t[i]=H(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new T(e,e);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var i,r,o=e[0]instanceof F,a=e.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,o,a,s,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=Mn(s[n],s[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=Cn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(a=(s=this._parts[n]).length)-1;i<a;r=i++)if((t||0!==i)&&En(e,s[r],s[i])<=l)return!0;return!1}});function ci(e,t){return new li(e,t)}li._flat=On;var ui=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=li.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){li.prototype._setLatLngs.call(this,e),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new T(t,t);if(e=new R(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=_n(this._rings[r],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,o,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,s=this._parts.length;r<s;r++)for(o=0,a=(l=(t=this._parts[r]).length)-1;o<l;a=o++)n=t[o],i=t[a],n.y>e.y!==i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||li.prototype._containsPoint.call(this,e,!0)}});function di(e,t){return new ui(e,t)}var hi=Yn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=y(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=pi(e,o);return a?(a.feature=_i(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pi(e,t){var n,i,r,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||mi;if(!s&&!a)return null;switch(a.type){case"Point":return fi(c,e,n=u(s),t);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=u(s[r]),l.push(fi(c,e,n,t));return new Yn(l);case"LineString":case"MultiLineString":return i=gi(s,"LineString"===a.type?0:1,u),new li(i,t);case"Polygon":case"MultiPolygon":return i=gi(s,"Polygon"===a.type?1:2,u),new ui(i,t);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var d=pi({geometry:a.geometries[r],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Yn(l);case"FeatureCollection":for(r=0,o=a.features.length;r<o;r++){var h=pi(a.features[r],t);h&&l.push(h)}return new Yn(l);default:throw new Error("Invalid GeoJSON object.")}}function fi(e,t,n,i){return e?e(t,n):new ti(n,i&&i.markersInheritOptions&&i)}function mi(e){return new F(e[1],e[0],e[2])}function gi(e,t,n){for(var i,r=[],o=0,a=e.length;o<a;o++)i=t?gi(e[o],t-1,n):(n||mi)(e[o]),r.push(i);return r}function yi(e,t){return void 0!==(e=H(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function vi(e,t,n,i){for(var r=[],o=0,a=e.length;o<a;o++)r.push(t?vi(e[o],Rn(e[o])?0:t-1,n,i):yi(e[o],i));return!t&&n&&r.length>0&&r.push(r[0].slice()),r}function bi(e,t){return e.feature?n({},e.feature,{geometry:t}):_i(t)}function _i(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var xi={toGeoJSON:function(e){return bi(this,{type:"Point",coordinates:yi(this.getLatLng(),e)})}};function wi(e,t){return new hi(e,t)}ti.include(xi),ai.include(xi),ri.include(xi),li.include({toGeoJSON:function(e){var t=!Rn(this._latlngs);return bi(this,{type:(t?"Multi":"")+"LineString",coordinates:vi(this._latlngs,t?1:0,!1,e)})}}),ui.include({toGeoJSON:function(e){var t=!Rn(this._latlngs),n=t&&!Rn(this._latlngs[0]),i=vi(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),bi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),qn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),bi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var o=_i(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}})),n?bi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var ki=wi,Si=Un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=D(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=D(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=r(this.fire,this,"load"),t.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Et(this._image,n,t)},_reset:function(){var e=this._image,t=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Nt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Ci=function(e,t,n){return new Si(e,t,n)},Ei=Si.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=r(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[t.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=pt("source");s.src=this._url[a],t.appendChild(s)}}}});function Ni(e,t,n){return new Ei(e,t,n)}var Pi=Si.extend({_initImage:function(){var e=this._image=this._url;bt(e,"leaflet-image-layer"),this._zoomAnimated&&bt(e,"leaflet-zoom-animated"),this.options.className&&bt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function ji(e,t,n){return new Pi(e,t,n)}var Ii=Un.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof F||y(e))?(this._latlng=H(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(r(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=H(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Yn){t=null;var n=this._source._layers;for(var i in n)if(n[i]._map){t=n[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=A(this.options.offset),n=this._getAnchor();this._zoomAnimated?Nt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,i){var r=t;return r instanceof e||(r=new e(i).setContent(t)),n&&r.setLatLng(n),r}}),Un.include({_initOverlay:function(e,t,n,i){var r=n;return r instanceof e?(p(r,i),r._source=this):(r=t&&!i?t:new e(i,this)).setContent(n),r}});var Mi=Ii.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ii.prototype.openOn.call(this,e)},onAdd:function(e){Ii.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",Wt))},onRemove:function(e){Ii.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",Wt))},getEvents:function(){var e=Ii.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Ut(t),Vt(this._contentNode),Ot(t,"contextmenu",Wt),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=pt("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(i,"click",(function(e){qt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&i>r?(t.height=r+"px",bt(e,o)):_t(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Nt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,r=new T(this._containerLeft,-n-this._containerBottom);r._add(Pt(this._container));var o=e.layerPointToContainerPoint(r),a=A(this.options.autoPanPadding),s=A(this.options.autoPanPaddingTopLeft||a),l=A(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),u=0,d=0;o.x+i+l.x>c.x&&(u=o.x+i-c.x+l.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+n+l.y>c.y&&(d=o.y+n-c.y+l.y),o.y-d-s.y<0&&(d=o.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ti=function(e,t){return new Mi(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Mi,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Un.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Mi,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Yn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Gt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof ii?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Li=Ii.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ii.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ii.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ii.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,r=this._container,o=i.latLngToContainerPoint(i.getCenter()),a=i.layerPointToContainerPoint(e),s=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,u=A(this.options.offset),d=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(A(t,n,!0)).add(u).add(d),_t(r,"leaflet-tooltip-right"),_t(r,"leaflet-tooltip-left"),_t(r,"leaflet-tooltip-top"),_t(r,"leaflet-tooltip-bottom"),bt(r,"leaflet-tooltip-"+s),Nt(r,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&kt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zi=function(e,t){return new Li(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Li,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Un.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Li,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Yn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Ot(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Ot(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ai=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=A(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Ri(e){return new Ai(e)}Xn.Default=Qn;var Oi=Un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ft(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof T?e:new T(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,o=n.length;r<o;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){kt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(e-r.loaded)/200);kt(r.el,o),o<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(E(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ft(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new T(+r,+o);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>i&&this._retainParent(r,o,a,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var a=new T(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=Math.round(t);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();Re.any3d?Et(e.el,r,i):Nt(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*i);return new R(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,l=new R(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new T(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=r.min.y;d<=r.max.y;d++)for(var h=r.min.x;h<=r.max.x;h++){var p=new T(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return D(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n);return[t.unproject(i,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new B(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new T(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ft(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){bt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Re.ielt9&&this.options.opacity<1&&kt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),r(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&C(r(this._tileReady,this,e,null,o)),Nt(o,n),this._tiles[i]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(kt(n.el,0),E(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(bt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new T(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new R(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Bi(e){return new Oi(e)}var Di=Oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Re.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Ot(n,"load",r(this._tileOnLoad,this,t,n)),Ot(n,"error",r(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Re.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=i),t["-y"]=i}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Re.ielt9?setTimeout(r(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=b;var n=this._tiles[e].coords;ft(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",b),Oi.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Oi.prototype._tileReady.call(this,e,t,n)}});function Fi(e,t){return new Di(e,t)}var Hi=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var i=n({},this.defaultWmsParams);for(var r in t)r in this.options||(i[r]=t[r]);var o=(t=p(this,t)).detectRetina&&Re.retina?2:1,a=this.getTileSize();i.width=a.x*o,i.height=a.y*o,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Di.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=O(n.project(t[0]),n.project(t[1])),r=i.min,o=i.max,a=(this._wmsVersion>=1.3&&this._crs===Wn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=Di.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Zi(e,t){return new Hi(e,t)}Di.WMS=Hi,Fi.wms=Zi;var $i=Un.extend({options:{padding:.1},initialize:function(e){p(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),o=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(e,t));Re.any3d?Et(this._container,o,n):Nt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new R(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wi=$i.extend({options:{tolerance:0},getEvents:function(){var e=$i.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ot(e,"mousemove",this._onMouseMove,this),Ot(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,ft(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){$i.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=Re.retina?2:1;Nt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){$i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;r.push(t)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,o,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],l[i?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(_t(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(bt(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Vi(e){return Re.canvas?new Wi(e):null}var Ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),qi={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($i.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Ui("shape");bt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Ui("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ft(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=Ui("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=y(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=Ui("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){yt(e._container)}},Gi=Re.vml?Ui:K,Yi=$i.extend({_initContainer:function(){this._container=Gi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){$i.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Nt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Gi("path");e.options.className&&bt(t,e.options.className),e.options.interactive&&bt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ft(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){yt(e._path)}});function Ki(e){return Re.svg||Re.vml?new Yi(e):null}Re.vml&&Yi.include(qi),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Vi(e)||Ki(e)}});var Xi=ui.extend({initialize:function(e,t){ui.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=D(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Ji(e,t){return new Xi(e,t)}Yi.create=Gi,Yi.pointsToPath=X,hi.geometryToLayer=pi,hi.coordsToLatLng=mi,hi.coordsToLatLngs=gi,hi.latLngToCoords=yi,hi.latLngsToCoords=vi,hi.getFeature=bi,hi.asFeature=_i,nn.mergeOptions({boxZoom:!0});var Qi=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),it(),It(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ot(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new R(this._point,this._startPoint),n=t.getSize();Nt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),_t(this._container,"leaflet-crosshair")),rt(),Mt(),Dt(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var t=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Qi),nn.mergeOptions({doubleClickZoom:!0});var er=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});nn.addInitHook("addHandler","doubleClickZoom",er),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var tr=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new bn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=D(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,o=(i+t+n)%e-t-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),d=c/(n.inertiaDeceleration*a),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),C((function(){t.panBy(h,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",tr),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nr=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ot(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=A(t).multiplyBy(3)),i.options.maxBounds&&(t=i._limitOffset(A(t),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(t)));i.panTo(r)}else i.panBy(t)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Gt(e)}}});nn.addInitHook("addHandler","keyboard",nr),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ir=gn.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Jt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Gt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ir);var rr=600;nn.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var or=gn.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new T(t.clientX,t.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",qt),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),rr),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Dt(document,"touchend",qt),Dt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new T(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",or),nn.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var ar=gn.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),qt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var s=r(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=C(s,this,!0),qt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ar),nn.BoxZoom=Qi,nn.DoubleClickZoom=er,nn.Drag=tr,nn.Keyboard=nr,nn.ScrollWheelZoom=ir,nn.TapHold=or,nn.TouchZoom=ar,e.Bounds=R,e.Browser=Re,e.CRS=Z,e.Canvas=Wi,e.Circle=ai,e.CircleMarker=ri,e.Class=P,e.Control=on,e.DivIcon=Ai,e.DivOverlay=Ii,e.DomEvent=en,e.DomUtil=Rt,e.Draggable=bn,e.Evented=M,e.FeatureGroup=Yn,e.GeoJSON=hi,e.GridLayer=Oi,e.Handler=gn,e.Icon=Xn,e.ImageOverlay=Si,e.LatLng=F,e.LatLngBounds=B,e.Layer=Un,e.LayerGroup=qn,e.LineUtil=Dn,e.Map=nn,e.Marker=ti,e.Mixin=yn,e.Path=ii,e.Point=T,e.PolyUtil=Sn,e.Polygon=ui,e.Polyline=li,e.Popup=Mi,e.PosAnimation=tn,e.Projection=Zn,e.Rectangle=Xi,e.Renderer=$i,e.SVG=Yi,e.SVGOverlay=Pi,e.TileLayer=Di,e.Tooltip=Li,e.Transformation=U,e.Util=N,e.VideoOverlay=Ei,e.bind=r,e.bounds=O,e.canvas=Vi,e.circle=si,e.circleMarker=oi,e.control=an,e.divIcon=Ri,e.extend=n,e.featureGroup=Kn,e.geoJSON=wi,e.geoJson=ki,e.gridLayer=Bi,e.icon=Jn,e.imageOverlay=Ci,e.latLng=H,e.latLngBounds=D,e.layerGroup=Gn,e.map=rn,e.marker=ni,e.point=A,e.polygon=di,e.polyline=ci,e.popup=Ti,e.rectangle=Ji,e.setOptions=p,e.stamp=a,e.svg=Ki,e.svgOverlay=ji,e.tileLayer=Fi,e.tooltip=zi,e.transformation=q,e.version=t,e.videoOverlay=Ni;var sr=window.L;e.noConflict=function(){return window.L=sr,this},window.L=e}(t)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function x(e){if(g=!1,_(e),!m)if(null!==i(c))m=!0,L(w);else{var t=i(u);null!==t&&z(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,v(E),E=-1),f=!0;var o=p;try{for(_(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(c)&&r(c),_(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var d=i(u);null!==d&&z(x,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,E=-1,N=5,P=-1;function j(){return!(t.unstable_now()-P<N)}function I(){if(null!==C){var e=t.unstable_now();P=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,T=M.port2;M.port1.onmessage=I,k=function(){T.postMessage(null)}}else k=function(){y(I,0)};function L(e){C=e,S||(S=!0,k())}function z(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(g?(v(E),E=-1):g=!0,z(x,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,L(w))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},330:(e,t,n)=>{"use strict";var i=n(43);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useState,a=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(i){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,u=i[1];return s((function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})}),[e,n,t]),a((function(){return c(r)&&u({inst:r}),e((function(){c(r)&&u({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},391:(e,t,n)=>{"use strict";var i=n(950);t.H=i.createRoot,i.hydrateRoot},443:(e,t,n)=>{"use strict";e.exports=n(717)},461:(e,t,n)=>{"use strict";e.exports=n(330)},497:(e,t,n)=>{"use strict";var i=n(218);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},556:(e,t,n)=>{"use strict";var i=n(43);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=null,a=0;function s(e,t){if(0!==t.length)if(512<t.length)0<a&&(e.enqueue(new Uint8Array(o.buffer,0,a)),o=new Uint8Array(512),a=0),e.enqueue(t);else{var n=o.length-a;n<t.length&&(0===n?e.enqueue(o):(o.set(t.subarray(0,n),a),e.enqueue(o),t=t.subarray(n)),o=new Uint8Array(512),a=0),o.set(t,a),a+=t.length}}function l(e,t){return s(e,t),!0}function c(e){o&&0<a&&(e.enqueue(new Uint8Array(o.buffer,0,a)),o=null,a=0)}var u=new TextEncoder;function d(e){return u.encode(e)}function h(e){return u.encode(e)}function p(e,t){"function"===typeof e.error?e.error(t):e.close()}var f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(e){return!!f.call(y,e)||!f.call(g,e)&&(m.test(e)?y[e]=!0:(g[e]=!0,!1))}function b(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,w);_[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,w);_[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,w);_[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S=["Webkit","ms","Moz","O"];Object.keys(k).forEach((function(e){S.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),k[t]=k[e]}))}));var C=/["'&<>]/;function E(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=C.exec(e);if(t){var n,i="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(i+=e.substring(r,n)),r=n+1,i+=t}e=r!==n?i+e.substring(r,n):i}return e}var N=/([A-Z])/g,P=/^ms-/,j=Array.isArray,I=h("<script>"),M=h("<\/script>"),T=h('<script src="'),L=h('<script type="module" src="'),z=h('" async=""><\/script>'),A=/(<\/|<)(s)(cript)/gi;function R(e,t,n,i){return t+("s"===n?"\\u0073":"\\u0053")+i}function O(e,t){return{insertionMode:e,selectedValue:t}}var B=h("\x3c!-- --\x3e");function D(e,t,n,i){return""===t?i:(i&&e.push(B),e.push(d(E(t))),!0)}var F=new Map,H=h(' style="'),Z=h(":"),$=h(";");function W(e,t,n){if("object"!==typeof n)throw Error(r(62));for(var i in t=!0,n)if(f.call(n,i)){var o=n[i];if(null!=o&&"boolean"!==typeof o&&""!==o){if(0===i.indexOf("--")){var a=d(E(i));o=d(E((""+o).trim()))}else{a=i;var s=F.get(a);void 0!==s||(s=h(E(a.replace(N,"-$1").toLowerCase().replace(P,"-ms-"))),F.set(a,s)),a=s,o="number"===typeof o?0===o||f.call(k,i)?d(""+o):d(o+"px"):d(E((""+o).trim()))}t?(t=!1,e.push(H,a,Z,o)):e.push($,a,Z,o)}}t||e.push(q)}var V=h(" "),U=h('="'),q=h('"'),G=h('=""');function Y(e,t,n,i){switch(n){case"style":return void W(e,t,i);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=_.hasOwnProperty(n)?_[n]:null)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=d(t.attributeName),t.type){case 3:i&&e.push(V,n,G);break;case 4:!0===i?e.push(V,n,G):!1!==i&&e.push(V,n,U,d(E(i)),q);break;case 5:isNaN(i)||e.push(V,n,U,d(E(i)),q);break;case 6:!isNaN(i)&&1<=i&&e.push(V,n,U,d(E(i)),q);break;default:t.sanitizeURL&&(i=""+i),e.push(V,n,U,d(E(i)),q)}}else if(v(n)){switch(typeof i){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(V,d(n),U,d(E(i)),q)}}var K=h(">"),X=h("/>");function J(e,t,n){if(null!=t){if(null!=n)throw Error(r(60));if("object"!==typeof t||!("__html"in t))throw Error(r(61));null!==(t=t.__html)&&void 0!==t&&e.push(d(""+t))}}var Q=h(' selected=""');function ee(e,t,n,i){e.push(re(n));var r,o=n=null;for(r in t)if(f.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Y(e,i,r,a)}}return e.push(K),J(e,o,n),"string"===typeof n?(e.push(d(E(n))),null):n}var te=h("\n"),ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ie=new Map;function re(e){var t=ie.get(e);if(void 0===t){if(!ne.test(e))throw Error(r(65,e));t=h("<"+e),ie.set(e,t)}return t}var oe=h("<!DOCTYPE html>");function ae(e,t,n,o,a){switch(t){case"select":e.push(re("select"));var s=null,l=null;for(p in n)if(f.call(n,p)){var c=n[p];if(null!=c)switch(p){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"defaultValue":case"value":break;default:Y(e,o,p,c)}}return e.push(K),J(e,l,s),s;case"option":l=a.selectedValue,e.push(re("option"));var u=c=null,h=null,p=null;for(s in n)if(f.call(n,s)){var m=n[s];if(null!=m)switch(s){case"children":c=m;break;case"selected":h=m;break;case"dangerouslySetInnerHTML":p=m;break;case"value":u=m;default:Y(e,o,s,m)}}if(null!=l)if(n=null!==u?""+u:function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(c),j(l)){for(o=0;o<l.length;o++)if(""+l[o]===n){e.push(Q);break}}else""+l===n&&e.push(Q);else h&&e.push(Q);return e.push(K),J(e,p,c),c;case"textarea":for(c in e.push(re("textarea")),p=l=s=null,n)if(f.call(n,c)&&null!=(u=n[c]))switch(c){case"children":p=u;break;case"value":s=u;break;case"defaultValue":l=u;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:Y(e,o,c,u)}if(null===s&&null!==l&&(s=l),e.push(K),null!=p){if(null!=s)throw Error(r(92));if(j(p)&&1<p.length)throw Error(r(93));s=""+p}return"string"===typeof s&&"\n"===s[0]&&e.push(te),null!==s&&e.push(d(E(""+s))),null;case"input":for(l in e.push(re("input")),u=p=c=s=null,n)if(f.call(n,l)&&null!=(h=n[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":u=h;break;case"defaultValue":c=h;break;case"checked":p=h;break;case"value":s=h;break;default:Y(e,o,l,h)}return null!==p?Y(e,o,"checked",p):null!==u&&Y(e,o,"checked",u),null!==s?Y(e,o,"value",s):null!==c&&Y(e,o,"value",c),e.push(X),null;case"menuitem":for(var g in e.push(re("menuitem")),n)if(f.call(n,g)&&null!=(s=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:Y(e,o,g,s)}return e.push(K),null;case"title":for(m in e.push(re("title")),s=null,n)if(f.call(n,m)&&null!=(l=n[m]))switch(m){case"children":s=l;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:Y(e,o,m,l)}return e.push(K),s;case"listing":case"pre":for(u in e.push(re(t)),l=s=null,n)if(f.call(n,u)&&null!=(c=n[u]))switch(u){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;default:Y(e,o,u,c)}if(e.push(K),null!=l){if(null!=s)throw Error(r(60));if("object"!==typeof l||!("__html"in l))throw Error(r(61));null!==(n=l.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push(te,d(n)):e.push(d(""+n)))}return"string"===typeof s&&"\n"===s[0]&&e.push(te),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(re(t)),n)if(f.call(n,y)&&null!=(s=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,t));default:Y(e,o,y,s)}return e.push(X),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,n,t,o);case"html":return 0===a.insertionMode&&e.push(oe),ee(e,n,t,o);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return ee(e,n,t,o);for(h in e.push(re(t)),l=s=null,n)if(f.call(n,h)&&null!=(c=n[h]))switch(h){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"style":W(e,o,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:v(h)&&"function"!==typeof c&&"symbol"!==typeof c&&e.push(V,d(h),U,d(E(c)),q)}return e.push(K),J(e,l,s),s}}var se=h("</"),le=h(">"),ce=h('<template id="'),ue=h('"></template>'),de=h("\x3c!--$--\x3e"),he=h('\x3c!--$?--\x3e<template id="'),pe=h('"></template>'),fe=h("\x3c!--$!--\x3e"),me=h("\x3c!--/$--\x3e"),ge=h("<template"),ye=h('"'),ve=h(' data-dgst="');h(' data-msg="'),h(' data-stck="');var be=h("></template>");function _e(e,t,n){if(s(e,he),null===n)throw Error(r(395));return s(e,n),l(e,pe)}var xe=h('<div hidden id="'),we=h('">'),ke=h("</div>"),Se=h('<svg aria-hidden="true" style="display:none" id="'),Ce=h('">'),Ee=h("</svg>"),Ne=h('<math aria-hidden="true" style="display:none" id="'),Pe=h('">'),je=h("</math>"),Ie=h('<table hidden id="'),Me=h('">'),Te=h("</table>"),Le=h('<table hidden><tbody id="'),ze=h('">'),Ae=h("</tbody></table>"),Re=h('<table hidden><tr id="'),Oe=h('">'),Be=h("</tr></table>"),De=h('<table hidden><colgroup id="'),Fe=h('">'),He=h("</colgroup></table>");var Ze=h('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),$e=h('$RS("'),We=h('","'),Ve=h('")<\/script>'),Ue=h('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),qe=h('$RC("'),Ge=h('","'),Ye=h('")<\/script>'),Ke=h('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Xe=h('$RX("'),Je=h('"'),Qe=h(")<\/script>"),et=h(","),tt=/[<\u2028\u2029]/g;function nt(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var it=Object.assign,rt=Symbol.for("react.element"),ot=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),ut=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),gt=Symbol.for("react.scope"),yt=Symbol.for("react.debug_trace_mode"),vt=Symbol.for("react.legacy_hidden"),bt=Symbol.for("react.default_value"),_t=Symbol.iterator;function xt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case at:return"Fragment";case ot:return"Portal";case lt:return"Profiler";case st:return"StrictMode";case ht:return"Suspense";case pt:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ut:return(e.displayName||"Context")+".Consumer";case ct:return(e._context.displayName||"Context")+".Provider";case dt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return null!==(t=e.displayName||null)?t:xt(e.type)||"Memo";case mt:t=e._payload,e=e._init;try{return xt(e(t))}catch(n){}}return null}var wt={};function kt(e,t){if(!(e=e.contextTypes))return wt;var n,i={};for(n in e)i[n]=t[n];return i}var St=null;function Ct(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));Ct(e,n)}t.context._currentValue=t.value}}function Et(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Et(e)}function Nt(e){var t=e.parent;null!==t&&Nt(t),e.context._currentValue=e.value}function Pt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(r(402));e.depth===t.depth?Ct(e,t):Pt(e,t)}function jt(e,t){var n=t.parent;if(null===n)throw Error(r(402));e.depth===n.depth?Ct(e,n):jt(e,n),t.context._currentValue=t.value}function It(e){var t=St;t!==e&&(null===t?Nt(e):null===e?Et(t):t.depth===e.depth?Ct(t,e):t.depth>e.depth?Pt(t,e):jt(t,e),St=e)}var Mt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Tt(e,t,n,i){var r=void 0!==e.state?e.state:null;e.updater=Mt,e.props=n,e.state=r;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue:i,"function"===typeof(a=t.getDerivedStateFromProps)&&(r=null===(a=a(n,r))||void 0===a?r:it({},r,a),e.state=r),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Mt.enqueueReplaceState(e,e.state,null),null!==o.queue&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&1===t.length)e.state=t[0];else{for(o=a?t[0]:e.state,r=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,o,n,i):s)&&(r?(r=!1,o=it({},o,s)):it(o,s))}e.state=o}else o.queue=null}var Lt={id:1,overflow:""};function zt(e,t,n){var i=e.id;e=e.overflow;var r=32-At(i)-1;i&=~(1<<r),n+=1;var o=32-At(t)+r;if(30<o){var a=r-r%5;return o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,{id:1<<32-At(t)+r|n<<r|i,overflow:o+e}}return{id:1<<o|n<<r|i,overflow:e}}var At=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Rt(e)/Ot|0)|0},Rt=Math.log,Ot=Math.LN2;var Bt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Dt=null,Ft=null,Ht=null,Zt=null,$t=!1,Wt=!1,Vt=0,Ut=null,qt=0;function Gt(){if(null===Dt)throw Error(r(321));return Dt}function Yt(){if(0<qt)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Kt(){return null===Zt?null===Ht?($t=!1,Ht=Zt=Yt()):($t=!0,Zt=Ht):null===Zt.next?($t=!1,Zt=Zt.next=Yt()):($t=!0,Zt=Zt.next),Zt}function Xt(){Ft=Dt=null,Wt=!1,Ht=null,qt=0,Zt=Ut=null}function Jt(e,t){return"function"===typeof t?t(e):t}function Qt(e,t,n){if(Dt=Gt(),Zt=Kt(),$t){var i=Zt.queue;if(t=i.dispatch,null!==Ut&&void 0!==(n=Ut.get(i))){Ut.delete(i),i=Zt.memoizedState;do{i=e(i,n.action),n=n.next}while(null!==n);return Zt.memoizedState=i,[i,t]}return[Zt.memoizedState,t]}return e=e===Jt?"function"===typeof t?t():t:void 0!==n?n(t):t,Zt.memoizedState=e,e=(e=Zt.queue={last:null,dispatch:null}).dispatch=tn.bind(null,Dt,e),[Zt.memoizedState,e]}function en(e,t){if(Dt=Gt(),t=void 0===t?null:t,null!==(Zt=Kt())){var n=Zt.memoizedState;if(null!==n&&null!==t){var i=n[1];e:if(null===i)i=!1;else{for(var r=0;r<i.length&&r<t.length;r++)if(!Bt(t[r],i[r])){i=!1;break e}i=!0}if(i)return n[0]}}return e=e(),Zt.memoizedState=[e,t],e}function tn(e,t,n){if(25<=qt)throw Error(r(301));if(e===Dt)if(Wt=!0,e={action:n,next:null},null===Ut&&(Ut=new Map),void 0===(n=Ut.get(t)))Ut.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function nn(){throw Error(r(394))}function rn(){}var on={readContext:function(e){return e._currentValue},useContext:function(e){return Gt(),e._currentValue},useMemo:en,useReducer:Qt,useRef:function(e){Dt=Gt();var t=(Zt=Kt()).memoizedState;return null===t?(e={current:e},Zt.memoizedState=e):t},useState:function(e){return Qt(Jt,e)},useInsertionEffect:rn,useLayoutEffect:function(){},useCallback:function(e,t){return en((function(){return e}),t)},useImperativeHandle:rn,useEffect:rn,useDebugValue:rn,useDeferredValue:function(e){return Gt(),e},useTransition:function(){return Gt(),[!1,nn]},useId:function(){var e=Ft.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-At(e)-1)).toString(32)+t;var n=an;if(null===n)throw Error(r(404));return t=Vt++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Gt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(r(407));return n()}},an=null,sn=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ln(e){return console.error(e),null}function cn(){}function un(e,t,n,i,r,o,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&Cn(e)},blockedBoundary:n,blockedSegment:i,abortSet:r,legacyContext:o,context:a,treeContext:s};return r.add(l),l}function dn(e,t,n,i,r,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:n,lastPushedText:r,textEmbedded:o}}function hn(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function pn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,p(e.destination,t)):(e.status=1,e.fatalError=t)}function fn(e,t,n,i,r){for(Dt={},Ft=t,Vt=0,e=n(i,r);Wt;)Wt=!1,Vt=0,qt+=1,Zt=null,e=n(i,r);return Xt(),e}function mn(e,t,n,i){var o=n.render(),a=i.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof n.getChildContext)i=s;else{for(var l in n=n.getChildContext())if(!(l in a))throw Error(r(108,xt(i)||"Unknown",l));i=it({},s,n)}t.legacyContext=i,vn(e,t,o),t.legacyContext=s}else vn(e,t,o)}function gn(e,t){if(e&&e.defaultProps){for(var n in t=it({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function yn(e,t,n,i,o){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){o=kt(n,t.legacyContext);var a=n.contextType;Tt(a=new n(i,"object"===typeof a&&null!==a?a._currentValue:o),n,i,o),mn(e,t,a,n)}else{o=fn(e,t,n,i,a=kt(n,t.legacyContext));var s=0!==Vt;if("object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof)Tt(o,n,i,a),mn(e,t,o,n);else if(s){i=t.treeContext,t.treeContext=zt(i,1,0);try{vn(e,t,o)}finally{t.treeContext=i}}else vn(e,t,o)}else{if("string"!==typeof n){switch(n){case vt:case yt:case st:case lt:case at:case pt:return void vn(e,t,i.children);case gt:throw Error(r(343));case ht:e:{n=t.blockedBoundary,o=t.blockedSegment,a=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},c=dn(0,o.chunks.length,l,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=dn(0,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=u;try{if(_n(e,t,i),u.lastPushedText&&u.textEmbedded&&u.chunks.push(B),u.status=1,kn(l,u),0===l.pendingTasks)break e}catch(h){u.status=4,l.forceClientRender=!0,l.errorDigest=hn(e,h)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=un(e,a,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case dt:if(i=fn(e,t,n.render,i,o),0!==Vt){n=t.treeContext,t.treeContext=zt(n,1,0);try{vn(e,t,i)}finally{t.treeContext=n}}else vn(e,t,i);return;case ft:return void yn(e,t,n=n.type,i=gn(n,i),o);case ct:if(o=i.children,n=n._context,i=i.value,a=n._currentValue,n._currentValue=i,St=i={parent:s=St,depth:null===s?0:s.depth+1,context:n,parentValue:a,value:i},t.context=i,vn(e,t,o),null===(e=St))throw Error(r(403));return i=e.parentValue,e.context._currentValue=i===bt?e.context._defaultValue:i,e=St=e.parent,void(t.context=e);case ut:return void vn(e,t,i=(i=i.children)(n._currentValue));case mt:return void yn(e,t,n=(o=n._init)(n._payload),i=gn(n,i),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(a=ae((o=t.blockedSegment).chunks,n,i,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=function(e,t,n){switch(t){case"select":return O(1,null!=n.value?n.value:n.defaultValue);case"svg":return O(2,null);case"math":return O(3,null);case"foreignObject":return O(1,null);case"table":return O(4,null);case"thead":case"tbody":case"tfoot":return O(5,null);case"colgroup":return O(7,null);case"tr":return O(6,null)}return 4<=e.insertionMode||0===e.insertionMode?O(1,null):e}(s,n,i),_n(e,t,a),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(se,d(n),le)}o.lastPushedText=!1}}function vn(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case rt:return void yn(e,t,n.type,n.props,n.ref);case ot:throw Error(r(257));case mt:var i=n._init;return void vn(e,t,n=i(n._payload))}if(j(n))return void bn(e,t,n);if(null===n||"object"!==typeof n?i=null:i="function"===typeof(i=_t&&n[_t]||n["@@iterator"])?i:null,i&&(i=i.call(n))){if(!(n=i.next()).done){var o=[];do{o.push(n.value),n=i.next()}while(!n.done);bn(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(i=t.blockedSegment).lastPushedText=D(t.blockedSegment.chunks,n,e.responseState,i.lastPushedText):"number"===typeof n&&((i=t.blockedSegment).lastPushedText=D(t.blockedSegment.chunks,""+n,e.responseState,i.lastPushedText))}function bn(e,t,n){for(var i=n.length,r=0;r<i;r++){var o=t.treeContext;t.treeContext=zt(o,i,r);try{_n(e,t,n[r])}finally{t.treeContext=o}}}function _n(e,t,n){var i=t.blockedSegment.formatContext,r=t.legacyContext,o=t.context;try{return vn(e,t,n)}catch(l){if(Xt(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=o,It(o),l;n=l;var a=t.blockedSegment,s=dn(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=un(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=r,t.context=o,It(o)}}function xn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Sn(this,t,e)}function wn(e,t,n){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===n?Error(r(432)):n,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return wn(e,t,n)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function kn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&kn(e,n)}else e.completedSegments.push(t)}function Sn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(r(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=cn,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&kn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(xn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(kn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function Cn(e){if(2!==e.status){var t=St,n=sn.current;sn.current=on;var i=an;an=e.responseState;try{var r,o=e.pingedTasks;for(r=0;r<o.length;r++){var a=o[r],s=e,l=a.blockedSegment;if(0===l.status){It(a.context);try{vn(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(B),a.abortSet.delete(a),l.status=1,Sn(s,a.blockedBoundary,l)}catch(p){if(Xt(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var c=a.ping;p.then(c,c)}else{a.abortSet.delete(a),l.status=4;var u=a.blockedBoundary,d=p,h=hn(s,d);if(null===u?pn(s,d):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=h,u.parentFlushed&&s.clientRenderedBoundaries.push(u))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}o.splice(0,r),null!==e.destination&&Mn(e,e.destination)}catch(p){hn(e,p),pn(e,p)}finally{an=i,sn.current=n,n===on&&It(t)}}}function En(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var i=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,s(t,ce),s(t,e.placeholderPrefix),s(t,e=d(i.toString(16))),l(t,ue);case 1:n.status=2;var o=!0;i=n.chunks;var a=0;n=n.children;for(var c=0;c<n.length;c++){for(o=n[c];a<o.index;a++)s(t,i[a]);o=Nn(e,t,o)}for(;a<i.length-1;a++)s(t,i[a]);return a<i.length&&(o=l(t,i[a])),o;default:throw Error(r(390))}}function Nn(e,t,n){var i=n.boundary;if(null===i)return En(e,t,n);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,l(t,fe),s(t,ge),i&&(s(t,ve),s(t,d(E(i))),s(t,ye)),l(t,be),En(e,t,n);else if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var o=e.responseState,a=o.nextSuspenseID++;o=h(o.boundaryPrefix+a.toString(16)),i=i.id=o,_e(t,e.responseState,i),En(e,t,n)}else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),_e(t,e.responseState,i.id),En(e,t,n);else{if(l(t,de),1!==(n=i.completedSegments).length)throw Error(r(391));Nn(e,t,n[0])}return l(t,me)}function Pn(e,t,n){return function(e,t,n,i){switch(n.insertionMode){case 0:case 1:return s(e,xe),s(e,t.segmentPrefix),s(e,d(i.toString(16))),l(e,we);case 2:return s(e,Se),s(e,t.segmentPrefix),s(e,d(i.toString(16))),l(e,Ce);case 3:return s(e,Ne),s(e,t.segmentPrefix),s(e,d(i.toString(16))),l(e,Pe);case 4:return s(e,Ie),s(e,t.segmentPrefix),s(e,d(i.toString(16))),l(e,Me);case 5:return s(e,Le),s(e,t.segmentPrefix),s(e,d(i.toString(16))),l(e,ze);case 6:return s(e,Re),s(e,t.segmentPrefix),s(e,d(i.toString(16))),l(e,Oe);case 7:return s(e,De),s(e,t.segmentPrefix),s(e,d(i.toString(16))),l(e,Fe);default:throw Error(r(397))}}(t,e.responseState,n.formatContext,n.id),Nn(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return l(e,ke);case 2:return l(e,Ee);case 3:return l(e,je);case 4:return l(e,Te);case 5:return l(e,Ae);case 6:return l(e,Be);case 7:return l(e,He);default:throw Error(r(397))}}(t,n.formatContext)}function jn(e,t,n){for(var i=n.completedSegments,o=0;o<i.length;o++)In(e,t,n,i[o]);if(i.length=0,e=e.responseState,i=n.id,n=n.rootSegmentID,s(t,e.startInlineScript),e.sentCompleteBoundaryFunction?s(t,qe):(e.sentCompleteBoundaryFunction=!0,s(t,Ue)),null===i)throw Error(r(395));return n=d(n.toString(16)),s(t,i),s(t,Ge),s(t,e.segmentPrefix),s(t,n),l(t,Ye)}function In(e,t,n,i){if(2===i.status)return!0;var o=i.id;if(-1===o){if(-1===(i.id=n.rootSegmentID))throw Error(r(392));return Pn(e,t,i)}return Pn(e,t,i),s(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?s(t,$e):(e.sentCompleteSegmentFunction=!0,s(t,Ze)),s(t,e.segmentPrefix),s(t,o=d(o.toString(16))),s(t,We),s(t,e.placeholderPrefix),s(t,o),l(t,Ve)}function Mn(e,t){o=new Uint8Array(512),a=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){Nn(e,t,n),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(n=0;n<i.length-1;n++)s(t,i[n]);n<i.length&&l(t,i[n])}var u,h=e.clientRenderedBoundaries;for(u=0;u<h.length;u++){var p=h[u];i=t;var f=e.responseState,m=p.id,g=p.errorDigest,y=p.errorMessage,v=p.errorComponentStack;if(s(i,f.startInlineScript),f.sentClientRenderFunction?s(i,Xe):(f.sentClientRenderFunction=!0,s(i,Ke)),null===m)throw Error(r(395));if(s(i,m),s(i,Je),(g||y||v)&&(s(i,et),s(i,d(nt(g||"")))),(y||v)&&(s(i,et),s(i,d(nt(y||"")))),v&&(s(i,et),s(i,d(nt(v)))),!l(i,Qe))return e.destination=null,u++,void h.splice(0,u)}h.splice(0,u);var b=e.completedBoundaries;for(u=0;u<b.length;u++)if(!jn(e,t,b[u]))return e.destination=null,u++,void b.splice(0,u);b.splice(0,u),c(t),o=new Uint8Array(512),a=0;var _=e.partialBoundaries;for(u=0;u<_.length;u++){var x=_[u];e:{h=e,p=t;var w=x.completedSegments;for(f=0;f<w.length;f++)if(!In(h,p,x,w[f])){f++,w.splice(0,f);var k=!1;break e}w.splice(0,f),k=!0}if(!k)return e.destination=null,u++,void _.splice(0,u)}_.splice(0,u);var S=e.completedBoundaries;for(u=0;u<S.length;u++)if(!jn(e,t,S[u]))return e.destination=null,u++,void S.splice(0,u);S.splice(0,u)}finally{c(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Tn(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return wn(n,e,t)})),n.clear(),null!==e.destination&&Mn(e,e.destination)}catch(i){hn(e,i),pn(e,i)}}t.renderToReadableStream=function(e,t){return new Promise((function(n,i){var r,o,a=new Promise((function(e,t){o=e,r=t})),s=function(e,t,n,i,r,o,a,s,l){var c=[],u=new Set;return(n=dn(t={destination:null,responseState:t,progressiveChunkSize:void 0===i?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?ln:r,onAllReady:void 0===o?cn:o,onShellReady:void 0===a?cn:a,onShellError:void 0===s?cn:s,onFatalError:void 0===l?cn:l},0,null,n,!1,!1)).parentFlushed=!0,e=un(t,e,null,n,u,wt,null,Lt),c.push(e),t}(e,function(e,t,n,i,r){e=void 0===e?"":e,t=void 0===t?I:h('<script nonce="'+E(t)+'">');var o=[];if(void 0!==n&&o.push(t,d((""+n).replace(A,R)),M),void 0!==i)for(n=0;n<i.length;n++)o.push(T,d(E(i[n])),z);if(void 0!==r)for(i=0;i<r.length;i++)o.push(L,d(E(r[i])),z);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:h(e+"P:"),segmentPrefix:h(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return O("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,p(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{Mn(s,e)}catch(t){hn(s,t),pn(s,t)}}},cancel:function(){Tn(s)}},{highWaterMark:0});e.allReady=a,n(e)}),(function(e){a.catch((function(){})),i(e)}),r);if(t&&t.signal){var l=t.signal,c=function(){Tn(s,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}Cn(s)}))},t.version="18.3.1"},579:(e,t,n)=>{"use strict";e.exports=n(153)},717:(e,t,n)=>{"use strict";var i=n(43),r=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,s=i.useRef,l=i.useEffect,c=i.useMemo,u=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=i(e),void 0!==r&&h.hasValue){var t=h.value;if(r(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=i(e);return void 0!==r&&r(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,i,r]);var p=a(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=p}),[p]),u(p),p}},730:(e,t,n)=>{"use strict";var i=n(43),r=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var R,O=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var D=!1;function F(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=V(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function Ce(e){if(e=br(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=xr(t),we(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function je(){}var Ie=!1;function Me(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Pe(e,t,n)}finally{Ie=!1,(null!==ke||null!==Se)&&(je(),Ne())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(u)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Le=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ue){Le=!1}function Ae(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Oe=null,Be=!1,De=null,Fe={onError:function(e){Re=!0,Oe=e}};function He(e,t,n,i,r,o,a,s,l){Re=!1,Oe=null,Ae.apply(Fe,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ze(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return We(r),e;if(a===i)return We(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ue(e):null}function Ue(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ue(e);if(null!==t)return t;e=e.sibling}return null}var qe=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Ke=r.unstable_requestPaint,Xe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=dt(s):0!==(o&=a)&&(i=dt(o))}else 0!==(a=n&~r)?i=dt(a):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,St,Ct,Et=!1,Nt=[],Pt=null,jt=null,It=null,Mt=new Map,Tt=new Map,Lt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ot(e){var t=vr(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);_e=i,n.target.dispatchEvent(i),_e=null,t.shift()}return!0}function Dt(e,t,n){Bt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Pt&&Bt(Pt)&&(Pt=null),null!==jt&&Bt(jt)&&(jt=null),null!==It&&Bt(It)&&(It=null),Mt.forEach(Dt),Tt.forEach(Dt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Zt(e){function t(t){return Ht(t,e)}if(0<Nt.length){Ht(Nt[0],e);for(var n=1;n<Nt.length;n++){var i=Nt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Pt&&Ht(Pt,e),null!==jt&&Ht(jt,e),null!==It&&Ht(It,e),Mt.forEach(t),Tt.forEach(t),n=0;n<Lt.length;n++)(i=Lt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Lt.shift()}var $t=_.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,n,i){var r=bt,o=$t.transition;$t.transition=null;try{bt=1,qt(e,t,n,i)}finally{bt=r,$t.transition=o}}function Ut(e,t,n,i){var r=bt,o=$t.transition;$t.transition=null;try{bt=4,qt(e,t,n,i)}finally{bt=r,$t.transition=o}}function qt(e,t,n,i){if(Wt){var r=Yt(e,t,n,i);if(null===r)Wi(e,t,i,Gt,n),At(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Pt=Rt(Pt,e,t,n,i,r),!0;case"dragenter":return jt=Rt(jt,e,t,n,i,r),!0;case"mouseover":return It=Rt(It,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Mt.set(o,Rt(Mt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Tt.set(o,Rt(Tt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(At(e,i),4&t&&-1<zt.indexOf(e)){for(;null!==r;){var o=br(r);if(null!==o&&xt(o),null===(o=Yt(e,t,n,i))&&Wi(e,t,i,Gt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Gt=null;function Yt(e,t,n,i){if(Gt=null,null!==(e=vr(e=xe(i))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,i=n.length,r="value"in Xt?Xt.value:Xt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Qt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=O({},cn,{view:0,detail:0}),hn=on(dn),pn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(O({},pn,{dataTransfer:0})),gn=on(O({},dn,{relatedTarget:0})),yn=on(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),_n=on(O({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var En=O({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(En),Pn=on(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=on(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=on(Mn),Ln=[9,13,27,32],zn=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var Rn=u&&"TextEvent"in window&&!An,On=u&&(!zn||An&&8<An&&11>=An),Bn=String.fromCharCode(32),Dn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Vn(e,t,n,i){Ee(i),0<(t=Ui(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Un=null,qn=null;function Gn(e){Bi(e,0)}function Yn(e){if(q(_r(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Qn="function"===typeof ei.oninput}Jn=Qn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Un&&(Un.detachEvent("onpropertychange",ni),qn=Un=null)}function ni(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Vn(t,qn,e,xe(e)),Me(Gn,t)}}function ii(e,t,n){"focusin"===e?(ti(),qn=n,(Un=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function oi(e,t){if("click"===e)return Yn(t)}function ai(e,t){if("input"===e||"change"===e)return Yn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var a=ui(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,yi=null,vi=null,bi=!1;function _i(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==G(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=Ui(yi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ki={},Si={};function Ci(e){if(ki[e])return ki[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return ki[e]=n[t];return e}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ei=Ci("animationend"),Ni=Ci("animationiteration"),Pi=Ci("animationstart"),ji=Ci("transitionend"),Ii=new Map,Mi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(e,t){Ii.set(e,t),l(t,[e])}for(var Li=0;Li<Mi.length;Li++){var zi=Mi[Li];Ti(zi.toLowerCase(),"on"+(zi[0].toUpperCase()+zi.slice(1)))}Ti(Ei,"onAnimationEnd"),Ti(Ni,"onAnimationIteration"),Ti(Pi,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(ji,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Oi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,c){if(He.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Oe;Re=!1,Oe=null,Be||(Be=!0,De=u)}}(i,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Oi(r,s,c),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Oi(r,s,c),o=l}}}if(Be)throw e=De,Be=!1,De=null,e}function Di(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||($i(t,e,2,!1),n.add(i))}function Fi(e,t,n){var i=0;t&&(i|=4),$i(n,e,i,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Zi(e){if(!e[Hi]){e[Hi]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ri.has(t)||Fi(t,!1,e),Fi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hi]||(t[Hi]=!0,Fi("selectionchange",!1,t))}}function $i(e,t,n,i){switch(Kt(t)){case 1:var r=Vt;break;case 4:r=Ut;break;default:r=qt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=vr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Me((function(){var i=o,r=xe(n),a=[];e:{var s=Ii.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Ei:case Ni:case Pi:l=yn;break;case ji:l=In;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Te(f,h))&&u.push(Vi(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,r),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(d=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:_r(l),p=null==c?s:_r(c),(s=new u(m,f+"leave",l,n,r)).target=d,s.relatedTarget=p,m=null,vr(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=qi(p))f++;for(p=0,m=h;m;m=qi(m))p++;for(;0<f-p;)u=qi(u),f--;for(;0<p-f;)h=qi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=qi(u),h=qi(h)}u=null}else u=null;null!==l&&Gi(a,s,l,u,!1),null!==c&&null!==d&&Gi(a,d,c,u,!0)}if("select"===(l=(s=i?_r(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Wn(s))if(Xn)g=ai;else{g=ri;var y=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oi);switch(g&&(g=g(e,i))?Vn(a,g,n,r):(y&&y(e,s,i),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=i?_r(i):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gi=y,yi=i,vi=null);break;case"focusout":vi=yi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,_i(a,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":_i(a,n,r)}var v;if(zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(v=en()):(Jt="value"in(Xt=r)?Xt.value:Xt.textContent,Zn=!0)),0<(y=Ui(i,b)).length&&(b=new _n(b,e,null,n,r),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Hn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!zn&&Fn(e,t)?(e=en(),Qt=Jt=Xt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Ui(i,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=v))}Bi(a,t)}))}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ui(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Te(e,n))&&i.unshift(Vi(e,o,r)),null!=(o=Te(e,t))&&i.push(Vi(e,o,r))),e=e.return}return i}function qi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Te(n,o))&&a.unshift(Vi(n,l,s)):r||null!=(l=Te(n,o))&&a.push(Vi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yi=/\r\n?/g,Ki=/\u0000|\uFFFD/g;function Xi(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Ki,"")}function Ji(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(o(425))}function Qi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Zt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,gr="__reactListeners$"+dr,yr="__reactHandles$"+dr;function vr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _r(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xr(e){return e[pr]||null}var wr=[],kr=-1;function Sr(e){return{current:e}}function Cr(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Er(e,t){kr++,wr[kr]=e.current,e.current=t}var Nr={},Pr=Sr(Nr),jr=Sr(!1),Ir=Nr;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Nr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Tr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){Cr(jr),Cr(Pr)}function zr(e,t,n){if(Pr.current!==Nr)throw Error(o(168));Er(Pr,t),Er(jr,n)}function Ar(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,$(e)||"Unknown",r));return O({},n,i)}function Rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Ir=Pr.current,Er(Pr,e),Er(jr,jr.current),!0}function Or(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Ar(e,t,Ir),i.__reactInternalMemoizedMergedChildContext=e,Cr(jr),Cr(Pr),Er(Pr,e)):Cr(jr),Er(jr,n)}var Br=null,Dr=!1,Fr=!1;function Hr(e){null===Br?Br=[e]:Br.push(e)}function Zr(){if(!Fr&&null!==Br){Fr=!0;var e=0,t=bt;try{var n=Br;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Br=null,Dr=!1}catch(r){throw null!==Br&&(Br=Br.slice(e+1)),qe(Qe,Zr),r}finally{bt=t,Fr=!1}}return null}var $r=[],Wr=0,Vr=null,Ur=0,qr=[],Gr=0,Yr=null,Kr=1,Xr="";function Jr(e,t){$r[Wr++]=Ur,$r[Wr++]=Vr,Vr=e,Ur=t}function Qr(e,t,n){qr[Gr++]=Kr,qr[Gr++]=Xr,qr[Gr++]=Yr,Yr=e;var i=Kr;e=Xr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Kr=1<<32-at(t)+r|n<<r|i,Xr=o+e}else Kr=1<<o|n<<r|i,Xr=e}function eo(e){null!==e.return&&(Jr(e,1),Qr(e,1,0))}function to(e){for(;e===Vr;)Vr=$r[--Wr],$r[Wr]=null,Ur=$r[--Wr],$r[Wr]=null;for(;e===Yr;)Yr=qr[--Gr],qr[Gr]=null,Xr=qr[--Gr],qr[Gr]=null,Kr=qr[--Gr],qr[Gr]=null}var no=null,io=null,ro=!1,oo=null;function ao(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Kr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=io;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=cr(n.nextSibling);var i=no;t&&so(e,t)?ao(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=cr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?cr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=cr(e.nextSibling)}function fo(){io=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function _o(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Oc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===k?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&bo(o)===t.type)?((i=r(t,n.props)).ref=yo(e,t,n),i.return=e,i):((i=zc(n.type,n.key,n.props,null,e.mode,i)).ref=yo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Ac(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=zc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case w:return(t=Bc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Ac(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,i):null;case w:return n.key===r?u(e,t,n,i):null;case T:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||A(n))return null!==r?null:d(e,t,n,i,null);vo(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case T:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||A(i))return d(t,e=e.get(n)||null,i,r,null);vo(t,i)}return null}function m(r,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(r,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(r,d),ro&&Jr(r,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(r,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return ro&&Jr(r,m),c}for(d=i(r,d);m<s.length;m++)null!==(g=f(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),ro&&Jr(r,m),c}function g(r,s,l,c){var u=A(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(r,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(r,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(r,m),ro&&Jr(r,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(r,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return ro&&Jr(r,g),u}for(m=i(r,m);!v.done;g++,v=l.next())null!==(v=f(m,r,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(r,e)})),ro&&Jr(r,g),u}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(i,u.sibling),(o=r(u,a.props.children)).return=i,i=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&bo(c)===u.type){n(i,u.sibling),(o=r(u,a.props)).ref=yo(i,u,a),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}a.type===k?((o=Ac(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=zc(a.type,a.key,a.props,null,i.mode,l)).ref=yo(i,o,a),l.return=i,i=l)}return s(i);case w:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Bc(a,i.mode,l)).return=i,i=o}return s(i);case T:return e(i,o,(u=a._init)(a._payload),l)}if(te(a))return m(i,o,a,l);if(A(a))return g(i,o,a,l);vo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Oc(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var xo=_o(!0),wo=_o(!1),ko=Sr(null),So=null,Co=null,Eo=null;function No(){Eo=Co=So=null}function Po(e){var t=ko.current;Cr(ko),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){So=e,Eo=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===So)throw Error(o(308));Co=e,So.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var To=null;function Lo(e){null===To?To=[e]:To.push(e)}function zo(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Lo(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ao(e,i)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ao(e,n)}return null===(r=i.interleaved)?(t.next=t,Lo(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ao(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Zo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,i){var r=e.updateQueue;Ro=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=O({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Vo={},Uo=Sr(Vo),qo=Sr(Vo),Go=Sr(Vo);function Yo(e){if(e===Vo)throw Error(o(174));return e}function Ko(e,t){switch(Er(Go,t),Er(qo,e),Er(Uo,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cr(Uo),Er(Uo,t)}function Xo(){Cr(Uo),Cr(qo),Cr(Go)}function Jo(e){Yo(Go.current);var t=Yo(Uo.current),n=le(t,e.type);t!==n&&(Er(qo,e),Er(Uo,n))}function Qo(e){qo.current===e&&(Cr(Uo),Cr(qo))}var ea=Sr(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ia(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ra=_.ReactCurrentDispatcher,oa=_.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function ga(e,t,n,i,r,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Qa:es,e=n(i,r),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ra.current=ts,e=n(i,r)}while(da)}if(ra.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function _a(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=la,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=i):c=c.next=h,sa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=i:c.next=l,si(i,t.memoizedState)||(bs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,sa.lanes|=a,Rl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function ka(){}function Sa(e,t){var n=sa,i=ba(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,bs=!0),i=i.queue,Ra(Na.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ma(9,Ea.bind(null,n,i,r,t),void 0,null),null===jl)throw Error(o(349));0!==(30&aa)||Ca(n,t,r)}return r}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,i){t.value=n,t.getSnapshot=i,Pa(t)&&ja(e)}function Na(e,t,n){return n((function(){Pa(t)&&ja(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function ja(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[t.memoizedState,e]}function Ma(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ta(){return ba().memoizedState}function La(e,t,n,i){var r=va();sa.flags|=e,r.memoizedState=Ma(1|t,n,void 0,void 0===i?null:i)}function za(e,t,n,i){var r=ba();i=void 0===i?null:i;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==i&&ma(i,a.deps))return void(r.memoizedState=Ma(t,n,o,i))}sa.flags|=e,r.memoizedState=Ma(1|t,n,o,i)}function Aa(e,t){return La(8390656,8,e,t)}function Ra(e,t){return za(2048,8,e,t)}function Oa(e,t){return za(4,2,e,t)}function Ba(e,t){return za(4,4,e,t)}function Da(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Da.bind(null,t,e),n)}function Ha(){}function Za(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ma(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ma(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(si(n,t)||(n=mt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=i}}function Ua(){return ba().memoizedState}function qa(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ka(t,n);else if(null!==(n=zo(e,t,n,i))){nc(n,e,i,ec()),Xa(n,t,i)}}function Ga(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ka(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var l=t.interleaved;return null===l?(r.next=r,Lo(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=zo(e,t,r,i))&&(nc(n,e,i,r=ec()),Xa(n,t,i))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ka(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Mo,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Qa={readContext:Mo,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:Aa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,Da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=va();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=qa.bind(null,sa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:Ha,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Va.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=sa,r=va();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&aa)||Ca(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Aa(Na.bind(null,i,a,e),[e]),i.flags|=2048,Ma(9,Ea.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=va(),t=jl.identifierPrefix;if(ro){var n=Xr;t=":"+t+"R"+(n=(Kr&~(1<<32-at(Kr)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Mo,useCallback:Za,useContext:Mo,useEffect:Ra,useImperativeHandle:Fa,useInsertionEffect:Oa,useLayoutEffect:Ba,useMemo:$a,useReducer:xa,useRef:Ta,useState:function(){return xa(_a)},useDebugValue:Ha,useDeferredValue:function(e){return Wa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(_a)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Ua,unstable_isNewReconciler:!1},ts={readContext:Mo,useCallback:Za,useContext:Mo,useEffect:Ra,useImperativeHandle:Fa,useInsertionEffect:Oa,useLayoutEffect:Ba,useMemo:$a,useReducer:wa,useRef:Ta,useState:function(){return wa(_a)},useDebugValue:Ha,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Wa(t,la.memoizedState,e)},useTransition:function(){return[wa(_a)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Sa,useId:Ua,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),o=Do(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,r))&&(nc(t,e,r,i),Ho(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),o=Do(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,r))&&(nc(t,e,r,i),Ho(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=Do(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fo(e,r,i))&&(nc(t,e,i,n),Ho(t,e,i))}};function os(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function as(e,t,n){var i=!1,r=Nr,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(r=Tr(t)?Ir:Pr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Mr(e,r):Nr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Mo(o):(o=Tr(t)?Ir:Pr.current,r.context=Mr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(is(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),$o(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",i=t;do{n+=H(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Vl=i),ds(0,t)},n}function fs(e,t,n){(n=Do(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof i&&(null===Ul?Ul=new Set([this]):Ul.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vs=_.ReactCurrentOwner,bs=!1;function _s(e,t,n,i){t.child=null===e?wo(t,null,n,i):xo(t,e.child,n,i)}function xs(e,t,n,i,r){n=n.render;var o=t.ref;return Io(t,r),i=ga(e,t,n,i,o,r),n=ya(),null===e||bs?(ro&&n&&eo(t),t.flags|=1,_s(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function ws(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Tc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Ws(e,t,r)}return t.flags|=1,(e=Lc(o,i)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(bs=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Ws(e,t,r);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,i,r)}function Ss(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Ll,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Ll,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Er(Ll,Tl),Tl|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Er(Ll,Tl),Tl|=i;return _s(e,t,r,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,i,r){var o=Tr(n)?Ir:Pr.current;return o=Mr(t,o),Io(t,r),n=ga(e,t,n,i,o,r),i=ya(),null===e||bs?(ro&&i&&eo(t),t.flags|=1,_s(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ws(e,t,r))}function Ns(e,t,n,i,r){if(Tr(n)){var o=!0;Rr(t)}else o=!1;if(Io(t,r),null===t.stateNode)$s(e,t),as(t,n,i),ls(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Mr(t,c=Tr(n)?Ir:Pr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&ss(t,a,i,c),Ro=!1;var h=t.memoizedState;a.state=h,$o(t,i,a,r),l=t.memoizedState,s!==i||h!==l||jr.current||Ro?("function"===typeof u&&(is(t,n,u,i),l=t.memoizedState),(s=Ro||os(t,n,s,i,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Bo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Mr(t,l=Tr(n)?Ir:Pr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,i,l),Ro=!1,h=t.memoizedState,a.state=h,$o(t,i,a,r);var f=t.memoizedState;s!==d||h!==f||jr.current||Ro?("function"===typeof p&&(is(t,n,p,i),f=t.memoizedState),(c=Ro||os(t,n,c,i,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ps(e,t,n,i,o,r)}function Ps(e,t,n,i,r,o){Cs(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Or(t,n,!1),Ws(e,t,o);i=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=i.state,r&&Or(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?zr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zr(0,t.context,!1),Ko(e,t.containerInfo)}function Is(e,t,n,i,r){return fo(),mo(r),t.flags|=256,_s(e,t,n,i),t.child}var Ms,Ts,Ls,zs,As={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var i,r=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Er(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,r,0,null),e=Ac(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=As,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ds(e,t,s,i=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Rc({mode:"visible",children:i.children},r,0,null),(a=Ac(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=As,a);if(0===(1&t.mode))return Ds(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ds(e,t,s,i=us(a=Error(o(419)),i,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(i=jl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Ao(e,r),nc(i,e,r,-1))}return mc(),Ds(e,t,s,i=us(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,io=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(qr[Gr++]=Kr,qr[Gr++]=Xr,qr[Gr++]=Yr,Kr=e.id,Xr=e.overflow,Yr=t),t=Bs(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(s){s=r.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=Lc(i,s):(s=Ac(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=As,r}return e=(s=e.child).sibling,r=Lc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ds(e,t,n,i){return null!==i&&mo(i),xo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),jo(e.return,t,n)}function Hs(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Zs(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(_s(e,t,i.children,n),0!==(2&(i=ea.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Er(ea,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Hs(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ta(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Us(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qs(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(t),null;case 1:case 17:return Tr(t.type)&&Lr(),Us(t),null;case 3:return i=t.stateNode,Xo(),Cr(jr),Cr(Pr),ia(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ts(e,t),Us(t),null;case 5:Qo(t);var r=Yo(Go.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Us(t),null}if(e=Yo(Uo.current),ho(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[hr]=t,i[pr]=a,e=0!==(1&t.mode),n){case"dialog":Di("cancel",i),Di("close",i);break;case"iframe":case"object":case"embed":Di("load",i);break;case"video":case"audio":for(r=0;r<Ai.length;r++)Di(Ai[r],i);break;case"source":Di("error",i);break;case"img":case"image":case"link":Di("error",i),Di("load",i);break;case"details":Di("toggle",i);break;case"input":K(i,a),Di("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Di("invalid",i);break;case"textarea":re(i,a),Di("invalid",i)}for(var l in ve(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Di("scroll",i)}switch(n){case"input":U(i),Q(i,a,!0);break;case"textarea":U(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Qi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Di("cancel",e),Di("close",e),r=i;break;case"iframe":case"object":case"embed":Di("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ai.length;r++)Di(Ai[r],e);r=i;break;case"source":Di("error",e),r=i;break;case"img":case"image":case"link":Di("error",e),Di("load",e),r=i;break;case"details":Di("toggle",e),r=i;break;case"input":K(e,i),r=Y(e,i),Di("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=O({},i,{value:void 0}),Di("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Di("invalid",e)}for(a in ve(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Di("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":U(e),Q(e,i,!1);break;case"textarea":U(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Us(t),null;case 6:if(e&&null!=t.stateNode)zs(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=Yo(Go.current),Yo(Uo.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(a=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return Us(t),null;case 13:if(Cr(ea),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Us(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===zl&&(zl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Us(t),null);case 4:return Xo(),Ts(e,t),null===e&&Zi(t.stateNode.containerInfo),Us(t),null;case 10:return Po(t.type._context),Us(t),null;case 19:if(Cr(ea),null===(a=t.memoizedState))return Us(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Vs(a,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Er(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Zl&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ta(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ro)return Us(t),null}else 2*Xe()-a.renderingStartTime>Zl&&1073741824!==n&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Er(ea,i?1&n|2:1&n),t):(Us(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Us(t),6&t.subtreeFlags&&(t.flags|=8192)):Us(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Tr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Cr(jr),Cr(Pr),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qo(t),null;case 13:if(Cr(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cr(ea),null;case 4:return Xo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ts=function(){},Ls=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Yo(Uo.current);var o,a=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),a=[];break;case"select":r=O({},r,{value:void 0}),i=O({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Qi)}for(u in ve(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Di("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},zs=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ys=!1,Ks=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Sc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(t,n,o)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[mr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||Qs(n,t);case 6:var i=ul,r=dl;ul=null,hl(e,t,n),dl=r,null!==(ul=i)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Zt(e)):lr(ul,n.stateNode));break;case 4:i=ul,r=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!Ks&&(Qs(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Sc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(i=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=i):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var i=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(a,s,r),ul=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Sc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&i&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&i&&null!==n&&Qs(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){Sc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(r,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):b(r,d,h,u)}switch(l){case"input":J(r,a);break;case"textarea":oe(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(r,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Hl=Xe())),4&i&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(u=Ks)||d,ml(t,e),Ks=u):ml(t,e),yl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(i,n,g)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Js=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&i&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),cl(e,sl(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==Js;){var r=Js,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Ys;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Ys;var c=Ks;if(Ys=a,(Ks=l)&&!c)for(Js=r;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?wl(r):null!==l?(l.return=a,Js=l):wl(r);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=r,Ys=s,Ks=c}_l(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Js=o):_l(e)}}function _l(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ks)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Zt(h)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&rl(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Sc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Sc(t,r,l)}}var o=t.return;try{rl(t)}catch(l){Sc(t,o,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Sl=Math.ceil,Cl=_.ReactCurrentDispatcher,El=_.ReactCurrentOwner,Nl=_.ReactCurrentBatchConfig,Pl=0,jl=null,Il=null,Ml=0,Tl=0,Ll=Sr(0),zl=0,Al=null,Rl=0,Ol=0,Bl=0,Dl=null,Fl=null,Hl=0,Zl=1/0,$l=null,Wl=!1,Vl=null,Ul=null,ql=!1,Gl=null,Yl=0,Kl=0,Xl=null,Jl=-1,Ql=0;function ec(){return 0!==(6&Pl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==go.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,n,i){if(50<Kl)throw Kl=0,Xl=null,Error(o(185));yt(e,n,i),0!==(2&Pl)&&e===jl||(e===jl&&(0===(2&Pl)&&(Ol|=n),4===zl&&sc(e,Ml)),ic(e,i),1===n&&0===Pl&&0===(1&t.mode)&&(Zl=Xe()+500,Dr&&Zr()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=ht(e,e===jl?Ml:0);if(0===i)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Dr=!0,Hr(e)}(lc.bind(null,e)):Hr(lc.bind(null,e)),ar((function(){0===(6&Pl)&&Zr()})),n=null;else{switch(_t(i)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=jc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Jl=-1,Ql=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var i=ht(e,e===jl?Ml:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gc(e,i);else{t=i;var r=Pl;Pl|=2;var a=fc();for(jl===e&&Ml===t||($l=null,Zl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}No(),Cl.current=a,Pl=r,null!==Il?t=0:(jl=null,Ml=0,t=zl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=oc(e,r))),1===t)throw n=Al,hc(e,0),sc(e,i),ic(e,Xe()),n;if(6===t)sc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,i))&&(0!==(a=ft(e))&&(i=a,t=oc(e,a))),1===t))throw n=Al,hc(e,0),sc(e,i),ic(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Fl,$l);break;case 3:if(sc(e,i),(130023424&i)===i&&10<(t=Hl+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(xc.bind(null,e,Fl,$l),t);break}xc(e,Fl,$l);break;case 4:if(sc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=ir(xc.bind(null,e,Fl,$l),i);break}xc(e,Fl,$l);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function oc(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&ac(t)),e}function ac(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Bl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Pl))throw Error(o(327));wc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=Al,hc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,$l),ic(e,Xe()),null}function cc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Zl=Xe()+500,Dr&&Zr())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Pl)&&wc();var t=Pl;Pl|=1;var n=Nl.transition,i=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=i,Nl.transition=n,0===(6&(Pl=t))&&Zr()}}function dc(){Tl=Ll.current,Cr(Ll)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Il)for(n=Il.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Lr();break;case 3:Xo(),Cr(jr),Cr(Pr),ia();break;case 5:Qo(i);break;case 4:Xo();break;case 13:case 19:Cr(ea);break;case 10:Po(i.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Il=e=Lc(e.current,null),Ml=Tl=t,zl=0,Al=null,Bl=Ol=Rl=0,Fl=Dl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(i=(n=To[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}To=null}return e}function pc(e,t){for(;;){var n=Il;try{if(No(),ra.current=Ja,ua){for(var i=sa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,El.current=null,null===n||null===n.return){zl=1,Al=t,Il=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&ms(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(ro&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==zl&&(zl=2),null===Dl?Dl=[a]:Dl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Zo(a,ps(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ul||!Ul.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Zo(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(_){t=_,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Ja,null===e?Ja:e}function mc(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===jl||0===(268435455&Rl)&&0===(268435455&Ol)||sc(jl,Ml)}function gc(e,t){var n=Pl;Pl|=2;var i=fc();for(jl===e&&Ml===t||($l=null,hc(e,t));;)try{yc();break}catch(r){pc(e,r)}if(No(),Pl=n,Cl.current=i,null!==Il)throw Error(o(261));return jl=null,Ml=0,zl}function yc(){for(;null!==Il;)bc(Il)}function vc(){for(;null!==Il&&!Ye();)bc(Il)}function bc(e){var t=kl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?_c(e):Il=t,El.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Tl)))return void(Il=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return zl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===zl&&(zl=5)}function xc(e,t,n){var i=bt,r=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,i){do{wc()}while(null!==Gl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===jl&&(Il=jl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,jc(tt,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=Pl;Pl|=4,El.current=null,function(e,t){if(er=Wt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==a||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=s),p===a&&++d===i&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),fi(tr),Wt=!!er,tr=er=null,e.current=n,vl(n,e,r),Ke(),Pl=l,bt=s,Nl.transition=a}else e.current=n;if(ql&&(ql=!1,Gl=e,Yl=r),a=e.pendingLanes,0===a&&(Ul=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Kl++:(Kl=0,Xl=e):Kl=0,Zr()}(e,t,n,i)}finally{Nl.transition=r,bt=i}return null}function wc(){if(null!==Gl){var e=_t(Yl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Gl)var i=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Pl))throw Error(o(331));var r=Pl;for(Pl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(ol(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var _=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Js=_;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Sc(l,l.return,w)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Pl=r,Zr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{bt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=Fo(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ul||!Ul.has(i))){t=Fo(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Ml&n)===n&&(4===zl||3===zl&&(130023424&Ml)===Ml&&500>Xe()-Hl?hc(e,0):Bl|=n),ic(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ao(e,t))&&(yt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Ec(e,n)}function jc(e,t){return qe(e,t)}function Ic(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,i){return new Ic(e,t,n,i)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zc(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Tc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Ac(n.children,r,a,t);case S:s=8,r|=8;break;case C:return(e=Mc(12,n,t,2|r)).elementType=C,e.lanes=a,e;case j:return(e=Mc(13,n,t,r)).elementType=j,e.lanes=a,e;case I:return(e=Mc(19,n,t,r)).elementType=I,e.lanes=a,e;case L:return Rc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case N:s=9;break e;case P:s=11;break e;case M:s=14;break e;case T:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Ac(e,t,n,i){return(e=Mc(7,e,i,t)).lanes=n,e}function Rc(e,t,n,i){return(e=Mc(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,i,r,o,a,s,l){return e=new Dc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Hc(e){if(!e)return Nr;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Tr(n))return Ar(e,n,t)}return t}function Zc(e,t,n,i,r,o,a,s,l){return(e=Fc(n,i,!0,e,0,o,0,s,l)).context=Hc(null),n=e.current,(o=Do(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,r),e.current.lanes=r,yt(e,r,i),ic(e,i),e}function $c(e,t,n,i){var r=t.current,o=ec(),a=tc(r);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Fo(r,t,a))&&(nc(e,r,a,o),Ho(e,r,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||jr.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:js(t),fo();break;case 5:Jo(t);break;case 1:Tr(t.type)&&Rr(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Er(ko,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Er(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(Er(ea,1&ea.current),null!==(e=Ws(e,t,n))?e.sibling:null);Er(ea,1&ea.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Zs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Er(ea,ea.current),i)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ro&&0!==(1048576&t.flags)&&Qr(t,Ur,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;$s(e,t),e=t.pendingProps;var r=Mr(t,Pr.current);Io(t,n),r=ga(null,t,i,e,r,n);var a=ya();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(i)?(a=!0,Rr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Oo(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,ls(t,i,e,n),t=Ps(null,t,i,!0,a,n)):(t.tag=0,ro&&a&&eo(t),_s(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch($s(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===M)return 14}return 2}(i),e=ns(i,e),r){case 0:t=Es(null,t,i,e,n);break e;case 1:t=Ns(null,t,i,e,n);break e;case 11:t=xs(null,t,i,e,n);break e;case 14:t=ws(null,t,i,ns(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Es(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ns(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 3:e:{if(js(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,Bo(e,t),$o(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,i,n,r=cs(Error(o(423)),t));break e}if(i!==r){t=Is(e,t,i,n,r=cs(Error(o(424)),t));break e}for(io=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=wo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=Ws(e,t,n);break e}_s(e,t,i,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),Cs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Os(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xo(t,null,i,n):_s(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xs(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Er(ko,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!jr.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),jo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),jo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Io(t,n),i=i(r=Mo(r)),t.flags|=1,_s(e,t,i,n),t.child;case 14:return r=ns(i=t.type,t.pendingProps),ws(e,t,i,r=ns(i.type,r),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ns(i,r),$s(e,t),t.tag=1,Tr(i)?(e=!0,Rr(t)):e=!1,Io(t,n),as(t,i,r),ls(t,i,r,n),Ps(null,t,i,!0,e,n);case 19:return Zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Qc(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}$c(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}var a=Zc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fr]=a.current,Zi(8===e.nodeType?e.parentNode:e),uc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Wc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fr]=l.current,Zi(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,i)})),l}(n,t,e,r,i);return Wc(a)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));$c(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[fr]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Ot(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Xe()),0===(6&Pl)&&(Zl=Xe()+500,Zr()))}break;case 13:uc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Uc(e,1)}},wt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());Uc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());Uc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(o(90));q(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[br,_r,xr,Ee,Ne,cc]},tu={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{rt=iu.inject(nu),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(o(299));var n=!1,i="",r=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Zi(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Zc(t,null,e,1,null!=n?n:null,r,0,a,s),e[fr]=t.current,Zi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Qc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},885:(e,t,n)=>{"use strict";var i,r;i=n(160),r=n(556),i.version,i.renderToString,t.qV=i.renderToStaticMarkup,i.renderToNodeStream,i.renderToStaticNodeStream,r.renderToReadableStream},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391),i=n(173);function r(e){return t=>!!t.type&&t.type.tabsRole===e}const o=r("Tab"),a=r("TabList"),s=r("TabPanel");function l(t,n){return e.Children.map(t,(t=>null===t?null:function(e){return o(e)||a(e)||s(e)}(t)?n(t):t.props&&t.props.children&&"object"===typeof t.props.children?(0,e.cloneElement)(t,Object.assign({},t.props,{children:l(t.props.children,n)})):t))}function c(t,n){return e.Children.forEach(t,(e=>{null!==e&&(o(e)||s(e)?n(e):e.props&&e.props.children&&"object"===typeof e.props.children&&(a(e)&&n(e),c(e.props.children,n)))}))}function u(e,t,n){let i,r=0,l=0,u=!1;const d=[];return c(e[t],(e=>{a(e)&&(e.props&&e.props.children&&"object"===typeof e.props.children&&c(e.props.children,(e=>d.push(e))),u&&(i=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),u=!0),o(e)?(u&&-1!==d.indexOf(e)||(i=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),r++):s(e)&&l++})),i||r===l||(i=new Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${n}\`. Received ${r} 'Tab' and ${l} 'TabPanel'.`)),i}function d(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=d(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const h=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=d(e))&&(i&&(i+=" "),i+=t);return i};function p(e){let t=0;return c(e,(e=>{o(e)&&t++})),t}const f=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function m(e){return e&&"getAttribute"in e}function g(e){return m(e)&&e.getAttribute("data-rttab")}function y(e){return m(e)&&"true"===e.getAttribute("aria-disabled")}let v;const b={className:"react-tabs",focus:!1},_={children:u},x=t=>{(0,i.checkPropTypes)(_,t,"prop","UncontrolledTabs");let n=(0,e.useRef)([]),r=(0,e.useRef)([]);const c=(0,e.useRef)();function u(e,n){if(e<0||e>=x())return;const{onSelect:i,selectedIndex:r}=t;i(e,r,n)}function d(e){const t=x();for(let n=e+1;n<t;n++)if(!y(w(n)))return n;for(let n=0;n<e;n++)if(!y(w(n)))return n;return e}function m(e){let t=e;for(;t--;)if(!y(w(t)))return t;for(t=x();t-- >e;)if(!y(w(t)))return t;return e}function x(){const{children:e}=t;return p(e)}function w(e){return n.current[`tabs-${e}`]}function k(e){let t=e.target;do{if(S(t)){if(y(t))return;return void u([].slice.call(t.parentNode.children).filter(g).indexOf(t),e)}}while(null!=(t=t.parentNode))}function S(e){if(!g(e))return!1;let t=e.parentElement;do{if(t===c.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}const C=Object.assign({},b,t),{className:E,domRef:N}=C,P=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(C,f);return e.createElement("div",Object.assign({},P,{className:h(E),onClick:k,onKeyDown:function(e){const{direction:n,disableUpDownKeys:i,disableLeftRightKeys:r}=t;if(S(e.target)){let{selectedIndex:o}=t,a=!1,s=!1;"Space"!==e.code&&32!==e.keyCode&&"Enter"!==e.code&&13!==e.keyCode||(a=!0,s=!1,k(e)),(r||37!==e.keyCode&&"ArrowLeft"!==e.code)&&(i||38!==e.keyCode&&"ArrowUp"!==e.code)?(r||39!==e.keyCode&&"ArrowRight"!==e.code)&&(i||40!==e.keyCode&&"ArrowDown"!==e.code)?35===e.keyCode||"End"===e.code?(o=function(){let e=x();for(;e--;)if(!y(w(e)))return e;return null}(),a=!0,s=!0):36!==e.keyCode&&"Home"!==e.code||(o=function(){const e=x();for(let t=0;t<e;t++)if(!y(w(t)))return t;return null}(),a=!0,s=!0):(o="rtl"===n?m(o):d(o),a=!0,s=!0):(o="rtl"===n?d(o):m(o),a=!0,s=!0),a&&e.preventDefault(),s&&u(o,e)}},ref:e=>{c.current=e,N&&N(e)},"data-rttabs":!0}),function(){let i=0;const{children:c,disabledTabClassName:u,focus:d,forceRenderTabPanel:h,selectedIndex:p,selectedTabClassName:f,selectedTabPanelClassName:m,environment:g}=t;r.current=r.current||[];let y=r.current.length-x();const b=(0,e.useId)();for(;y++<0;)r.current.push(`${b}${r.current.length}`);return l(c,(t=>{let c=t;if(a(t)){let i=0,a=!1;null==v&&function(e){const t=e||("undefined"!==typeof window?window:void 0);try{v=!("undefined"===typeof t||!t.document||!t.document.activeElement)}catch(n){v=!1}}(g);const s=g||("undefined"!==typeof window?window:void 0);v&&s&&(a=e.Children.toArray(t.props.children).filter(o).some(((e,t)=>s.document.activeElement===w(t)))),c=(0,e.cloneElement)(t,{children:l(t.props.children,(t=>{const o=`tabs-${i}`,s=p===i,l={tabRef:e=>{n.current[o]=e},id:r.current[i],selected:s,focus:s&&(d||a)};return f&&(l.selectedClassName=f),u&&(l.disabledClassName=u),i++,(0,e.cloneElement)(t,l)}))})}else if(s(t)){const n={id:r.current[i],selected:p===i};h&&(n.forceRender=h),m&&(n.selectedClassName=m),i++,c=(0,e.cloneElement)(t,n)}return c}))}())},w=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];const k={children:u,onSelect:function(e,t,n,i,r){const o=e[t],a=r||t;let s=null;return o&&"function"!==typeof o?s=new Error(`Invalid ${i} \`${a}\` of type \`${typeof o}\` supplied to \`${n}\`, expected \`function\`.`):null!=e.selectedIndex&&null==o&&(s=new Error(`The ${i} \`${a}\` is marked as required in \`${n}\`, but its value is \`undefined\` or \`null\`.\n\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.\nIf you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),s},selectedIndex:function(e,t,n,i,r){const o=e[t],a=r||t;let s=null;if(null!=o&&"number"!==typeof o)s=new Error(`Invalid ${i} \`${a}\` of type \`${typeof o}\` supplied to \`${n}\`, expected \`number\`.`);else if(null!=e.defaultIndex&&null!=o)return new Error(`The ${i} \`${a}\` cannot be used together with \`defaultIndex\` in \`${n}\`.\nEither remove \`${a}\` to let \`${n}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return s}},S={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},C=t=>{(0,i.checkPropTypes)(k,t,"prop","Tabs");const n=Object.assign({},S,t),{children:r,defaultFocus:o,defaultIndex:a,focusTabOnClick:s,onSelect:l}=n,c=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(n,w),[u,d]=(0,e.useState)(o),[h]=(0,e.useState)((e=>null===e.selectedIndex?1:0)(c)),[f,m]=(0,e.useState)(1===h?a||0:null);if((0,e.useEffect)((()=>{d(!1)}),[]),1===h){const t=p(r);(0,e.useEffect)((()=>{if(null!=f){const e=Math.max(0,t-1);m(Math.min(f,e))}}),[t])}let g=Object.assign({},t,c);return g.focus=u,g.onSelect=(e,t,n)=>{"function"===typeof l&&!1===l(e,t,n)||(s&&d(!0),1===h&&m(e))},null!=f&&(g.selectedIndex=f),delete g.defaultFocus,delete g.defaultIndex,delete g.focusTabOnClick,e.createElement(x,g,r)};C.tabsRole="Tabs";const E=C,N=["children","className"];const P={className:"react-tabs__tab-list"},j=t=>{const n=Object.assign({},P,t),{children:i,className:r}=n,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(n,N);return e.createElement("ul",Object.assign({},o,{className:h(r),role:"tablist"}),i)};j.tabsRole="TabList";const I=j,M=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];const T="react-tabs__tab",L={className:T,disabledClassName:`${T}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${T}--selected`},z=t=>{let n=(0,e.useRef)();const i=Object.assign({},L,t),{children:r,className:o,disabled:a,disabledClassName:s,focus:l,id:c,selected:u,selectedClassName:d,tabIndex:p,tabRef:f}=i,m=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(i,M);return(0,e.useEffect)((()=>{u&&l&&n.current.focus()}),[u,l]),e.createElement("li",Object.assign({},m,{className:h(o,{[d]:u,[s]:a}),ref:e=>{n.current=e,f&&f(e)},role:"tab",id:`tab${c}`,"aria-selected":u?"true":"false","aria-disabled":a?"true":"false","aria-controls":`panel${c}`,tabIndex:p||(u?"0":null),"data-rttab":!0}),r)};z.tabsRole="Tab";const A=z,R=["children","className","forceRender","id","selected","selectedClassName"];const O="react-tabs__tab-panel",B={className:O,forceRender:!1,selectedClassName:`${O}--selected`},D=t=>{const n=Object.assign({},B,t),{children:i,className:r,forceRender:o,id:a,selected:s,selectedClassName:l}=n,c=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(n,R);return e.createElement("div",Object.assign({},c,{className:h(r,{[l]:s}),role:"tabpanel",id:`panel${a}`,"aria-labelledby":`tab${a}`}),o||s?i:null)};D.tabsRole="TabPanel";const F=D;function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function $(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function W(e,t,n){var i,r=((i={})[e]=t,i.path="/",i.expires=void 0,i);if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r.expires=o.toUTCString()}var a=[];for(var s in r)a.push("".concat(s,"=").concat(r[s]));return document.cookie=a.join("; "),V(e)}function V(e){return(t={},document.cookie.split(";").forEach((function(e){var n=e.split("="),i=n[0],r=n[1];t[i.trim()]=r})),t)[e];var t}"function"==typeof SuppressedError&&SuppressedError;var U,q=(U={},function(e,t){return void 0===t&&(t="introjs-stamp"),U[t]=U[t]||0,void 0===e[t]&&(e[t]=U[t]++),e[t]}),G=new(function(){function e(){this.events_key="introjs_event"}return e.prototype._id=function(e,t,n){return e+q(t)+(n?"_".concat(q(n)):"")},e.prototype.on=function(e,t,n,i,r){var o=this._id(t,n,i),a=function(t){return n(i||e,t||window.event)};"addEventListener"in e?e.addEventListener(t,a,r):"attachEvent"in e&&e.attachEvent("on".concat(t),a),e[this.events_key]=e[this.events_key]||{},e[this.events_key][o]=a},e.prototype.off=function(e,t,n,i,r){var o=this._id(t,n,i),a=e[this.events_key]&&e[this.events_key][o];a&&("removeEventListener"in e?e.removeEventListener(t,a,r):"detachEvent"in e&&e.detachEvent("on".concat(t),a),e[this.events_key][o]=null)},e}()),Y=function(e){return"function"==typeof e};function K(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";n.match(t)||e.setAttribute("class","".concat(n," ").concat(t))}else if(void 0!==e.classList)for(var i=0,r=t.split(" ");i<r.length;i++){var o=r[i];e.classList.add(o)}else e.className.match(t)||(e.className+=" ".concat(t))}function X(e,t){var n="";return"currentStyle"in e?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function J(e,t){if(e){var n=function(e){var t=window.getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(var r=e;r=r.parentElement;)if(t=window.getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.body}(t);n!==document.body&&(n.scrollTop=t.offsetTop-n.offsetTop)}}function Q(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function ee(e,t,n,i,r){var o;if("off"!==t&&e&&(o="tooltip"===t?r.getBoundingClientRect():i.getBoundingClientRect(),!function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}(i))){var a=Q().height;o.bottom-(o.bottom-o.top)<0||i.clientHeight>a?window.scrollBy(0,o.top-(a/2-o.height/2)-n):window.scrollBy(0,o.top-(a/2-o.height/2)+n)}}function te(e){e.setAttribute("role","button"),e.tabIndex=0}function ne(e){var t=e.parentElement;return!(!t||"HTML"===t.nodeName)&&("fixed"===X(e,"position")||ne(t))}function ie(e,t){var n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft;t=t||n;var a=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=X(t,"position"),c={width:a.width,height:a.height};return"body"!==t.tagName.toLowerCase()&&"relative"===l||"sticky"===l?Object.assign(c,{top:a.top-s.top,left:a.left-s.left}):ne(e)?Object.assign(c,{top:a.top,left:a.left}):Object.assign(c,{top:a.top+r,left:a.left+o})}function re(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function oe(e,t){var n="";if(e.style.cssText&&(n+=e.style.cssText),"string"==typeof t)n+=t;else for(var i in t)n+="".concat(i,":").concat(t[i],";");e.style.cssText=n}function ae(e,t,n){if(n&&t){var i=ie(t.element,e._targetElement),r=e._options.helperElementPadding;t.element instanceof Element&&ne(t.element)?K(n,"introjs-fixedTooltip"):re(n,"introjs-fixedTooltip"),"floating"===t.position&&(r=0),oe(n,{width:"".concat(i.width+r,"px"),height:"".concat(i.height+r,"px"),top:"".concat(i.top-r/2,"px"),left:"".concat(i.left-r/2,"px")})}}function se(e,t,n,i,r){return e.left+t+n.width>i.width?(r.style.left="".concat(i.width-n.width-e.left,"px"),!1):(r.style.left="".concat(t,"px"),!0)}function le(e,t,n,i){return e.left+e.width-t-n.width<0?(i.style.left="".concat(-e.left,"px"),!1):(i.style.right="".concat(t,"px"),!0)}function ce(e,t){e.includes(t)&&e.splice(e.indexOf(t),1)}function ue(e,t,n,i,r){if(void 0===r&&(r=!1),t){var o,a,s,l,c="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",i.style.display="inherit",c="string"==typeof t.tooltipClass?t.tooltipClass:e._options.tooltipClass,n.className=["introjs-tooltip",c].filter(Boolean).join(" "),n.setAttribute("role","dialog"),"floating"!==(l=t.position)&&e._options.autoPosition&&(l=function(e,t,n,i){var r=e.slice(),o=Q(),a=ie(n).height+10,s=ie(n).width+20,l=t.getBoundingClientRect(),c="floating";if(l.bottom+a>o.height&&ce(r,"bottom"),l.top-a<0&&ce(r,"top"),l.right+s>o.width&&ce(r,"right"),l.left-s<0&&ce(r,"left"),i&&(i=i.split("-")[0]),r.length&&(c=r[0],r.includes(i)&&(c=i)),"top"===c||"bottom"===c){var u=void 0,d=[];"top"===c?(u="top-middle-aligned",d=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(u="bottom-middle-aligned",d=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),c=function(e,t,n,i){var r=t/2,o=Math.min(n,window.screen.width);return o-e<t&&(ce(i,"top-left-aligned"),ce(i,"bottom-left-aligned")),(e<r||o-e<r)&&(ce(i,"top-middle-aligned"),ce(i,"bottom-middle-aligned")),e<t&&(ce(i,"top-right-aligned"),ce(i,"bottom-right-aligned")),i.length?i[0]:null}(l.left,s,o.width,d)||u}return c}(e._options.positionPrecedence,t.element,n,l)),a=ie(t.element),o=ie(n),s=Q(),K(n,"introjs-".concat(l));var u=a.width/2-o.width/2;switch(l){case"top-right-aligned":i.className="introjs-arrow bottom-right";var d=0;le(a,d,o,n),n.style.bottom="".concat(a.height+20,"px");break;case"top-middle-aligned":i.className="introjs-arrow bottom-middle",r&&(u+=5),le(a,u,o,n)&&(n.style.right="",se(a,u,o,s,n)),n.style.bottom="".concat(a.height+20,"px");break;case"top-left-aligned":case"top":i.className="introjs-arrow bottom",se(a,r?0:15,o,s,n),n.style.bottom="".concat(a.height+20,"px");break;case"right":n.style.left="".concat(a.width+20,"px"),a.top+o.height>s.height?(i.className="introjs-arrow left-bottom",n.style.top="-".concat(o.height-a.height-20,"px")):i.className="introjs-arrow left";break;case"left":r||!0!==e._options.showStepNumbers||(n.style.top="15px"),a.top+o.height>s.height?(n.style.top="-".concat(o.height-a.height-20,"px"),i.className="introjs-arrow right-bottom"):i.className="introjs-arrow right",n.style.right="".concat(a.width+20,"px");break;case"floating":i.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(o.width/2,"px"),n.style.marginTop="-".concat(o.height/2,"px");break;case"bottom-right-aligned":i.className="introjs-arrow top-right",le(a,d=0,o,n),n.style.top="".concat(a.height+20,"px");break;case"bottom-middle-aligned":i.className="introjs-arrow top-middle",r&&(u+=5),le(a,u,o,n)&&(n.style.right="",se(a,u,o,s,n)),n.style.top="".concat(a.height+20,"px");break;default:i.className="introjs-arrow top",se(a,0,o,s,n),n.style.top="".concat(a.height+20,"px")}}}function de(){for(var e=0,t=Array.from(document.querySelectorAll(".introjs-showElement"));e<t.length;e++)re(t[e],/introjs-[a-zA-Z]+/g)}function he(e,t){var n=document.createElement(e);t=t||{};var i=/^(?:role|data-|aria-)/;for(var r in t){var o=t[r];"style"===r&&"function"!=typeof o?oe(n,o):"string"==typeof o&&r.match(i)?n.setAttribute(r,o):n[r]=o}return n}function pe(e,t,n){if(void 0===n&&(n=!1),n){var i=t.style.opacity||"1";oe(t,{opacity:"0"}),window.setTimeout((function(){oe(t,{opacity:i})}),10)}e.appendChild(t)}function fe(e,t){return(e+1)/t*100}function me(e,t){var n=he("div",{className:"introjs-bullets"});!1===e._options.showBullets&&(n.style.display="none");var i=he("ul");i.setAttribute("role","tablist");for(var r=function(){var t=this.getAttribute("data-step-number");null!=t&&e.goToStep(parseInt(t,10))},o=0;o<e._introItems.length;o++){var a=e._introItems[o].step,s=he("li"),l=he("a");s.setAttribute("role","presentation"),l.setAttribute("role","tab"),l.onclick=r,o===t.step-1&&(l.className="active"),te(l),l.innerHTML="&nbsp;",l.setAttribute("data-step-number",a.toString()),s.appendChild(l),i.appendChild(s)}return n.appendChild(i),n}function ge(e,t,n){var i=e.querySelector(".introjs-progress .introjs-progressbar");if(i){var r=fe(t,n);i.style.cssText="width:".concat(r,"%;"),i.setAttribute("aria-valuenow",r.toString())}}function ye(e,t){return Z(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,y,v,b,_,x,w,k,S,C,E=this;return $(this,(function(N){switch(N.label){case 0:return Y(e._introChangeCallback)?[4,e._introChangeCallback.call(e,t.element)]:[3,2];case 1:N.sent(),N.label=2;case 2:return n=document.querySelector(".introjs-helperLayer"),i=document.querySelector(".introjs-tooltipReferenceLayer"),r="introjs-helperLayer","string"==typeof t.highlightClass&&(r+=" ".concat(t.highlightClass)),"string"==typeof e._options.highlightClass&&(r+=" ".concat(e._options.highlightClass)),null!==n&&null!==i?(l=i.querySelector(".introjs-helperNumberLayer"),c=i.querySelector(".introjs-tooltiptext"),u=i.querySelector(".introjs-tooltip-title"),d=i.querySelector(".introjs-arrow"),h=i.querySelector(".introjs-tooltip"),s=i.querySelector(".introjs-skipbutton"),a=i.querySelector(".introjs-prevbutton"),o=i.querySelector(".introjs-nextbutton"),n.className=r,h.style.opacity="0",h.style.display="none",J(e._options.scrollToElement,t.element),ae(e,t,n),ae(e,t,i),de(),e._lastShowElementTimer&&window.clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=window.setTimeout((function(){null!==l&&(l.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length)),c.innerHTML=t.intro||"",u.innerHTML=t.title||"",h.style.display="block",ue(e,t,h,d),function(e,t,n){if(e){var i=t.querySelector(".introjs-bullets li > a.active"),r=t.querySelector('.introjs-bullets li > a[data-step-number="'.concat(n.step,'"]'));i&&r&&(i.className="",r.className="active")}}(e._options.showBullets,i,t),ge(i,e._currentStep,e._introItems.length),h.style.opacity="1",(null!=o&&/introjs-donebutton/gi.test(o.className)||null!=o)&&o.focus(),ee(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,c)}),350)):(p=he("div",{className:r}),f=he("div",{className:"introjs-tooltipReferenceLayer"}),m=he("div",{className:"introjs-arrow"}),g=he("div",{className:"introjs-tooltip"}),y=he("div",{className:"introjs-tooltiptext"}),v=he("div",{className:"introjs-tooltip-header"}),b=he("h1",{className:"introjs-tooltip-title"}),_=he("div"),oe(p,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(e._options.overlayOpacity.toString(),") 0 0 0 5000px")}),J(e._options.scrollToElement,t.element),ae(e,t,p),ae(e,t,f),pe(e._targetElement,p,!0),pe(e._targetElement,f),y.innerHTML=t.intro,b.innerHTML=t.title,_.className="introjs-tooltipbuttons",!1===e._options.showButtons&&(_.style.display="none"),v.appendChild(b),g.appendChild(v),g.appendChild(y),e._options.dontShowAgain&&(x=he("div",{className:"introjs-dontShowAgain"}),(w=he("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(t){e.setDontShowAgain(t.target.checked)},(k=he("label",{htmlFor:"introjs-dontShowAgain"})).innerText=e._options.dontShowAgainLabel,x.appendChild(w),x.appendChild(k),g.appendChild(x)),g.appendChild(me(e,t)),g.appendChild(function(e){var t=he("div");t.className="introjs-progress",!1===e._options.showProgress&&(t.style.display="none");var n=he("div",{className:"introjs-progressbar"});e._options.progressBarAdditionalClass&&(n.className+=" "+e._options.progressBarAdditionalClass);var i=fe(e._currentStep,e._introItems.length);return n.setAttribute("role","progress"),n.setAttribute("aria-valuemin","0"),n.setAttribute("aria-valuemax","100"),n.setAttribute("aria-valuenow",i.toString()),n.style.cssText="width:".concat(i,"%;"),t.appendChild(n),t}(e)),S=he("div"),!0===e._options.showStepNumbers&&(S.className="introjs-helperNumberLayer",S.innerHTML="".concat(t.step," ").concat(e._options.stepNumbersOfLabel," ").concat(e._introItems.length),g.appendChild(S)),g.appendChild(m),f.appendChild(g),(o=he("a")).onclick=function(){return Z(E,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return e._introItems.length-1===e._currentStep?[3,2]:[4,_e(e)];case 1:return t.sent(),[3,6];case 2:return/introjs-donebutton/gi.test(o.className)?Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"done")]:[3,4]:[3,6];case 3:t.sent(),t.label=4;case 4:return[4,Fe(e,e._targetElement)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))},te(o),o.innerHTML=e._options.nextLabel,(a=he("a")).onclick=function(){return Z(E,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return e._currentStep>0?[4,xe(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},te(a),a.innerHTML=e._options.prevLabel,te(s=he("a",{className:"introjs-skipbutton"})),s.innerHTML=e._options.skipLabel,s.onclick=function(){return Z(E,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return e._introItems.length-1===e._currentStep&&Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,2];case 1:t.sent(),t.label=2;case 2:return Y(e._introSkipCallback)?[4,e._introSkipCallback.call(e,e._currentStep)]:[3,4];case 3:t.sent(),t.label=4;case 4:return[4,Fe(e,e._targetElement)];case 5:return t.sent(),[2]}}))}))},v.appendChild(s),e._introItems.length>1&&_.appendChild(a),_.appendChild(o),g.appendChild(_),ue(e,t,g,m),ee(e._options.scrollToElement,t.scrollTo,e._options.scrollPadding,t.element,g)),(C=e._targetElement.querySelector(".introjs-disableInteraction"))&&C.parentNode&&C.parentNode.removeChild(C),t.disableInteraction&&function(e,t){var n=document.querySelector(".introjs-disableInteraction");null===n&&(n=he("div",{className:"introjs-disableInteraction"}),e._targetElement.appendChild(n)),ae(e,t,n)}(e,t),0===e._currentStep&&e._introItems.length>1?(null!=o&&(o.className="".concat(e._options.buttonClass," introjs-nextbutton"),o.innerHTML=e._options.nextLabel),!0===e._options.hidePrev?(null!=a&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=o&&K(o,"introjs-fullbutton")):null!=a&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton introjs-disabled"))):e._introItems.length-1===e._currentStep||1===e._introItems.length?(null!=a&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton")),!0===e._options.hideNext?(null!=o&&(o.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=a&&K(a,"introjs-fullbutton")):null!=o&&(!0===e._options.nextToDone?(o.innerHTML=e._options.doneLabel,K(o,"".concat(e._options.buttonClass," introjs-nextbutton introjs-donebutton"))):o.className="".concat(e._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=a&&(a.className="".concat(e._options.buttonClass," introjs-prevbutton")),null!=o&&(o.className="".concat(e._options.buttonClass," introjs-nextbutton"),o.innerHTML=e._options.nextLabel)),null!=a&&a.setAttribute("role","button"),null!=o&&o.setAttribute("role","button"),null!=s&&s.setAttribute("role","button"),null!=o&&o.focus(),function(e){K(e,"introjs-showElement");var t=X(e,"position");"absolute"!==t&&"relative"!==t&&"sticky"!==t&&"fixed"!==t&&K(e,"introjs-relativePosition")}(t.element),Y(e._introAfterChangeCallback)?[4,e._introAfterChangeCallback.call(e,t.element)]:[3,4];case 3:N.sent(),N.label=4;case 4:return[2]}}))}))}function ve(e,t){return Z(this,void 0,void 0,(function(){return $(this,(function(n){switch(n.label){case 0:return e._currentStep=t-2,void 0===e._introItems?[3,2]:[4,_e(e)];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}function be(e,t){return Z(this,void 0,void 0,(function(){return $(this,(function(n){switch(n.label){case 0:return e._currentStepNumber=t,void 0===e._introItems?[3,2]:[4,_e(e)];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}function _e(e){return Z(this,void 0,void 0,(function(){var t,n,i;return $(this,(function(r){switch(r.label){case 0:if(e._direction="forward",void 0!==e._currentStepNumber)for(t=0;t<e._introItems.length;t++)e._introItems[t].step===e._currentStepNumber&&(e._currentStep=t-1,e._currentStepNumber=void 0);return-1===e._currentStep?e._currentStep=0:++e._currentStep,n=e._introItems[e._currentStep],i=!0,Y(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,n&&n.element,e._currentStep,e._direction)]:[3,2];case 1:i=r.sent(),r.label=2;case 2:return!1===i?(--e._currentStep,[2,!1]):e._introItems.length<=e._currentStep?Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"end")]:[3,4]:[3,6];case 3:r.sent(),r.label=4;case 4:return[4,Fe(e,e._targetElement)];case 5:return r.sent(),[2,!1];case 6:return[4,ye(e,n)];case 7:return r.sent(),[2,!0]}}))}))}function xe(e){return Z(this,void 0,void 0,(function(){var t,n;return $(this,(function(i){switch(i.label){case 0:return e._direction="backward",e._currentStep<=0?[2,!1]:(--e._currentStep,t=e._introItems[e._currentStep],n=!0,Y(e._introBeforeChangeCallback)?[4,e._introBeforeChangeCallback.call(e,t&&t.element,e._currentStep,e._direction)]:[3,2]);case 1:n=i.sent(),i.label=2;case 2:return!1===n?(++e._currentStep,[2,!1]):[4,ye(e,t)];case 3:return i.sent(),[2,!0]}}))}))}function we(e,t){return Z(this,void 0,void 0,(function(){var n,i;return $(this,(function(r){switch(r.label){case 0:return null===(n=void 0===t.code?t.which:t.code)&&(n=null===t.charCode?t.keyCode:t.charCode),"Escape"!==n&&27!==n||!0!==e._options.exitOnEsc?[3,2]:[4,Fe(e,e._targetElement)];case 1:return r.sent(),[3,16];case 2:return"ArrowLeft"!==n&&37!==n?[3,4]:[4,xe(e)];case 3:return r.sent(),[3,16];case 4:return"ArrowRight"!==n&&39!==n?[3,6]:[4,_e(e)];case 5:return r.sent(),[3,16];case 6:return"Enter"!==n&&"NumpadEnter"!==n&&13!==n?[3,16]:(i=t.target||t.srcElement)&&i.className.match("introjs-prevbutton")?[4,xe(e)]:[3,8];case 7:return r.sent(),[3,15];case 8:return i&&i.className.match("introjs-skipbutton")?e._introItems.length-1===e._currentStep&&Y(e._introCompleteCallback)?[4,e._introCompleteCallback.call(e,e._currentStep,"skip")]:[3,10]:[3,12];case 9:r.sent(),r.label=10;case 10:return[4,Fe(e,e._targetElement)];case 11:return r.sent(),[3,15];case 12:return i&&i.getAttribute("data-step-number")?(i.click(),[3,15]):[3,13];case 13:return[4,_e(e)];case 14:r.sent(),r.label=15;case 15:t.preventDefault?t.preventDefault():t.returnValue=!1,r.label=16;case 16:return[2]}}))}))}function ke(e){if(null===e||"object"!==H(e)||"nodeType"in e)return e;var t={};for(var n in e)"jQuery"in window&&e[n]instanceof window.jQuery?t[n]=e[n]:t[n]=ke(e[n]);return t}function Se(e){var t=document.querySelector(".introjs-hints");return t?Array.from(t.querySelectorAll(e)):[]}function Ce(e,t){return Z(this,void 0,void 0,(function(){var n;return $(this,(function(i){switch(i.label){case 0:return n=Se('.introjs-hint[data-step="'.concat(t,'"]'))[0],Le(),n&&K(n,"introjs-hidehint"),Y(e._hintCloseCallback)?[4,e._hintCloseCallback.call(e,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}function Ee(e){return Z(this,void 0,void 0,(function(){var t,n,i,r,o;return $(this,(function(a){switch(a.label){case 0:t=Se(".introjs-hint"),n=0,i=t,a.label=1;case 1:return n<i.length?(r=i[n],(o=r.getAttribute("data-step"))?[4,Ce(e,parseInt(o,10))]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}function Ne(e){return Z(this,void 0,void 0,(function(){var t,n,i,r,o;return $(this,(function(a){switch(a.label){case 0:if(!(t=Se(".introjs-hint"))||!t.length)return[3,1];for(n=0,i=t;n<i.length;n++)r=i[n],(o=r.getAttribute("data-step"))&&Pe(parseInt(o,10));return[3,3];case 1:return[4,ze(e,e._targetElement)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Pe(e){var t=Se('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&re(t,/introjs-hidehint/g)}function je(e){var t=Se('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&t.parentNode&&t.parentNode.removeChild(t)}function Ie(e){return Z(this,void 0,void 0,(function(){var t,n,i,r,o,a,s;return $(this,(function(l){switch(l.label){case 0:for(null===(t=document.querySelector(".introjs-hints"))&&(t=he("div",{className:"introjs-hints"})),n=function(t){return function(n){var i=n||window.event;i&&i.stopPropagation&&i.stopPropagation(),i&&null!==i.cancelBubble&&(i.cancelBubble=!0),Te(e,t)}},i=0;i<e._hintItems.length;i++){if(r=e._hintItems[i],document.querySelector('.introjs-hint[data-step="'.concat(i,'"]')))return[2];te(o=he("a",{className:"introjs-hint"})),o.onclick=n(i),r.hintAnimation||K(o,"introjs-hint-no-anim"),ne(r.element)&&K(o,"introjs-fixedhint"),a=he("div",{className:"introjs-hint-dot"}),s=he("div",{className:"introjs-hint-pulse"}),o.appendChild(a),o.appendChild(s),o.setAttribute("data-step",i.toString()),r.hintTargetElement=r.element,r.element=o,Me(r.hintPosition,o,r.hintTargetElement),t.appendChild(o)}return document.body.appendChild(t),Y(e._hintsAddedCallback)?[4,e._hintsAddedCallback.call(e)]:[3,2];case 1:l.sent(),l.label=2;case 2:return e._options.hintAutoRefreshInterval>=0&&(e._hintsAutoRefreshFunction=(c=function(){return Ae(e)},u=e._options.hintAutoRefreshInterval,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window.clearTimeout(d),d=window.setTimeout((function(){c()}),u)}),G.on(window,"scroll",e._hintsAutoRefreshFunction,e,!0)),[2]}var c,u,d}))}))}function Me(e,t,n){if(void 0!==n){var i=ie(n),r=20,o=20;switch(e){default:case"top-left":t.style.left="".concat(i.left,"px"),t.style.top="".concat(i.top,"px");break;case"top-right":t.style.left="".concat(i.left+i.width-r,"px"),t.style.top="".concat(i.top,"px");break;case"bottom-left":t.style.left="".concat(i.left,"px"),t.style.top="".concat(i.top+i.height-o,"px");break;case"bottom-right":t.style.left="".concat(i.left+i.width-r,"px"),t.style.top="".concat(i.top+i.height-o,"px");break;case"middle-left":t.style.left="".concat(i.left,"px"),t.style.top="".concat(i.top+(i.height-o)/2,"px");break;case"middle-right":t.style.left="".concat(i.left+i.width-r,"px"),t.style.top="".concat(i.top+(i.height-o)/2,"px");break;case"middle-middle":t.style.left="".concat(i.left+(i.width-r)/2,"px"),t.style.top="".concat(i.top+(i.height-o)/2,"px");break;case"bottom-middle":t.style.left="".concat(i.left+(i.width-r)/2,"px"),t.style.top="".concat(i.top+i.height-o,"px");break;case"top-middle":t.style.left="".concat(i.left+(i.width-r)/2,"px"),t.style.top="".concat(i.top,"px")}}}function Te(e,t){return Z(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,u,d,h;return $(this,(function(p){switch(p.label){case 0:return n=document.querySelector('.introjs-hint[data-step="'.concat(t,'"]')),i=e._hintItems[t],Y(e._hintClickCallback)?[4,e._hintClickCallback.call(e,n,i,t)]:[3,2];case 1:p.sent(),p.label=2;case 2:return void 0!==(r=Le())&&parseInt(r,10)===t||(o=he("div",{className:"introjs-tooltip"}),a=he("div"),s=he("div"),l=he("div"),o.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},a.className="introjs-tooltiptext",(c=he("p")).innerHTML=i.hint||"",a.appendChild(c),e._options.hintShowButton&&((u=he("a")).className=e._options.buttonClass,u.setAttribute("role","button"),u.innerHTML=e._options.hintButtonLabel,u.onclick=function(){return Ce(e,t)},a.appendChild(u)),s.className="introjs-arrow",o.appendChild(s),o.appendChild(a),d=n.getAttribute("data-step")||"",e._currentStep=parseInt(d,10),h=e._hintItems[e._currentStep],l.className="introjs-tooltipReferenceLayer introjs-hintReference",l.setAttribute("data-step",d),ae(e,h,l),l.appendChild(o),document.body.appendChild(l),ue(e,h,o,s,!0)),[2]}}))}))}function Le(){var e=document.querySelector(".introjs-hintReference");if(e&&e.parentNode){var t=e.getAttribute("data-step");if(!t)return;return e.parentNode.removeChild(e),t}}function ze(e,t){return Z(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,c,u,d;return $(this,(function(h){switch(h.label){case 0:if(e._hintItems=[],e._options.hints&&e._options.hints.length>0)for(n=0,i=e._options.hints;n<i.length;n++)r=i[n],"string"==typeof(o=ke(r)).element&&(o.element=document.querySelector(o.element)),o.hintPosition=o.hintPosition||e._options.hintPosition,o.hintAnimation=o.hintAnimation||e._options.hintAnimation,null!==o.element&&e._hintItems.push(o);else{if(!(a=Array.from(t.querySelectorAll("*[data-hint]")))||!a.length)return[2,!1];for(s=0,l=a;s<l.length;s++)c=l[s],u=c.getAttribute("data-hint-animation"),d=e._options.hintAnimation,u&&(d="true"===u),e._hintItems.push({element:c,hint:c.getAttribute("data-hint")||"",hintPosition:c.getAttribute("data-hint-position")||e._options.hintPosition,hintAnimation:d,tooltipClass:c.getAttribute("data-tooltip-class")||void 0,position:c.getAttribute("data-position")||e._options.tooltipPosition})}return[4,Ie(e)];case 1:return h.sent(),G.on(document,"click",Le,e,!1),G.on(window,"resize",Ae,e,!0),[2,!0]}}))}))}function Ae(e){for(var t=0,n=e._hintItems;t<n.length;t++){var i=n[t],r=i.hintTargetElement;Me(i.hintPosition,i.element,r)}}function Re(e,t){var n=Array.from(t.querySelectorAll("*[data-intro]")),i=[];if(e._options.steps&&e._options.steps.length)for(var r=0,o=e._options.steps;r<o.length;r++){var a=ke(h=o[r]);if(a.step=i.length+1,a.title=a.title||"","string"==typeof a.element&&(a.element=document.querySelector(a.element)||void 0),void 0===a.element||null===a.element){var s=document.querySelector(".introjsFloatingElement");null===s&&(s=he("div",{className:"introjsFloatingElement"}),document.body.appendChild(s)),a.element=s,a.position="floating"}a.position=a.position||e._options.tooltipPosition,a.scrollTo=a.scrollTo||e._options.scrollTo,void 0===a.disableInteraction&&(a.disableInteraction=e._options.disableInteraction),null!==a.element&&i.push(a)}else{var l=void 0;if(n.length<1)return[];for(var c=0,u=n;c<u.length;c++){var d=u[c];if((!e._options.group||d.getAttribute("data-intro-group")===e._options.group)&&"none"!==d.style.display){var h=parseInt(d.getAttribute("data-step")||"",10);l=e._options.disableInteraction,d.hasAttribute("data-disable-interaction")&&(l=!!d.getAttribute("data-disable-interaction")),h>0&&(i[h-1]={step:h,element:d,title:d.getAttribute("data-title")||"",intro:d.getAttribute("data-intro")||"",tooltipClass:d.getAttribute("data-tooltip-class")||void 0,highlightClass:d.getAttribute("data-highlight-class")||void 0,position:d.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:d.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:l})}}for(var p=0,f=0,m=n;f<m.length;f++)if(d=m[f],(!e._options.group||d.getAttribute("data-intro-group")===e._options.group)&&null===d.getAttribute("data-step")){for(;void 0!==i[p];)p++;l=d.hasAttribute("data-disable-interaction")?!!d.getAttribute("data-disable-interaction"):e._options.disableInteraction,i[p]={element:d,title:d.getAttribute("data-title")||"",intro:d.getAttribute("data-intro")||"",step:p+1,tooltipClass:d.getAttribute("data-tooltip-class")||void 0,highlightClass:d.getAttribute("data-highlight-class")||void 0,position:d.getAttribute("data-position")||e._options.tooltipPosition,scrollTo:d.getAttribute("data-scroll-to")||e._options.scrollTo,disableInteraction:l}}}for(var g=[],y=0;y<i.length;y++)i[y]&&g.push(i[y]);return(i=g).sort((function(e,t){return e.step-t.step})),i}function Oe(e,t){var n=e._currentStep;if(null!=n&&-1!=n){var i=e._introItems[n],r=document.querySelector(".introjs-tooltipReferenceLayer"),o=document.querySelector(".introjs-helperLayer"),a=document.querySelector(".introjs-disableInteraction");ae(e,i,o),ae(e,i,r),ae(e,i,a),t&&(e._introItems=Re(e,e._targetElement),function(e,t){if(e._options.showBullets){var n=document.querySelector(".introjs-bullets");n&&n.parentNode&&n.parentNode.replaceChild(me(e,t),n)}}(e,i),ge(r,n,e._introItems.length));var s=document.querySelector(".introjs-arrow"),l=document.querySelector(".introjs-tooltip");return l&&s&&ue(e,e._introItems[n],l,s),Ae(e),e}}function Be(e){Oe(e)}function De(e,t){if(void 0===t&&(t=!1),e&&e.parentElement){var n=e.parentElement;t?(oe(e,{opacity:"0"}),window.setTimeout((function(){try{n.removeChild(e)}catch(e){}}),500)):n.removeChild(e)}}function Fe(e,t,n){return void 0===n&&(n=!1),Z(this,void 0,void 0,(function(){var i,r,o,a;return $(this,(function(s){switch(s.label){case 0:return i=!0,void 0===e._introBeforeExitCallback?[3,2]:[4,e._introBeforeExitCallback.call(e,t)];case 1:i=s.sent(),s.label=2;case 2:if(!n&&!1===i)return[2];if((r=Array.from(t.querySelectorAll(".introjs-overlay")))&&r.length)for(o=0,a=r;o<a.length;o++)De(a[o]);return De(t.querySelector(".introjs-helperLayer"),!0),De(t.querySelector(".introjs-tooltipReferenceLayer")),De(t.querySelector(".introjs-disableInteraction")),De(document.querySelector(".introjsFloatingElement")),de(),G.off(window,"keydown",we,e,!0),G.off(window,"resize",Be,e,!0),Y(e._introExitCallback)?[4,e._introExitCallback.call(e)]:[3,4];case 3:s.sent(),s.label=4;case 4:return e._currentStep=-1,[2]}}))}))}function He(e,t){return Z(this,void 0,void 0,(function(){var n;return $(this,(function(i){switch(i.label){case 0:return e.isActive()?Y(e._introStartCallback)?[4,e._introStartCallback.call(e,t)]:[3,2]:[2,!1];case 1:i.sent(),i.label=2;case 2:return 0===(n=Re(e,t)).length?[2,!1]:(e._introItems=n,function(e,t){var n=this,i=he("div",{className:"introjs-overlay"});oe(i,{top:0,bottom:0,left:0,right:0,position:"fixed"}),t.appendChild(i),!0===e._options.exitOnOverlayClick&&(oe(i,{cursor:"pointer"}),i.onclick=function(){return Z(n,void 0,void 0,(function(){return $(this,(function(n){switch(n.label){case 0:return[4,Fe(e,t)];case 1:return n.sent(),[2]}}))}))})}(e,t),[4,_e(e)]);case 3:i.sent(),t.addEventListener,e._options.keyboardNavigation&&G.on(window,"keydown",we,e,!0),G.on(window,"resize",Be,e,!0),i.label=4;case 4:return[2,!1]}}))}))}function Ze(e,t,n){return e[t]=n,e}var $e=function(){function e(e){this._currentStep=-1,this._introItems=[],this._hintItems=[],this._targetElement=e,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"\xd7",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}return e.prototype.isActive=function(){return(!this._options.dontShowAgain||""===(e=V(this._options.dontShowAgainCookie))||"true"!==e)&&this._options.isActive;var e},e.prototype.clone=function(){return new e(this._targetElement)},e.prototype.setOption=function(e,t){return this._options=Ze(this._options,e,t),this},e.prototype.setOptions=function(e){return this._options=function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var r=i[n];e=Ze(e,r[0],r[1])}return e}(this._options,e),this},e.prototype.start=function(){return Z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,He(this,this._targetElement)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.goToStep=function(e){return Z(this,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,ve(this,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.addStep=function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},e.prototype.addSteps=function(e){if(!e.length)return this;for(var t=0;t<e.length;t++)this.addStep(e[t]);return this},e.prototype.goToStepNumber=function(e){return Z(this,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,be(this,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.nextStep=function(){return Z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,_e(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.previousStep=function(){return Z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,xe(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.currentStep=function(){return this._currentStep},e.prototype.exit=function(e){return Z(this,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,Fe(this,this._targetElement,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.refresh=function(e){return Oe(this,e),this},e.prototype.setDontShowAgain=function(e){return function(e,t){t?W(e._options.dontShowAgainCookie,"true",e._options.dontShowAgainCookieDays):W(e._options.dontShowAgainCookie,"",-1)}(this,e),this},e.prototype.onbeforechange=function(e){if(!Y(e))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},e.prototype.onchange=function(e){if(!Y(e))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},e.prototype.onafterchange=function(e){if(!Y(e))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},e.prototype.oncomplete=function(e){if(!Y(e))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},e.prototype.onhintsadded=function(e){if(!Y(e))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},e.prototype.onhintclick=function(e){if(!Y(e))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},e.prototype.onhintclose=function(e){if(!Y(e))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},e.prototype.onstart=function(e){if(!Y(e))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=e,this},e.prototype.onexit=function(e){if(!Y(e))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},e.prototype.onskip=function(e){if(!Y(e))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},e.prototype.onbeforeexit=function(e){if(!Y(e))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},e.prototype.addHints=function(){return Z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,ze(this,this._targetElement)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.hideHint=function(e){return Z(this,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,Ce(this,e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.hideHints=function(){return Z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,Ee(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.showHint=function(e){return Pe(e),this},e.prototype.showHints=function(){return Z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,Ne(this)];case 1:return e.sent(),[2,this]}}))}))},e.prototype.removeHints=function(){return function(e){for(var t=0,n=Se(".introjs-hint");t<n.length;t++){var i=n[t].getAttribute("data-step");i&&je(parseInt(i,10))}G.off(document,"click",Le,e,!1),G.off(window,"resize",Ae,e,!0),e._hintsAutoRefreshFunction&&G.off(window,"scroll",e._hintsAutoRefreshFunction,e,!0)}(this),this},e.prototype.removeHint=function(e){return je(e),this},e.prototype.showHintDialog=function(e){return Z(this,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return[4,Te(this,e)];case 1:return t.sent(),[2,this]}}))}))},e}(),We=function e(t){var n;if("object"===H(t))n=new $e(t);else if("string"==typeof t){var i=document.querySelector(t);if(!i)throw new Error("There is no element with given selector.");n=new $e(i)}else n=new $e(document.body);return e.instances[q(n,"introjs-instance")]=n,n};We.version="7.2.0",We.instances={};var Ve=n(885);const Ue=i.oneOf(["top","right","bottom","left","bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned","top-left-aligned","top-middle-aligned","top-right-aligned","auto"]),qe=i.oneOf(["top-middle","top-left","top-right","bottom-left","bottom-right","bottom-middle","middle-left","middle-right","middle-middle"]),Ge=i.shape({nextLabel:i.string,prevLabel:i.string,skipLabel:i.string,doneLabel:i.string,hidePrev:i.bool,hideNext:i.bool,tooltipPosition:Ue,tooltipClass:i.string,highlightClass:i.string,exitOnEsc:i.bool,exitOnOverlayClick:i.bool,showStepNumbers:i.bool,keyboardNavigation:i.bool,showButtons:i.bool,showBullets:i.bool,showProgress:i.bool,scrollToElement:i.bool,overlayOpacity:i.number,scrollPadding:i.number,positionPrecedence:i.arrayOf(i.string),disableInteraction:i.bool,hintPosition:qe,hintButtonLabel:i.string,hintAnimation:i.bool}),Ye={hidePrev:!0,hideNext:!0};function Ke(){return"undefined"===typeof window}class Xe extends e.Component{static propTypes=(()=>({enabled:i.bool,initialStep:i.number.isRequired,steps:i.arrayOf(i.shape({element:i.oneOfType([i.string,"undefined"===typeof Element?i.any:i.instanceOf(Element)]),intro:i.node.isRequired,position:Ue,tooltipClass:i.string,highlightClass:i.string})).isRequired,onStart:i.func,onExit:i.func.isRequired,onBeforeExit:i.func,onBeforeChange:i.func,onAfterChange:i.func,onChange:i.func,onPreventChange:i.func,onComplete:i.func,options:Ge}))();static defaultProps=(()=>({enabled:!1,onStart:null,onBeforeExit:null,onBeforeChange:null,onAfterChange:null,onChange:null,onPreventChange:null,onComplete:null,options:Ye}))();constructor(e){super(e),this.introJs=null,this.isConfigured=!1,this.isVisible=!1,this.installIntroJs()}componentDidMount(){this.props.enabled&&(this.configureIntroJs(),this.renderSteps())}componentDidUpdate(e){const{enabled:t,steps:n,options:i}=this.props;this.isConfigured&&e.steps===n&&e.options===i||(this.configureIntroJs(),this.renderSteps()),e.enabled!==t&&this.renderSteps()}componentWillUnmount(){this.introJs.exit()}onExit=()=>{const{onExit:e}=this.props;this.isVisible=!1,e(this.introJs._currentStep)};onBeforeExit=()=>{const{onBeforeExit:e}=this.props;return!e||e(this.introJs._currentStep)};onBeforeChange=e=>{if(!this.isVisible)return!0;const{onBeforeChange:t,onPreventChange:n}=this.props;if(t){const i=t(this.introJs._currentStep,e);return!1===i&&n&&setTimeout((()=>{n(this.introJs._currentStep)}),0),i}return!0};onAfterChange=e=>{if(!this.isVisible)return;const{onAfterChange:t}=this.props;t&&t(this.introJs._currentStep,e)};onChange=e=>{if(!this.isVisible)return;const{onChange:t}=this.props;t&&t(this.introJs._currentStep,e)};onComplete=()=>{const{onComplete:e}=this.props;e&&e()};updateStepElement=e=>{const t=document.querySelector(this.introJs._options.steps[e].element);t&&(this.introJs._introItems[e].element=t,this.introJs._introItems[e].position=this.introJs._options.steps[e].position||"auto")};installIntroJs(){Ke()||(this.introJs=We(),this.introJs.onexit(this.onExit),this.introJs.onbeforeexit(this.onBeforeExit),this.introJs.onbeforechange(this.onBeforeChange),this.introJs.onafterchange(this.onAfterChange),this.introJs.onchange(this.onChange),this.introJs.oncomplete(this.onComplete))}configureIntroJs(){const{options:t,steps:n}=this.props,i=n.map((t=>(0,e.isValidElement)(t.intro)?{...t,intro:(0,Ve.qV)(t.intro)}:t));this.introJs.setOptions({...t,steps:i}),this.isConfigured=!0}renderSteps(){const{enabled:e,initialStep:t,steps:n,onStart:i}=this.props;e&&n.length>0&&!this.isVisible?(this.introJs.start(),this.isVisible=!0,this.introJs.goToStepNumber(t+1),i&&i(this.introJs._currentStep)):!e&&this.isVisible&&(this.isVisible=!1,this.introJs.exit())}render(){return null}}e.Component,i.bool,i.arrayOf(i.shape({element:i.string.isRequired,hint:i.string.isRequired,hintPosition:qe})).isRequired,i.func,i.func;var Je=n(579);const Qe=t=>{let{isOpen:n,onClose:i,onTabChange:r,currentTab:o}=t;(0,e.useEffect)((()=>{}),[n,o,r]);return(0,Je.jsx)(Xe,{enabled:n,steps:[{element:"header",intro:'Welcome to the "Stitched Up" Interactive Companion! This app helps you explore the world of Matt Parry\'s novel.',position:"bottom"},{element:".react-tabs__tab-list",intro:"These tabs let you navigate through different aspects of the novel.",position:"bottom"},{element:".react-tabs__tab:nth-child(1)",intro:"Explore detailed profiles of all characters in the novel, including their backgrounds, traits, and relationships.",position:"bottom"},{element:".react-tabs__tab:nth-child(2)",intro:"Visualize the complex connections between characters with this interactive network diagram.",position:"bottom"},{element:".react-tabs__tab:nth-child(3)",intro:"Follow the chronological events of the story from beginning to end.",position:"bottom"},{element:".react-tabs__tab:nth-child(4)",intro:"Discover key locations where the story takes place and their significance.",position:"bottom"},{element:".react-tabs__tab:nth-child(5)",intro:"Explore the geographic setting of the novel with this detailed map showing locations, character movements, and event sites.",position:"bottom"},{element:".react-tabs__tab:nth-child(6)",intro:"Understand the structure of the plot and explore key themes and mystery elements.",position:"bottom"},{element:".react-tabs__tab:nth-child(7)",intro:"Browse important items and artifacts that play a role in the story.",position:"bottom"},{element:".react-tabs__tab:nth-child(8)",intro:"Learn about spy techniques and tradecraft mentioned in the novel.",position:"bottom"},{element:".current-selections",intro:"This panel shows your currently selected items for quick cross-reference. Click any item to jump to its detailed view.",position:"top"},{element:"footer",intro:'You\'re now ready to explore the world of "Stitched Up"! Click any tab to begin your adventure.',position:"top"}],initialStep:0,onExit:i,onBeforeChange:e=>{if(e>=2&&e<=9){const t=e-2;o!==t&&r(t)}},options:{doneLabel:"Finish",showStepNumbers:!0,showBullets:!0,showProgress:!0,scrollToElement:!0,highlightClass:"intro-highlight",tooltipClass:"customTooltip",disableInteraction:!1,overlayOpacity:.3}})},et=e=>{let{darkMode:t,toggleDarkMode:n}=e;return(0,Je.jsxs)("div",{className:"dark-mode-toggle flex items-center",onClick:n,children:[(0,Je.jsx)("span",{className:"mr-2 text-sm",children:t?"Dark":"Light"}),(0,Je.jsx)("div",{className:"toggle-track",children:(0,Je.jsx)("div",{className:"toggle-thumb",children:t?(0,Je.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-xs",children:"\ud83c\udf19"}):(0,Je.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-xs",children:"\u2600\ufe0f"})})})]})},tt=e=>{switch(e){case"Protagonists":return"bg-blue-200 text-blue-800";case"Fifth Columnists":return"bg-red-200 text-red-800";case"German Connection":return"bg-yellow-200 text-yellow-800";default:return"bg-gray-200 text-gray-800"}},nt=e=>e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),it=t=>{let{onCharacterSelect:n,selectedCharacter:i,charactersData:r,relationshipsData:o}=t;const[a,s]=(0,e.useState)(""),[l,c]=(0,e.useState)("all"),[u,d]=(0,e.useState)("name"),h=r.filter((e=>{const t=e.name.toLowerCase().includes(a.toLowerCase())||e.role&&e.role.toLowerCase().includes(a.toLowerCase()),n="all"===l||e.group===l;return t&&n})).sort(((e,t)=>{if("name"===u)return e.name.localeCompare(t.name);if("importance"===u){var n,i,r,o;const a=((null===(n=e.relations)||void 0===n?void 0:n.length)||0)+((null===(i=e.development)||void 0===i?void 0:i.length)||0);return((null===(r=t.relations)||void 0===r?void 0:r.length)||0)+((null===(o=t.development)||void 0===o?void 0:o.length)||0)-a}return 0})),p=e=>{var t;return[...(null===(t=r.find((t=>t.id===e)))||void 0===t?void 0:t.relations)||[],...o.filter((t=>t.from===e)).map((e=>({characterId:e.to,type:e.type}))),...o.filter((t=>t.to===e)).map((e=>({characterId:e.from,type:e.type})))].filter(((e,t,n)=>t===n.findIndex((t=>t.characterId===e.characterId))))};return(0,Je.jsx)("div",{className:"character-explorer",children:(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Je.jsxs)("div",{className:"md:col-span-1 h-screen overflow-y-auto pr-4",children:[(0,Je.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Character List"}),(0,Je.jsx)("div",{className:"mb-4",children:(0,Je.jsx)("input",{type:"text",placeholder:"Search characters...",className:"w-full p-2 border rounded",value:a,onChange:e=>s(e.target.value)})}),(0,Je.jsxs)("div",{className:"mb-4 flex space-x-2",children:[(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("all"===l?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>c("all"),children:"All"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("Protagonists"===l?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>c("Protagonists"),children:"Protagonists"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("Fifth Columnists"===l?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>c("Fifth Columnists"),children:"Fifth Columnists"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("German Connection"===l?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>c("German Connection"),children:"Germans"})]}),(0,Je.jsxs)("div",{className:"mb-4",children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort by"}),(0,Je.jsxs)("select",{className:"w-full p-2 border rounded",value:u,onChange:e=>d(e.target.value),children:[(0,Je.jsx)("option",{value:"name",children:"Name"}),(0,Je.jsx)("option",{value:"importance",children:"Importance"})]})]}),(0,Je.jsx)("div",{className:"space-y-2",children:h.map((e=>(0,Je.jsxs)("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 border-blue-300":""),onClick:()=>n(e),children:[(0,Je.jsx)("h3",{className:"font-bold",children:e.name}),(0,Je.jsxs)("div",{className:"flex flex-wrap mt-1 gap-1",children:[(0,Je.jsx)("span",{className:`text-xs px-2 py-1 rounded ${tt(e.group)}`,children:e.group}),e.title&&(0,Je.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-gray-200",children:e.title})]}),(0,Je.jsx)("div",{className:"text-sm text-gray-600 mt-1 truncate",children:e.role||"Unknown role"})]},e.id)))})]}),(0,Je.jsx)("div",{className:"md:col-span-2 border-l pl-6",children:i?(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold",children:i.name}),i.title&&(0,Je.jsx)("p",{className:"text-gray-600 italic",children:i.title}),(0,Je.jsx)("div",{className:"flex mt-2",children:(0,Je.jsx)("span",{className:`text-sm px-2 py-1 rounded ${tt(i.group)}`,children:i.group})})]}),(0,Je.jsx)("div",{className:"w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center",children:(0,Je.jsx)("span",{className:"text-gray-500",children:"Photo"})})]}),(0,Je.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Background"}),(0,Je.jsx)("p",{children:i.background||"No background information available."}),(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Personality"}),(0,Je.jsx)("p",{children:i.personality||"No personality information available."}),i.traits&&i.traits.length>0&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Key Traits"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-2",children:i.traits.map(((e,t)=>(0,Je.jsx)("span",{className:"bg-gray-200 px-2 py-1 rounded text-sm",children:e},t)))})]}),i.aliases&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Aliases & Disguises"}),(0,Je.jsx)("ul",{className:"list-disc pl-5",children:i.aliases.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Role"}),(0,Je.jsx)("p",{children:i.role||"No role information available."}),p(i.id).length>0&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Key Relationships"}),(0,Je.jsx)("div",{className:"space-y-2",children:p(i.id).map(((e,t)=>{const i=r.find((t=>t.id===e.characterId));return i?(0,Je.jsxs)("div",{className:"border-l-4 border-blue-300 pl-3 cursor-pointer hover:bg-blue-50",onClick:()=>n(i),children:[(0,Je.jsx)("div",{className:"font-medium",children:i.name}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.type||e.description||"Relationship"})]},t):null}))})]}),i.fate&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Fate"}),(0,Je.jsx)("p",{children:i.fate})]})]})]}),i.development&&i.development.length>0&&(0,Je.jsxs)("div",{className:"mt-6",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Character Development"}),(0,Je.jsxs)("div",{className:"relative",children:[(0,Je.jsx)("div",{className:"absolute top-0 bottom-0 left-8 w-1 bg-gray-300"}),(0,Je.jsx)("div",{className:"space-y-6",children:i.development.map(((e,t)=>(0,Je.jsxs)("div",{className:"relative flex",children:[(0,Je.jsx)("div",{className:"flex-shrink-0 w-16 text-right",children:(0,Je.jsx)("div",{className:"h-8 w-8 bg-blue-500 rounded-full z-10 relative flex items-center justify-center text-white",children:t+1})}),(0,Je.jsxs)("div",{className:"flex-grow ml-4 pt-1",children:[(0,Je.jsx)("h4",{className:"font-medium",children:e.phase}),(0,Je.jsx)("p",{className:"text-gray-600",children:e.description})]})]},t)))})]})]}),i.key_scenes&&(0,Je.jsxs)("div",{className:"mt-6",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Key Scenes"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-2",children:i.key_scenes.map(((e,t)=>(0,Je.jsx)("span",{className:"px-3 py-1 bg-gray-200 rounded-full text-sm",children:nt(e)},t)))})]})]}):(0,Je.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:(0,Je.jsx)("p",{children:"Select a character from the list to view details"})})})]})})};function rt(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,i=0;i<e.length;i++)""!==(n=rt(e[i]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var ot=n(443);const at=e=>{let t;const n=new Set,i=(e,i)=>{const r="function"===typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=i?i:"object"!==typeof r||null===r)?r:Object.assign({},t,r),n.forEach((n=>n(t,e)))}},r=()=>t,o={setState:i,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(i,r,o);return o},st=e=>e?at(e):at;const{useDebugValue:lt}=e,{useSyncExternalStoreWithSelector:ct}=ot,ut=e=>e;function dt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut,n=arguments.length>2?arguments[2]:void 0;const i=ct(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return lt(i),i}const ht=(e,t)=>{const n=st(e),i=function(e){return dt(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(i,n),i};function pt(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,i]of e)if(!Object.is(i,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var ft={value:()=>{}};function mt(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new gt(i)}function gt(e){this._=e}function yt(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function vt(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=ft,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}gt.prototype=mt.prototype={constructor:gt,on:function(e,t){var n,i,r=this._,o=(i=r,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)r[n]=vt(r[n],e.name,t);else if(null==t)for(n in r)r[n]=vt(r[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=yt(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new gt(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const bt=mt;function _t(){}function xt(e){return null==e?_t:function(){return this.querySelector(e)}}function wt(){return[]}function kt(e){return null==e?wt:function(){return this.querySelectorAll(e)}}function St(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function Ct(e){return function(){return this.matches(e)}}function Et(e){return function(t){return t.matches(e)}}var Nt=Array.prototype.find;function Pt(){return this.firstElementChild}var jt=Array.prototype.filter;function It(){return Array.from(this.children)}function Mt(e){return new Array(e.length)}function Tt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Lt(e,t,n,i,r,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new Tt(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function zt(e,t,n,i,r,o,a){var s,l,c,u=new Map,d=t.length,h=o.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(e,o[s],s,o)+"",(l=u.get(c))?(i[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new Tt(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(r[s]=l)}function At(e){return e.__data__}function Rt(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ot(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Tt.prototype={constructor:Tt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Bt="http://www.w3.org/1999/xhtml";const Dt={svg:"http://www.w3.org/2000/svg",xhtml:Bt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ft(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Dt.hasOwnProperty(t)?{space:Dt[t],local:e}:e}function Ht(e){return function(){this.removeAttribute(e)}}function Zt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $t(e,t){return function(){this.setAttribute(e,t)}}function Wt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Vt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ut(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Gt(e){return function(){this.style.removeProperty(e)}}function Yt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Kt(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Xt(e,t){return e.style.getPropertyValue(t)||qt(e).getComputedStyle(e,null).getPropertyValue(t)}function Jt(e){return function(){delete this[e]}}function Qt(e,t){return function(){this[e]=t}}function en(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function tn(e){return e.trim().split(/^|\s+/)}function nn(e){return e.classList||new rn(e)}function rn(e){this._node=e,this._names=tn(e.getAttribute("class")||"")}function on(e,t){for(var n=nn(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function an(e,t){for(var n=nn(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function sn(e){return function(){on(this,e)}}function ln(e){return function(){an(this,e)}}function cn(e,t){return function(){(t.apply(this,arguments)?on:an)(this,e)}}function un(){this.textContent=""}function dn(e){return function(){this.textContent=e}}function hn(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function pn(){this.innerHTML=""}function fn(e){return function(){this.innerHTML=e}}function mn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function gn(){this.nextSibling&&this.parentNode.appendChild(this)}function yn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bt&&t.documentElement.namespaceURI===Bt?t.createElement(e):t.createElementNS(n,e)}}function bn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _n(e){var t=Ft(e);return(t.local?bn:vn)(t)}function xn(){return null}function wn(){var e=this.parentNode;e&&e.removeChild(this)}function kn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Sn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cn(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function En(e,t,n){return function(){var i,r=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=t);this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Nn(e,t,n){var i=qt(e),r=i.CustomEvent;"function"===typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Pn(e,t){return function(){return Nn(this,e,t)}}function jn(e,t){return function(){return Nn(this,e,t.apply(this,arguments))}}rn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var In=[null];function Mn(e,t){this._groups=e,this._parents=t}function Tn(){return new Mn([[document.documentElement]],In)}Mn.prototype=Tn.prototype={constructor:Mn,select:function(e){"function"!==typeof e&&(e=xt(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=t[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Mn(i,this._parents)},selectAll:function(e){e="function"===typeof e?St(e):kt(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(e.call(a,a.__data__,c,s)),r.push(a));return new Mn(i,r)},selectChild:function(e){return this.select(null==e?Pt:function(e){return function(){return Nt.call(this.children,e)}}("function"===typeof e?e:Et(e)))},selectChildren:function(e){return this.selectAll(null==e?It:function(e){return function(){return jt.call(this.children,e)}}("function"===typeof e?e:Et(e)))},filter:function(e){"function"!==typeof e&&(e=Ct(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Mn(i,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,At);var n,i=t?zt:Lt,r=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],h=o[u],p=h.length,f=Rt(e.call(d,d&&d.__data__,u,r)),m=f.length,g=l[u]=new Array(m),y=s[u]=new Array(m);i(d,h,g,y,c[u]=new Array(p),f,t);for(var v,b,_=0,x=0;_<m;++_)if(v=g[_]){for(_>=x&&(x=_+1);!(b=y[x])&&++x<m;);v._next=b||null}}return(s=new Mn(s,r))._enter=l,s._exit=c,s},enter:function(){return new Mn(this._enter||this._groups.map(Mt),this._parents)},exit:function(){return new Mn(this._exit||this._groups.map(Mt),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return"function"===typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var c,u=n[l],d=i[l],h=u.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<r;++l)s[l]=n[l];return new Mn(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ot);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Mn(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],a=0,s=o.length;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this},attr:function(e,t){var n=Ft(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?Zt:Ht:"function"===typeof t?n.local?Ut:Vt:n.local?Wt:$t)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Gt:"function"===typeof t?Kt:Yt)(e,t,null==n?"":n)):Xt(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Jt:"function"===typeof t?en:Qt)(e,t)):this.node()[e]},classed:function(e,t){var n=tn(e+"");if(arguments.length<2){for(var i=nn(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?cn:t?sn:ln)(n,t))},text:function(e){return arguments.length?this.each(null==e?un:("function"===typeof e?hn:dn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?pn:("function"===typeof e?mn:fn)(e)):this.node().innerHTML},raise:function(){return this.each(gn)},lower:function(){return this.each(yn)},append:function(e){var t="function"===typeof e?e:_n(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:_n(e),i=null==t?xn:"function"===typeof t?t:xt(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(wn)},clone:function(e){return this.select(e?Sn:kn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?En:Cn,i=0;i<a;++i)this.each(s(o[i],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?jn:Pn)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};const Ln=Tn;function zn(e){return"string"===typeof e?new Mn([[document.querySelector(e)]],[document.documentElement]):new Mn([[e]],In)}const An={passive:!1},Rn={capture:!0,passive:!1};function On(e){e.stopImmediatePropagation()}function Bn(e){e.preventDefault(),e.stopImmediatePropagation()}function Dn(e){var t=e.document.documentElement,n=zn(e).on("dragstart.drag",Bn,Rn);"onselectstart"in t?n.on("selectstart.drag",Bn,Rn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Fn(e,t){var n=e.document.documentElement,i=zn(e).on("dragstart.drag",null);t&&(i.on("click.drag",Bn,Rn),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Hn(e){return((e=Math.exp(e))+1/e)/2}const Zn=function e(t,n,i){function r(e,r){var o,a,s=e[0],l=e[1],c=e[2],u=r[0],d=r[1],h=r[2],p=u-s,f=d-l,m=p*p+f*f;if(m<1e-12)a=Math.log(h/c)/t,o=function(e){return[s+e*p,l+e*f,c*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),y=(h*h-c*c+i*m)/(2*c*n*g),v=(h*h-c*c-i*m)/(2*h*n*g),b=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(v*v+1)-v);a=(_-b)/t,o=function(e){var i,r=e*a,o=Hn(b),u=c/(n*g)*(o*(i=t*r+b,((i=Math.exp(2*i))-1)/(i+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+u*p,l+u*f,c*o/Hn(t*r+b)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return r.rho=function(t){var n=Math.max(.001,+t),i=n*n;return e(n,i,i*i)},r}(Math.SQRT2,2,4);function $n(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var Wn,Vn,Un=0,qn=0,Gn=0,Yn=0,Kn=0,Xn=0,Jn="object"===typeof performance&&performance.now?performance:Date,Qn="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ei(){return Kn||(Qn(ti),Kn=Jn.now()+Xn)}function ti(){Kn=0}function ni(){this._call=this._time=this._next=null}function ii(e,t,n){var i=new ni;return i.restart(e,t,n),i}function ri(){Kn=(Yn=Jn.now())+Xn,Un=qn=0;try{!function(){ei(),++Un;for(var e,t=Wn;t;)(e=Kn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Un}()}finally{Un=0,function(){var e,t,n=Wn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Wn=t);Vn=e,ai(i)}(),Kn=0}}function oi(){var e=Jn.now(),t=e-Yn;t>1e3&&(Xn-=t,Yn=e)}function ai(e){Un||(qn&&(qn=clearTimeout(qn)),e-Kn>24?(e<1/0&&(qn=setTimeout(ri,e-Jn.now()-Xn)),Gn&&(Gn=clearInterval(Gn))):(Gn||(Yn=Jn.now(),Gn=setInterval(oi,1e3)),Un=1,Qn(ri)))}function si(e,t,n){var i=new ni;return t=null==t?0:+t,i.restart((n=>{i.stop(),e(n+t)}),t,n),i}ni.prototype=ii.prototype={constructor:ni,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?ei():+n)+(null==t?0:+t),this._next||Vn===this||(Vn?Vn._next=this:Wn=this,Vn=this),this._call=e,this._time=n,ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,ai())}};var li=bt("start","end","cancel","interrupt"),ci=[];function ui(e,t,n,i,r,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var c,u,d,h;if(1!==n.state)return l();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return si(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(si((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=ii(o,0,n.time)}(e,n,{name:t,index:i,group:r,on:li,tween:ci,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function di(e,t){var n=pi(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function hi(e,t){var n=pi(e,t);if(n.state>3)throw new Error("too late; already running");return n}function pi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fi(e,t){var n,i,r,o=e.__transition,a=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete e.__transition}}function mi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var gi,yi=180/Math.PI,vi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bi(e,t,n,i,r,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*yi,skewX:Math.atan(l)*yi,scaleX:a,scaleY:s}}function _i(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,i,r,o,a,s){if(e!==r||i!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:mi(e,r)},{i:l-2,x:mi(i,o)})}else(r||o)&&a.push("translate("+r+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:mi(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:mi(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,a.skewX,s,l),function(e,t,n,i,o,a){if(e!==n||t!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:mi(e,n)},{i:s-2,x:mi(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,i=l.length;++n<i;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var xi=_i((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vi:bi(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),wi=_i((function(e){return null==e?vi:(gi||(gi=document.createElementNS("http://www.w3.org/2000/svg","g")),gi.setAttribute("transform",e),(e=gi.transform.baseVal.consolidate())?bi((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):vi)}),", ",")",")");function ki(e,t){var n,i;return function(){var r=hi(this,e),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===t){(i=i.slice()).splice(a,1);break}r.tween=i}}function Si(e,t,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var o=hi(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function Ci(e,t,n){var i=e._id;return e.each((function(){var e=hi(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return pi(e,i).value[t]}}function Ei(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ni(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Pi(){}var ji=.7,Ii=1/ji,Mi="\\s*([+-]?\\d+)\\s*",Ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zi=/^#([0-9a-f]{3,8})$/,Ai=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),Ri=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Oi=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${Ti}\\)$`),Bi=new RegExp(`^rgba\\(${Li},${Li},${Li},${Ti}\\)$`),Di=new RegExp(`^hsl\\(${Ti},${Li},${Li}\\)$`),Fi=new RegExp(`^hsla\\(${Ti},${Li},${Li},${Ti}\\)$`),Hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zi(){return this.rgb().formatHex()}function $i(){return this.rgb().formatRgb()}function Wi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Vi(t):3===n?new Gi(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ui(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ui(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ai.exec(e))?new Gi(t[1],t[2],t[3],1):(t=Ri.exec(e))?new Gi(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Oi.exec(e))?Ui(t[1],t[2],t[3],t[4]):(t=Bi.exec(e))?Ui(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Di.exec(e))?er(t[1],t[2]/100,t[3]/100,1):(t=Fi.exec(e))?er(t[1],t[2]/100,t[3]/100,t[4]):Hi.hasOwnProperty(e)?Vi(Hi[e]):"transparent"===e?new Gi(NaN,NaN,NaN,0):null}function Vi(e){return new Gi(e>>16&255,e>>8&255,255&e,1)}function Ui(e,t,n,i){return i<=0&&(e=t=n=NaN),new Gi(e,t,n,i)}function qi(e,t,n,i){return 1===arguments.length?((r=e)instanceof Pi||(r=Wi(r)),r?new Gi((r=r.rgb()).r,r.g,r.b,r.opacity):new Gi):new Gi(e,t,n,null==i?1:i);var r}function Gi(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Yi(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function Ki(){const e=Xi(this.opacity);return`${1===e?"rgb(":"rgba("}${Ji(this.r)}, ${Ji(this.g)}, ${Ji(this.b)}${1===e?")":`, ${e})`}`}function Xi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ji(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qi(e){return((e=Ji(e))<16?"0":"")+e.toString(16)}function er(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nr(e,t,n,i)}function tr(e){if(e instanceof nr)return new nr(e.h,e.s,e.l,e.opacity);if(e instanceof Pi||(e=Wi(e)),!e)return new nr;if(e instanceof nr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new nr(a,s,l,e.opacity)}function nr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function ir(e){return(e=(e||0)%360)<0?e+360:e}function rr(e){return Math.max(0,Math.min(1,e||0))}function or(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ar(e,t,n,i,r){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*i+a*r)/6}Ei(Pi,Wi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zi,formatHex:Zi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tr(this).formatHsl()},formatRgb:$i,toString:$i}),Ei(Gi,qi,Ni(Pi,{brighter(e){return e=null==e?Ii:Math.pow(Ii,e),new Gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ji:Math.pow(ji,e),new Gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gi(Ji(this.r),Ji(this.g),Ji(this.b),Xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yi,formatHex:Yi,formatHex8:function(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ki,toString:Ki})),Ei(nr,(function(e,t,n,i){return 1===arguments.length?tr(e):new nr(e,t,n,null==i?1:i)}),Ni(Pi,{brighter(e){return e=null==e?Ii:Math.pow(Ii,e),new nr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ji:Math.pow(ji,e),new nr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Gi(or(e>=240?e-240:e+120,r,i),or(e,r,i),or(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new nr(ir(this.h),rr(this.s),rr(this.l),Xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xi(this.opacity);return`${1===e?"hsl(":"hsla("}${ir(this.h)}, ${100*rr(this.s)}%, ${100*rr(this.l)}%${1===e?")":`, ${e})`}`}}));const sr=e=>()=>e;function lr(e,t){return function(n){return e+n*t}}function cr(e){return 1===(e=+e)?ur:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):sr(isNaN(t)?n:t)}}function ur(e,t){var n=t-e;return n?lr(e,n):sr(isNaN(e)?t:e)}const dr=function e(t){var n=cr(t);function i(e,t){var i=n((e=qi(e)).r,(t=qi(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),a=ur(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function hr(e){return function(t){var n,i,r=t.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=qi(t[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=e(o),a=e(a),s=e(s),i.opacity=1,function(e){return i.r=o(e),i.g=a(e),i.b=s(e),i+""}}}hr((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],a=i>0?e[i-1]:2*r-o,s=i<t-1?e[i+2]:2*o-r;return ar((n-i/t)*t,a,r,o,s)}})),hr((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],a=e[(i+1)%t],s=e[(i+2)%t];return ar((n-i/t)*t,r,o,a,s)}}));var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fr=new RegExp(pr.source,"g");function mr(e,t){var n,i,r,o=pr.lastIndex=fr.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=pr.exec(e))&&(i=fr.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:mi(n,i)})),o=fr.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}function gr(e,t){var n;return("number"===typeof t?mi:t instanceof Wi?dr:(n=Wi(t))?(t=n,dr):mr)(e,t)}function yr(e){return function(){this.removeAttribute(e)}}function vr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function br(e,t,n){var i,r,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===i?r:r=t(i=a,n)}}function _r(e,t,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===i?r:r=t(i=a,n)}}function xr(e,t,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=t(i=a,l));this.removeAttribute(e)}}function wr(e,t,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=t(i=a,l));this.removeAttributeNS(e.space,e.local)}}function kr(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Sr(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Cr(e,t){return function(){di(this,e).delay=+t.apply(this,arguments)}}function Er(e,t){return t=+t,function(){di(this,e).delay=t}}function Nr(e,t){return function(){hi(this,e).duration=+t.apply(this,arguments)}}function Pr(e,t){return t=+t,function(){hi(this,e).duration=t}}var jr=Ln.prototype.constructor;function Ir(e){return function(){this.style.removeProperty(e)}}var Mr=0;function Tr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Lr(){return++Mr}var zr=Ln.prototype;Tr.prototype=function(e){return Ln().transition(e)}.prototype={constructor:Tr,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=xt(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,ui(d[h],t,n,h,d,pi(s,n)));return new Tr(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=kt(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=pi(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&ui(h,t,n,m,p,f);o.push(p),a.push(l)}return new Tr(o,a,t,n)},selectChild:zr.selectChild,selectChildren:zr.selectChildren,filter:function(e){"function"!==typeof e&&(e=Ct(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Tr(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<i;++s)a[s]=t[s];return new Tr(a,this._parents,this._name,this._id)},selection:function(){return new jr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Lr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=pi(a,t);ui(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Tr(i,this._parents,e,n)},call:zr.call,nodes:zr.nodes,node:zr.node,size:zr.size,empty:zr.empty,each:zr.each,on:function(e,t){var n=this._id;return arguments.length<2?pi(this.node(),n).on.on(e):this.each(function(e,t,n){var i,r,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?di:hi;return function(){var a=o(this,e),s=a.on;s!==i&&(r=(i=s).copy()).on(t,n),a.on=r}}(n,e,t))},attr:function(e,t){var n=Ft(e),i="transform"===n?wi:gr;return this.attrTween(e,"function"===typeof t?(n.local?wr:xr)(n,i,Ci(this,"attr."+e,t)):null==t?(n.local?vr:yr)(n):(n.local?_r:br)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var i=Ft(e);return this.tween(n,(i.local?kr:Sr)(i,t))},style:function(e,t,n){var i="transform"===(e+="")?xi:gr;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var o=Xt(this,e),a=(this.style.removeProperty(e),Xt(this,e));return o===a?null:o===n&&a===i?r:r=t(n=o,i=a)}}(e,i)).on("end.style."+e,Ir(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var i,r,o;return function(){var a=Xt(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Xt(this,e)),a===l?null:a===i&&l===r?o:(r=l,o=t(i=a,s))}}(e,i,Ci(this,"style."+e,t))).each(function(e,t){var n,i,r,o,a="style."+t,s="end."+a;return function(){var l=hi(this,e),c=l.on,u=null==l.value[a]?o||(o=Ir(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,o=n+"";return function(){var a=Xt(this,e);return a===o?null:a===i?r:r=t(i=a,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!==typeof t)throw new Error;return this.tween(i,function(e,t,n){var i,r;function o(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}(e,o,n)),i}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ci(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&function(e){return function(t){this.textContent=e.call(this,t)}}(i)),t}return i._value=e,i}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=pi(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?ki:Si)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Cr:Er)(t,e)):pi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Nr:Pr)(t,e)):pi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){hi(this,e).ease=t}}(t,e)):pi(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;hi(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--r&&o()}};n.each((function(){var n=hi(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===r&&o()}))},[Symbol.iterator]:zr[Symbol.iterator]};var Ar={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Rr(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Ln.prototype.interrupt=function(e){return this.each((function(){fi(this,e)}))},Ln.prototype.transition=function(e){var t,n;e instanceof Tr?(t=e._id,e=e._name):(t=Lr(),(n=Ar).time=ei(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&ui(a,e,t,c,s,n||Rr(a,t));return new Tr(i,this._parents,e,t)};const Or=e=>()=>e;function Br(e,t){let{sourceEvent:n,target:i,transform:r,dispatch:o}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Dr(e,t,n){this.k=e,this.x=t,this.y=n}Dr.prototype={constructor:Dr,scale:function(e){return 1===e?this:new Dr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Dr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fr=new Dr(1,0,0);function Hr(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function $r(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Wr(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Vr(){return this.__zoom||Fr}function Ur(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function qr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gr(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Yr(){var e,t,n,i=$r,r=Wr,o=Gr,a=Ur,s=qr,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Zn,h=bt("start","zoom","end"),p=0,f=10;function m(e){e.property("__zoom",Vr).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Dr(t,e.x,e.y)}function y(e,t,n){var i=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return i===e.x&&r===e.y?e:new Dr(e.k,i,r)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,i){e.on("start.zoom",(function(){_(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(i).end()})).tween("zoom",(function(){var e=this,o=arguments,a=_(e,o).event(i),s=r.apply(e,o),l=null==n?v(s):"function"===typeof n?n.apply(e,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,o):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new Dr(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(i.apply(this,arguments)){var s=_(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,a.apply(this,arguments)))),h=$n(e);if(s.wheel)s.mouse[0][0]===h[0]&&s.mouse[0][1]===h[1]||(s.mouse[1]=u.invert(s.mouse[0]=h)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[h,u.invert(h)],fi(this),s.start()}Zr(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),150),s.zoom("mouse",o(y(g(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function k(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(!n&&i.apply(this,arguments)){var s=e.currentTarget,l=_(this,r,!0).event(e),u=zn(e.view).on("mousemove.zoom",(function(e){if(Zr(e),!l.moved){var t=e.clientX-h,n=e.clientY-f;l.moved=t*t+n*n>p}l.event(e).zoom("mouse",o(y(l.that.__zoom,l.mouse[0]=$n(e,s),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),Fn(e.view,l.moved),Zr(e),l.event(e).end()}),!0),d=$n(e,s),h=e.clientX,f=e.clientY;Dn(e.view),Hr(e),l.mouse=[d,this.__zoom.invert(d)],fi(this),l.start()}}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(i.apply(this,arguments)){var s=this.__zoom,l=$n(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),h=s.k*(e.shiftKey?.5:2),p=o(y(g(s,h),l,d),r.apply(this,n),c);Zr(e),u>0?zn(this).transition().duration(u).call(b,p,l,e):zn(this).call(m.transform,p,l,e)}}function C(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(i.apply(this,arguments)){var s,l,c,u,d=n.touches,h=d.length,p=_(this,o,n.changedTouches.length===h).event(n);for(Hr(n),l=0;l<h;++l)u=[u=$n(c=d[l],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),500)),fi(this),p.start())}}function E(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,a,s,l,u=_(this,n).event(e),d=e.changedTouches,h=d.length;for(Zr(e),r=0;r<h;++r)s=$n(a=d[r],this),u.touch0&&u.touch0[2]===a.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===a.identifier&&(u.touch1[0]=s);if(a=u.that.__zoom,u.touch1){var p=u.touch0[0],f=u.touch0[1],m=u.touch1[0],v=u.touch1[1],b=(b=m[0]-p[0])*b+(b=m[1]-p[1])*b,x=(x=v[0]-f[0])*x+(x=v[1]-f[1])*x;a=g(a,Math.sqrt(b/x)),s=[(p[0]+m[0])/2,(p[1]+m[1])/2],l=[(f[0]+v[0])/2,(f[1]+v[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",o(y(a,s,l),u.extent,c))}}function N(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(this.__zooming){var a,s,l=_(this,r).event(e),c=e.changedTouches,u=c.length;for(Hr(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),a=0;a<u;++a)s=c[a],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=$n(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<f)){var d=zn(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,i){var r=e.selection?e.selection():e;r.property("__zoom",Vr),e!==r?b(e,t,n,i):r.interrupt().each((function(){_(this,arguments).event(i).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,i){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,i)},m.scaleTo=function(e,t,n,i){m.transform(e,(function(){var e=r.apply(this,arguments),i=this.__zoom,a=null==n?v(e):"function"===typeof n?n.apply(this,arguments):n,s=i.invert(a),l="function"===typeof t?t.apply(this,arguments):t;return o(y(g(i,l),a,s),e,c)}),n,i)},m.translateBy=function(e,t,n,i){m.transform(e,(function(){return o(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,i)},m.translateTo=function(e,t,n,i,a){m.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,s=null==i?v(e):"function"===typeof i?i.apply(this,arguments):i;return o(Fr.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),i,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=zn(this.that).datum();h.call(e,this.that,new Br(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:Or(+e),m):a},m.filter=function(e){return arguments.length?(i="function"===typeof e?e:Or(!!e),m):i},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Or(!!e),m):s},m.extent=function(e){return arguments.length?(r="function"===typeof e?e:Or([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}Dr.prototype;const Kr=e=>()=>e;function Xr(e,t){let{sourceEvent:n,subject:i,target:r,identifier:o,active:a,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function Jr(e){return!e.ctrlKey&&!e.button}function Qr(){return this.parentNode}function eo(e,t){return null==t?{x:e.x,y:e.y}:t}function to(){return navigator.maxTouchPoints||"ontouchstart"in this}Xr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var no=n(950);const io=(0,e.createContext)(null),ro=io.Provider,oo=e=>`Node type "${e}" not found. Using fallback type "default".`,ao=()=>"The React Flow parent container needs a width and a height to render the graph.",so=()=>"Only child nodes can use a parent extent.",lo=()=>"Can't create edge. An edge needs a source and a target.",co=e=>`Marker type "${e}" doesn't exist.`,uo=(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,ho=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",po=e=>`Edge type "${e}" not found. Using fallback type "default".`,fo=e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,mo=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function go(t,n){const i=(0,e.useContext)(io);if(null===i)throw new Error(mo);return dt(i,t,n)}const yo=()=>{const t=(0,e.useContext)(io);if(null===t)throw new Error(mo);return(0,e.useMemo)((()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy})),[t])},vo=e=>e.userSelectionActive?"none":"all";function bo(t){let{position:n,children:i,className:r,style:o,...a}=t;const s=go(vo),l=`${n}`.split("-");return e.createElement("div",{className:rt(["react-flow__panel",r,...l]),style:{...o,pointerEvents:s},...a},i)}function _o(t){let{proOptions:n,position:i="bottom-right"}=t;return n?.hideAttribution?null:e.createElement(bo,{position:i,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},e.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var xo=(0,e.memo)((t=>{let{x:n,y:i,label:r,labelStyle:o={},labelShowBg:a=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:u,className:d,...h}=t;const p=(0,e.useRef)(null),[f,m]=(0,e.useState)({x:0,y:0,width:0,height:0}),g=rt(["react-flow__edge-textwrapper",d]);return(0,e.useEffect)((()=>{if(p.current){const e=p.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}}),[r]),"undefined"!==typeof r&&r?e.createElement("g",{transform:`translate(${n-f.width/2} ${i-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...h},a&&e.createElement("rect",{width:f.width+2*l[0],x:-l[0],y:-l[1],height:f.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),e.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:o},r),u):null}));const wo=e=>({width:e.offsetWidth,height:e.offsetHeight}),ko=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},So=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:ko(e.x,t[0][0],t[1][0]),y:ko(e.y,t[0][1],t[1][1])}},Co=(e,t,n)=>e<t?ko(Math.abs(e-t),1,50)/50:e>n?-ko(Math.abs(e-n),1,50)/50:0,Eo=(e,t)=>[20*Co(e.x,35,t.width-35),20*Co(e.y,35,t.height-35)],No=e=>e.getRootNode?.()||window?.document,Po=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),jo=e=>{let{x:t,y:n,width:i,height:r}=e;return{x:t,y:n,x2:t+i,y2:n+r}},Io=e=>{let{x:t,y:n,x2:i,y2:r}=e;return{x:t,y:n,width:i-t,height:r-n}},Mo=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),To=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Lo=e=>!isNaN(e)&&isFinite(e),zo=Symbol.for("internals"),Ao=["Enter"," ","Escape"],Ro=(e,t)=>{0};function Oo(e){const t=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const Bo=e=>"clientX"in e,Do=(e,t)=>{const n=Bo(e),i=n?e.clientX:e.touches?.[0].clientX,r=n?e.clientY:e.touches?.[0].clientY;return{x:i-(t?.left??0),y:r-(t?.top??0)}},Fo=()=>"undefined"!==typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,Ho=t=>{let{id:n,path:i,labelX:r,labelY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:m=20}=t;return e.createElement(e.Fragment,null,e.createElement("path",{id:n,style:h,d:i,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:f}),m&&e.createElement("path",{d:i,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&Lo(r)&&Lo(o)?e.createElement(xo,{x:r,y:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null)};Ho.displayName="BaseEdge";function Zo(e,t,n){return void 0===n?n:i=>{const r=t().edges.find((t=>t.id===e));r&&n(i,{...r})}}function $o(e){let{sourceX:t,sourceY:n,targetX:i,targetY:r}=e;const o=Math.abs(i-t)/2,a=i<t?i+o:i-o,s=Math.abs(r-n)/2;return[a,r<n?r+s:r-s,o,s]}function Wo(e){let{sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*o+.375*s+.125*i,u=.125*n+.375*a+.375*l+.125*r;return[c,u,Math.abs(c-t),Math.abs(u-n)]}var Vo,Uo,qo,Go,Yo,Ko,Xo,Jo,Qo,ea,ta,na;function ia(e){let{pos:t,x1:n,y1:i,x2:r,y2:o}=e;return t===ta.Left||t===ta.Right?[.5*(n+r),i]:[n,.5*(i+o)]}function ra(e){let{sourceX:t,sourceY:n,sourcePosition:i=ta.Bottom,targetX:r,targetY:o,targetPosition:a=ta.Top}=e;const[s,l]=ia({pos:i,x1:t,y1:n,x2:r,y2:o}),[c,u]=ia({pos:a,x1:r,y1:o,x2:t,y2:n}),[d,h,p,f]=Wo({sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${n} C${s},${l} ${c},${u} ${r},${o}`,d,h,p,f]}(Uo=Vo||(Vo={})).Strict="strict",Uo.Loose="loose",(Go=qo||(qo={})).Free="free",Go.Vertical="vertical",Go.Horizontal="horizontal",(Ko=Yo||(Yo={})).Partial="partial",Ko.Full="full",(Jo=Xo||(Xo={})).Bezier="default",Jo.Straight="straight",Jo.Step="step",Jo.SmoothStep="smoothstep",Jo.SimpleBezier="simplebezier",(ea=Qo||(Qo={})).Arrow="arrow",ea.ArrowClosed="arrowclosed",(na=ta||(ta={})).Left="left",na.Top="top",na.Right="right",na.Bottom="bottom";const oa=(0,e.memo)((t=>{let{sourceX:n,sourceY:i,targetX:r,targetY:o,sourcePosition:a=ta.Bottom,targetPosition:s=ta.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:y}=t;const[v,b,_]=ra({sourceX:n,sourceY:i,sourcePosition:a,targetX:r,targetY:o,targetPosition:s});return e.createElement(Ho,{path:v,labelX:b,labelY:_,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:y})}));oa.displayName="SimpleBezierEdge";const aa={[ta.Left]:{x:-1,y:0},[ta.Right]:{x:1,y:0},[ta.Top]:{x:0,y:-1},[ta.Bottom]:{x:0,y:1}},sa=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function la(e){let{source:t,sourcePosition:n=ta.Bottom,target:i,targetPosition:r=ta.Top,center:o,offset:a}=e;const s=aa[n],l=aa[r],c={x:t.x+s.x*a,y:t.y+s.y*a},u={x:i.x+l.x*a,y:i.y+l.y*a},d=(e=>{let{source:t,sourcePosition:n=ta.Bottom,target:i}=e;return n===ta.Left||n===ta.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:u}),h=0!==d.x?"x":"y",p=d[h];let f,m,g=[];const y={x:0,y:0},v={x:0,y:0},[b,_,x,w]=$o({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(s[h]*l[h]===-1){f=o.x??b,m=o.y??_;const e=[{x:f,y:c.y},{x:f,y:u.y}],t=[{x:c.x,y:m},{x:u.x,y:m}];g=s[h]===p?"x"===h?e:t:"x"===h?t:e}else{const e=[{x:c.x,y:u.y}],o=[{x:u.x,y:c.y}];if(g="x"===h?s.x===p?o:e:s.y===p?e:o,n===r){const e=Math.abs(t[h]-i[h]);if(e<=a){const n=Math.min(a-1,a-e);s[h]===p?y[h]=(c[h]>t[h]?-1:1)*n:v[h]=(u[h]>i[h]?-1:1)*n}}if(n!==r){const t="x"===h?"y":"x",n=s[h]===l[t],i=c[t]>u[t],r=c[t]<u[t];(1===s[h]&&(!n&&i||n&&r)||1!==s[h]&&(!n&&r||n&&i))&&(g="x"===h?e:o)}const d={x:c.x+y.x,y:c.y+y.y},b={x:u.x+v.x,y:u.y+v.y};Math.max(Math.abs(d.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(d.y-g[0].y),Math.abs(b.y-g[0].y))?(f=(d.x+b.x)/2,m=g[0].y):(f=g[0].x,m=(d.y+b.y)/2)}return[[t,{x:c.x+y.x,y:c.y+y.y},...g,{x:u.x+v.x,y:u.y+v.y},i],f,m,x,w]}function ca(e){let{sourceX:t,sourceY:n,sourcePosition:i=ta.Bottom,targetX:r,targetY:o,targetPosition:a=ta.Top,borderRadius:s=5,centerX:l,centerY:c,offset:u=20}=e;const[d,h,p,f,m]=la({source:{x:t,y:n},sourcePosition:i,target:{x:r,y:o},targetPosition:a,center:{x:l,y:c},offset:u});return[d.reduce(((e,t,n)=>{let i="";return i=n>0&&n<d.length-1?function(e,t,n,i){const r=Math.min(sa(e,t)/2,sa(t,n)/2,i),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a)return`L ${o+r*(e.x<n.x?-1:1)},${a}Q ${o},${a} ${o},${a+r*(e.y<n.y?1:-1)}`;const s=e.x<n.x?1:-1;return`L ${o},${a+r*(e.y<n.y?-1:1)}Q ${o},${a} ${o+r*s},${a}`}(d[n-1],t,d[n+1],s):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=i}),""),h,p,f,m]}const ua=(0,e.memo)((t=>{let{sourceX:n,sourceY:i,targetX:r,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,sourcePosition:p=ta.Bottom,targetPosition:f=ta.Top,markerEnd:m,markerStart:g,pathOptions:y,interactionWidth:v}=t;const[b,_,x]=ca({sourceX:n,sourceY:i,sourcePosition:p,targetX:r,targetY:o,targetPosition:f,borderRadius:y?.borderRadius,offset:y?.offset});return e.createElement(Ho,{path:b,labelX:_,labelY:x,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:g,interactionWidth:v})}));ua.displayName="SmoothStepEdge";const da=(0,e.memo)((t=>e.createElement(ua,{...t,pathOptions:(0,e.useMemo)((()=>({borderRadius:0,offset:t.pathOptions?.offset})),[t.pathOptions?.offset])})));da.displayName="StepEdge";const ha=(0,e.memo)((t=>{let{sourceX:n,sourceY:i,targetX:r,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:m}=t;const[g,y,v]=function(e){let{sourceX:t,sourceY:n,targetX:i,targetY:r}=e;const[o,a,s,l]=$o({sourceX:t,sourceY:n,targetX:i,targetY:r});return[`M ${t},${n}L ${i},${r}`,o,a,s,l]}({sourceX:n,sourceY:i,targetX:r,targetY:o});return e.createElement(Ho,{path:g,labelX:y,labelY:v,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:m})}));function pa(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function fa(e){let{pos:t,x1:n,y1:i,x2:r,y2:o,c:a}=e;switch(t){case ta.Left:return[n-pa(n-r,a),i];case ta.Right:return[n+pa(r-n,a),i];case ta.Top:return[n,i-pa(i-o,a)];case ta.Bottom:return[n,i+pa(o-i,a)]}}function ma(e){let{sourceX:t,sourceY:n,sourcePosition:i=ta.Bottom,targetX:r,targetY:o,targetPosition:a=ta.Top,curvature:s=.25}=e;const[l,c]=fa({pos:i,x1:t,y1:n,x2:r,y2:o,c:s}),[u,d]=fa({pos:a,x1:r,y1:o,x2:t,y2:n,c:s}),[h,p,f,m]=Wo({sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${n} C${l},${c} ${u},${d} ${r},${o}`,h,p,f,m]}ha.displayName="StraightEdge";const ga=(0,e.memo)((t=>{let{sourceX:n,sourceY:i,targetX:r,targetY:o,sourcePosition:a=ta.Bottom,targetPosition:s=ta.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,pathOptions:y,interactionWidth:v}=t;const[b,_,x]=ma({sourceX:n,sourceY:i,sourcePosition:a,targetX:r,targetY:o,targetPosition:s,curvature:y?.curvature});return e.createElement(Ho,{path:b,labelX:_,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:g,interactionWidth:v})}));ga.displayName="BezierEdge";const ya=(0,e.createContext)(null),va=ya.Provider;ya.Consumer;const ba=e=>{let{source:t,sourceHandle:n,target:i,targetHandle:r}=e;return`reactflow__edge-${t}${n||""}-${i}${r||""}`},_a=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&")}`},xa=(e,t,n,i)=>{let{x:r,y:o}=e,[a,s,l]=t,[c,u]=i;const d={x:(r-a)/l,y:(o-s)/l};return n?{x:c*Math.round(d.x/c),y:u*Math.round(d.y/u)}:d},wa=(e,t)=>{let{x:n,y:i}=e,[r,o,a]=t;return{x:n*a+r,y:i*a+o}},ka=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],i=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-i};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-i}:r}},Sa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:i,y:r}=ka(n,t).positionAbsolute;return Po(e,jo({x:i,y:r,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Io(n)},Ca=function(e,t){let[n,i,r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/r,y:(t.y-i)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach((e=>{const{width:t,height:n,selectable:i=!0,hidden:r=!1}=e;if(a&&!i||r)return!1;const{positionAbsolute:u}=ka(e,s),d={x:u.x,y:u.y,width:t||0,height:n||0},h=To(l,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||o&&h>0||h>=(t||0)*(n||0)||e.dragging)&&c.push(e)})),c},Ea=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Na=function(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const a=t/(e.width*(1+o)),s=n/(e.height*(1+o)),l=Math.min(a,s),c=ko(l,i,r);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},Pa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function ja(e,t,n,i){return(t[n]||[]).reduce(((t,r)=>(`${e.id}-${r.id}-${n}`!==i&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+r.x+r.width/2,y:(e.positionAbsolute?.y??0)+r.y+r.height/2}),t)),[])}const Ia={source:null,target:null,sourceHandle:null,targetHandle:null},Ma=()=>({handleDomNode:null,isValid:!1,connection:Ia,endHandle:null});function Ta(e,t,n,i,r,o,a){const s="target"===r,l=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),c={...Ma(),handleDomNode:l};if(l){const e=La(void 0,l),r=l.getAttribute("data-nodeid"),a=l.getAttribute("data-handleid"),u=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),h={source:s?r:n,sourceHandle:s?a:i,target:s?n:r,targetHandle:s?i:a};c.connection=h;u&&d&&(t===Vo.Strict?s&&"source"===e||!s&&"target"===e:r!==n||a!==i)&&(c.endHandle={nodeId:r,handleId:a,type:e},c.isValid=o(h))}return c}function La(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function za(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Aa(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Ra(e){let{event:t,handleId:n,nodeId:i,onConnect:r,isTarget:o,getState:a,setState:s,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}=e;const d=No(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:f,connectionRadius:m,onConnectStart:g,panBy:y,getNodes:v,cancelConnection:b}=a();let _,x=0;const{x:w,y:k}=Do(t),S=d?.elementFromPoint(w,k),C=La(c,S),E=p?.getBoundingClientRect();if(!E||!C)return;let N,P=Do(t,E),j=!1,I=null,M=!1,T=null;const L=function(e){let{nodes:t,nodeId:n,handleId:i,handleType:r}=e;return t.reduce(((e,t)=>{if(t[zo]){const{handleBounds:o}=t[zo];let a=[],s=[];o&&(a=ja(t,o,"source",`${n}-${i}-${r}`),s=ja(t,o,"target",`${n}-${i}-${r}`)),e.push(...a,...s)}return e}),[])}({nodes:v(),nodeId:i,handleId:n,handleType:C}),z=()=>{if(!f)return;const[e,t]=Eo(P,E);y({x:e,y:t}),x=requestAnimationFrame(z)};function A(e){const{transform:t}=a();P=Do(e,E);const{handle:r,validHandleResult:c}=function(e,t,n,i,r,o){const{x:a,y:s}=Do(e),l=t.elementsFromPoint(a,s).find((e=>e.classList.contains("react-flow__handle")));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=La(void 0,l),i=l.getAttribute("data-handleid"),a=o({nodeId:e,id:i,type:t});if(a){const o=r.find((n=>n.nodeId===e&&n.type===t&&n.id===i));return{handle:{id:i,type:t,nodeId:e,x:o?.x||n.x,y:o?.y||n.y},validHandleResult:a}}}}let c=[],u=1/0;if(r.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=i){const n=o(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}})),!c.length)return{handle:null,validHandleResult:Ma()};if(1===c.length)return c[0];const d=c.some((e=>{let{validHandleResult:t}=e;return t.isValid})),h=c.some((e=>{let{handle:t}=e;return"target"===t.type}));return c.find((e=>{let{handle:t,validHandleResult:n}=e;return h?"target"===t.type:!d||n.isValid}))||c[0]}(e,d,xa(P,t,!1,[1,1]),m,L,(e=>Ta(e,h,i,n,o?"target":"source",l,d)));if(_=r,j||(z(),j=!0),T=c.handleDomNode,I=c.connection,M=c.isValid,s({connectionPosition:_&&M?wa({x:_.x,y:_.y},t):P,connectionStatus:Aa(!!_,M),connectionEndHandle:c.endHandle}),!_&&!M&&!T)return za(N);I.source!==I.target&&T&&(za(N),N=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",M),T.classList.toggle("react-flow__handle-valid",M))}function R(e){(_||T)&&I&&M&&r?.(I),a().onConnectEnd?.(e),c&&u?.(e),za(N),b(),cancelAnimationFrame(x),j=!1,M=!1,I=null,T=null,d.removeEventListener("mousemove",A),d.removeEventListener("mouseup",R),d.removeEventListener("touchmove",A),d.removeEventListener("touchend",R)}s({connectionPosition:P,connectionStatus:null,connectionNodeId:i,connectionHandleId:n,connectionHandleType:C,connectionStartHandle:{nodeId:i,handleId:n,type:C},connectionEndHandle:null}),g?.(t,{nodeId:i,handleId:n,handleType:C}),d.addEventListener("mousemove",A),d.addEventListener("mouseup",R),d.addEventListener("touchmove",A),d.addEventListener("touchend",R)}const Oa=()=>!0,Ba=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Da=(0,e.forwardRef)(((t,n)=>{let{type:i="source",position:r=ta.Top,isValidConnection:o,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:c,onConnect:u,children:d,className:h,onMouseDown:p,onTouchStart:f,...m}=t;const g=c||null,y="target"===i,v=yo(),b=(0,e.useContext)(ya),{connectOnClick:_,noPanClassName:x}=go(Ba,pt),{connecting:w,clickConnecting:k}=go(((e,t,n)=>i=>{const{connectionStartHandle:r,connectionEndHandle:o,connectionClickStartHandle:a}=i;return{connecting:r?.nodeId===e&&r?.handleId===t&&r?.type===n||o?.nodeId===e&&o?.handleId===t&&o?.type===n,clickConnecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n}})(b,g,i),pt);b||v.getState().onError?.("010",ho());const S=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:i}=v.getState(),r={...t,...e};if(i){const{edges:e,setEdges:t}=v.getState();t(((e,t)=>{if(!e.source||!e.target)return Ro(0,lo()),t;let n;var i;return n="id"in(i=e)&&"source"in i&&"target"in i?{...e}:{...e,id:ba(e)},((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:t.concat(n)})(r,e))}n?.(r),u?.(r)},C=e=>{if(!b)return;const t=Bo(e);s&&(t&&0===e.button||!t)&&Ra({event:e,handleId:g,nodeId:b,onConnect:S,isTarget:y,getState:v.getState,setState:v.setState,isValidConnection:o||v.getState().isValidConnection||Oa}),t?p?.(e):f?.(e)};return e.createElement("div",{"data-handleid":g,"data-nodeid":b,"data-handlepos":r,"data-id":`${b}-${g}-${i}`,className:rt(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",x,h,{source:!y,target:y,connectable:a,connectablestart:s,connectableend:l,connecting:k,connectionindicator:a&&(s&&!w||l&&w)}]),onMouseDown:C,onTouchStart:C,onClick:_?e=>{const{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:r,connectionMode:a,isValidConnection:l}=v.getState();if(!b||!r&&!s)return;if(!r)return t?.(e,{nodeId:b,handleId:g,handleType:i}),void v.setState({connectionClickStartHandle:{nodeId:b,type:i,handleId:g}});const c=No(e.target),u=o||l||Oa,{connection:d,isValid:h}=Ta({nodeId:b,id:g,type:i},a,r.nodeId,r.handleId||null,r.type,u,c);h&&S(d),n?.(e),v.setState({connectionClickStartHandle:null})}:void 0,ref:n,...m},d)}));Da.displayName="Handle";var Fa=(0,e.memo)(Da);const Ha=t=>{let{data:n,isConnectable:i,targetPosition:r=ta.Top,sourcePosition:o=ta.Bottom}=t;return e.createElement(e.Fragment,null,e.createElement(Fa,{type:"target",position:r,isConnectable:i}),n?.label,e.createElement(Fa,{type:"source",position:o,isConnectable:i}))};Ha.displayName="DefaultNode";var Za=(0,e.memo)(Ha);const $a=t=>{let{data:n,isConnectable:i,sourcePosition:r=ta.Bottom}=t;return e.createElement(e.Fragment,null,n?.label,e.createElement(Fa,{type:"source",position:r,isConnectable:i}))};$a.displayName="InputNode";var Wa=(0,e.memo)($a);const Va=t=>{let{data:n,isConnectable:i,targetPosition:r=ta.Top}=t;return e.createElement(e.Fragment,null,e.createElement(Fa,{type:"target",position:r,isConnectable:i}),n?.label)};Va.displayName="OutputNode";var Ua=(0,e.memo)(Va);const qa=()=>null;qa.displayName="GroupNode";const Ga=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>({...e})))}),Ya=e=>e.id;function Ka(e,t){return pt(e.selectedNodes.map(Ya),t.selectedNodes.map(Ya))&&pt(e.selectedEdges.map(Ya),t.selectedEdges.map(Ya))}const Xa=(0,e.memo)((t=>{let{onSelectionChange:n}=t;const i=yo(),{selectedNodes:r,selectedEdges:o}=go(Ga,Ka);return(0,e.useEffect)((()=>{const e={nodes:r,edges:o};n?.(e),i.getState().onSelectionChange.forEach((t=>t(e)))}),[r,o,n]),null}));Xa.displayName="SelectionListener";const Ja=e=>!!e.onSelectionChange;function Qa(t){let{onSelectionChange:n}=t;const i=go(Ja);return n||i?e.createElement(Xa,{onSelectionChange:n}):null}const es=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ts(t,n){(0,e.useEffect)((()=>{"undefined"!==typeof t&&n(t)}),[t])}function ns(t,n,i){(0,e.useEffect)((()=>{"undefined"!==typeof n&&i({[t]:n})}),[n])}const is=t=>{let{nodes:n,edges:i,defaultNodes:r,defaultEdges:o,onConnect:a,onConnectStart:s,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:h,nodesFocusable:p,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:y,maxZoom:v,nodeExtent:b,onNodesChange:_,onEdgesChange:x,elementsSelectable:w,connectionMode:k,snapGrid:S,snapToGrid:C,translateExtent:E,connectOnClick:N,defaultEdgeOptions:P,fitView:j,fitViewOptions:I,onNodesDelete:M,onEdgesDelete:T,onNodeDrag:L,onNodeDragStart:z,onNodeDragStop:A,onSelectionDrag:R,onSelectionDragStart:O,onSelectionDragStop:B,noPanClassName:D,nodeOrigin:F,rfId:H,autoPanOnConnect:Z,autoPanOnNodeDrag:$,onError:W,connectionRadius:V,isValidConnection:U,nodeDragThreshold:q}=t;const{setNodes:G,setEdges:Y,setDefaultNodesAndEdges:K,setMinZoom:X,setMaxZoom:J,setTranslateExtent:Q,setNodeExtent:ee,reset:te}=go(es,pt),ne=yo();return(0,e.useEffect)((()=>{const e=o?.map((e=>({...e,...P})));return K(r,e),()=>{te()}}),[]),ns("defaultEdgeOptions",P,ne.setState),ns("connectionMode",k,ne.setState),ns("onConnect",a,ne.setState),ns("onConnectStart",s,ne.setState),ns("onConnectEnd",l,ne.setState),ns("onClickConnectStart",c,ne.setState),ns("onClickConnectEnd",u,ne.setState),ns("nodesDraggable",d,ne.setState),ns("nodesConnectable",h,ne.setState),ns("nodesFocusable",p,ne.setState),ns("edgesFocusable",f,ne.setState),ns("edgesUpdatable",m,ne.setState),ns("elementsSelectable",w,ne.setState),ns("elevateNodesOnSelect",g,ne.setState),ns("snapToGrid",C,ne.setState),ns("snapGrid",S,ne.setState),ns("onNodesChange",_,ne.setState),ns("onEdgesChange",x,ne.setState),ns("connectOnClick",N,ne.setState),ns("fitViewOnInit",j,ne.setState),ns("fitViewOnInitOptions",I,ne.setState),ns("onNodesDelete",M,ne.setState),ns("onEdgesDelete",T,ne.setState),ns("onNodeDrag",L,ne.setState),ns("onNodeDragStart",z,ne.setState),ns("onNodeDragStop",A,ne.setState),ns("onSelectionDrag",R,ne.setState),ns("onSelectionDragStart",O,ne.setState),ns("onSelectionDragStop",B,ne.setState),ns("noPanClassName",D,ne.setState),ns("nodeOrigin",F,ne.setState),ns("rfId",H,ne.setState),ns("autoPanOnConnect",Z,ne.setState),ns("autoPanOnNodeDrag",$,ne.setState),ns("onError",W,ne.setState),ns("connectionRadius",V,ne.setState),ns("isValidConnection",U,ne.setState),ns("nodeDragThreshold",q,ne.setState),ts(n,G),ts(i,Y),ts(y,X),ts(v,J),ts(E,Q),ts(b,ee),null},rs={display:"none"},os={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},as="react-flow__node-desc",ss="react-flow__edge-desc",ls=e=>e.ariaLiveMessage;function cs(t){let{rfId:n}=t;const i=go(ls);return e.createElement("div",{id:`react-flow__aria-live-${n}`,"aria-live":"assertive","aria-atomic":"true",style:os},i)}function us(t){let{rfId:n,disableKeyboardA11y:i}=t;return e.createElement(e.Fragment,null,e.createElement("div",{id:`${as}-${n}`,style:rs},"Press enter or space to select a node.",!i&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),e.createElement("div",{id:`${ss}-${n}`,style:rs},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!i&&e.createElement(cs,{rfId:n}))}var ds=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[i,r]=(0,e.useState)(!1),o=(0,e.useRef)(!1),a=(0,e.useRef)(new Set([])),[s,l]=(0,e.useMemo)((()=>{if(null!==t){const e=(Array.isArray(t)?t:[t]).filter((e=>"string"===typeof e)).map((e=>e.split("+"))),n=e.reduce(((e,t)=>e.concat(...t)),[]);return[e,n]}return[[],[]]}),[t]);return(0,e.useEffect)((()=>{const e="undefined"!==typeof document?document:null,i=n?.target||e;if(null!==t){const e=e=>{o.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!o.current||o.current&&!n.actInsideInputWithModifier)&&Oo(e))return!1;const t=ps(e.code,l);a.current.add(e[t]),hs(s,a.current,!1)&&(e.preventDefault(),r(!0))},t=e=>{if((!o.current||o.current&&!n.actInsideInputWithModifier)&&Oo(e))return!1;const t=ps(e.code,l);hs(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(e[t]),"Meta"===e.key&&a.current.clear(),o.current=!1},c=()=>{a.current.clear(),r(!1)};return i?.addEventListener("keydown",e),i?.addEventListener("keyup",t),window.addEventListener("blur",c),()=>{i?.removeEventListener("keydown",e),i?.removeEventListener("keyup",t),window.removeEventListener("blur",c)}}}),[t,r]),i};function hs(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function ps(e,t){return t.includes(e)?"code":"key"}function fs(e,t,n,i){const r=e.parentNode||e.parentId;if(!r)return n;const o=t.get(r),a=ka(o,i);return fs(o,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(o[zo]?.z??0)>(n.z??0)?o[zo]?.z??0:n.z??0},i)}function ms(e,t,n){e.forEach((i=>{const r=i.parentNode||i.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n?.[i.id]){const{x:r,y:o,z:a}=fs(i,e,{...i.position,z:i[zo]?.z??0},t);i.positionAbsolute={x:r,y:o},i[zo].z=a,n?.[i.id]&&(i[zo].isParent=!0)}}))}function gs(e,t,n,i){const r=new Map,o={},a=i?1e3:0;return e.forEach((e=>{const n=(Lo(e.zIndex)?e.zIndex:0)+(e.selected?a:0),i=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},l=e.parentNode||e.parentId;l&&(o[l]=!0);const c=i?.type&&i?.type!==e.type;Object.defineProperty(s,zo,{enumerable:!1,value:{handleBounds:c?void 0:i?.[zo]?.handleBounds,z:n}}),r.set(e.id,s)})),ms(r,n,o),r}function ys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:i,height:r,minZoom:o,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),h=t.initial&&!c&&u;if(s&&l&&(h||!t.initial)){const e=n().filter((e=>{const n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some((t=>t.id===e.id)):n})),c=e.every((e=>e.width&&e.height));if(e.length>0&&c){const n=Sa(e,d),{x:c,y:u,zoom:h}=Na(n,i,r,t.minZoom??o,t.maxZoom??a,t.padding??.1),p=Fr.translate(c,u).scale(h);return"number"===typeof t.duration&&t.duration>0?s.transform(Pa(l,t.duration),p):s.transform(l,p),!0}}return!1}function vs(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[zo]:n[zo],selected:e.selected})})),new Map(t)}function bs(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function _s(e){let{changedNodes:t,changedEdges:n,get:i,set:r}=e;const{nodeInternals:o,edges:a,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=i();t?.length&&(c&&r({nodeInternals:vs(t,o)}),s?.(t)),n?.length&&(u&&r({edges:bs(n,a)}),l?.(n))}const xs=()=>{},ws={zoomIn:xs,zoomOut:xs,zoomTo:xs,getZoom:()=>1,setViewport:xs,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:xs,fitBounds:xs,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},ks=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function Ss(){const t=(()=>{const t=yo(),{d3Zoom:n,d3Selection:i}=go(ks,pt);return(0,e.useMemo)((()=>i&&n?{zoomIn:e=>n.scaleBy(Pa(i,e?.duration),1.2),zoomOut:e=>n.scaleBy(Pa(i,e?.duration),1/1.2),zoomTo:(e,t)=>n.scaleTo(Pa(i,t?.duration),e),getZoom:()=>t.getState().transform[2],setViewport:(e,r)=>{const[o,a,s]=t.getState().transform,l=Fr.translate(e.x??o,e.y??a).scale(e.zoom??s);n.transform(Pa(i,r?.duration),l)},getViewport:()=>{const[e,n,i]=t.getState().transform;return{x:e,y:n,zoom:i}},fitView:e=>ys(t.getState,e),setCenter:(e,r,o)=>{const{width:a,height:s,maxZoom:l}=t.getState(),c="undefined"!==typeof o?.zoom?o.zoom:l,u=a/2-e*c,d=s/2-r*c,h=Fr.translate(u,d).scale(c);n.transform(Pa(i,o?.duration),h)},fitBounds:(e,r)=>{const{width:o,height:a,minZoom:s,maxZoom:l}=t.getState(),{x:c,y:u,zoom:d}=Na(e,o,a,s,l,r?.padding??.1),h=Fr.translate(c,u).scale(d);n.transform(Pa(i,r?.duration),h)},project:e=>{const{transform:n,snapToGrid:i,snapGrid:r}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),xa(e,n,i,r)},screenToFlowPosition:e=>{const{transform:n,snapToGrid:i,snapGrid:r,domNode:o}=t.getState();if(!o)return e;const{x:a,y:s}=o.getBoundingClientRect(),l={x:e.x-a,y:e.y-s};return xa(l,n,i,r)},flowToScreenPosition:e=>{const{transform:n,domNode:i}=t.getState();if(!i)return e;const{x:r,y:o}=i.getBoundingClientRect(),a=wa(e,n);return{x:a.x+r,y:a.y+o}},viewportInitialized:!0}:ws),[n,i])})(),n=yo(),i=(0,e.useCallback)((()=>n.getState().getNodes().map((e=>({...e})))),[]),r=(0,e.useCallback)((e=>n.getState().nodeInternals.get(e)),[]),o=(0,e.useCallback)((()=>{const{edges:e=[]}=n.getState();return e.map((e=>({...e})))}),[]),a=(0,e.useCallback)((e=>{const{edges:t=[]}=n.getState();return t.find((t=>t.id===e))}),[]),s=(0,e.useCallback)((e=>{const{getNodes:t,setNodes:i,hasDefaultNodes:r,onNodesChange:o}=n.getState(),a=t(),s="function"===typeof e?e(a):e;if(r)i(s);else if(o){o(0===s.length?a.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"}))))}}),[]),l=(0,e.useCallback)((e=>{const{edges:t=[],setEdges:i,hasDefaultEdges:r,onEdgesChange:o}=n.getState(),a="function"===typeof e?e(t):e;if(r)i(a);else if(o){o(0===a.length?t.map((e=>({type:"remove",id:e.id}))):a.map((e=>({item:e,type:"reset"}))))}}),[]),c=(0,e.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{getNodes:i,setNodes:r,hasDefaultNodes:o,onNodesChange:a}=n.getState();if(o){r([...i(),...t])}else if(a){a(t.map((e=>({item:e,type:"add"}))))}}),[]),u=(0,e.useCallback)((e=>{const t=Array.isArray(e)?e:[e],{edges:i=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:a}=n.getState();if(o)r([...i,...t]);else if(a){a(t.map((e=>({item:e,type:"add"}))))}}),[]),d=(0,e.useCallback)((()=>{const{getNodes:e,edges:t=[],transform:i}=n.getState(),[r,o,a]=i;return{nodes:e().map((e=>({...e}))),edges:t.map((e=>({...e}))),viewport:{x:r,y:o,zoom:a}}}),[]),h=(0,e.useCallback)((e=>{let{nodes:t,edges:i}=e;const{nodeInternals:r,getNodes:o,edges:a,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:u,onNodesChange:d,onEdgesChange:h}=n.getState(),p=(t||[]).map((e=>e.id)),f=(i||[]).map((e=>e.id)),m=o().reduce(((e,t)=>{const n=t.parentNode||t.parentId,i=!p.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!==typeof t.deletable||t.deletable)&&(p.includes(t.id)||i)&&e.push(t),e}),[]),g=a.filter((e=>"boolean"!==typeof e.deletable||e.deletable)),y=g.filter((e=>f.includes(e.id)));if(m||y){const e=Ea(m,g),t=[...y,...e],i=t.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((l||s)&&(l&&n.setState({edges:a.filter((e=>!i.includes(e.id)))}),s&&(m.forEach((e=>{r.delete(e.id)})),n.setState({nodeInternals:new Map(r)}))),i.length>0&&(u?.(t),h&&h(i.map((e=>({id:e,type:"remove"}))))),m.length>0&&(c?.(m),d)){d(m.map((e=>({id:e.id,type:"remove"}))))}}}),[]),p=(0,e.useCallback)((e=>{const t=Lo((i=e).width)&&Lo(i.height)&&Lo(i.x)&&Lo(i.y);var i;const r=t?null:n.getState().nodeInternals.get(e.id);if(!t&&!r)return[null,null,t];return[t?e:Mo(r),r,t]}),[]),f=(0,e.useCallback)((function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;const[r,o,a]=p(e);return r?(i||n.getState().getNodes()).filter((e=>{if(!a&&(e.id===o.id||!e.positionAbsolute))return!1;const n=Mo(e),i=To(n,r);return t&&i>0||i>=r.width*r.height})):[]}),[]),m=(0,e.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[i]=p(e);if(!i)return!1;const r=To(i,t);return n&&r>0||r>=i.width*i.height}),[]);return(0,e.useMemo)((()=>({...t,getNodes:i,getNode:r,getEdges:o,getEdge:a,setNodes:s,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:f,isNodeIntersecting:m})),[t,i,r,o,a,s,l,c,u,d,h,f,m])}const Cs={actInsideInputWithModifier:!1};const Es={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ns=e=>({x:e.x,y:e.y,zoom:e.k}),Ps=(e,t)=>e.target.closest(`.${t}`),js=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Is=e=>{const t=e.ctrlKey&&Fo()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},Ms=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ts=t=>{let{onMove:n,onMoveStart:i,onMoveEnd:r,onPaneContextMenu:o,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=qo.Free,zoomOnDoubleClick:d=!0,elementsSelectable:h,panOnDrag:p=!0,defaultViewport:f,translateExtent:m,minZoom:g,maxZoom:y,zoomActivationKeyCode:v,preventScrolling:b=!0,children:_,noWheelClassName:x,noPanClassName:w}=t;const k=(0,e.useRef)(),S=yo(),C=(0,e.useRef)(!1),E=(0,e.useRef)(!1),N=(0,e.useRef)(null),P=(0,e.useRef)({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:I,d3ZoomHandler:M,userSelectionActive:T}=go(Ms,pt),L=ds(v),z=(0,e.useRef)(0),A=(0,e.useRef)(!1),R=(0,e.useRef)();return function(t){const n=yo();(0,e.useEffect)((()=>{let e;const i=()=>{if(!t.current)return;const e=wo(t.current);0!==e.height&&0!==e.width||n.getState().onError?.("004",ao()),n.setState({width:e.width||500,height:e.height||500})};return i(),window.addEventListener("resize",i),t.current&&(e=new ResizeObserver((()=>i())),e.observe(t.current)),()=>{window.removeEventListener("resize",i),e&&t.current&&e.unobserve(t.current)}}),[])}(N),(0,e.useEffect)((()=>{if(N.current){const e=N.current.getBoundingClientRect(),t=Yr().scaleExtent([g,y]).translateExtent(m),n=zn(N.current).call(t),i=Fr.translate(f.x,f.y).scale(ko(f.zoom,g,y)),r=[[0,0],[e.width,e.height]],o=t.constrain()(i,r,m);t.transform(n,o),t.wheelDelta(Is),S.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[o.x,o.y,o.k],domNode:N.current.closest(".react-flow")})}}),[]),(0,e.useEffect)((()=>{I&&j&&(!l||L||T?"undefined"!==typeof M&&I.on("wheel.zoom",(function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||Ps(e,x))return null;e.preventDefault(),M.call(this,e,t)}),{passive:!1}):I.on("wheel.zoom",(e=>{if(Ps(e,x))return!1;e.preventDefault(),e.stopImmediatePropagation();const t=I.property("__zoom").k||1;if(e.ctrlKey&&s){const n=$n(e),i=Is(e),r=t*Math.pow(2,i);return void j.scaleTo(I,r,n,e)}const o=1===e.deltaMode?20:1;let a=u===qo.Vertical?0:e.deltaX*o,l=u===qo.Horizontal?0:e.deltaY*o;!Fo()&&e.shiftKey&&u!==qo.Vertical&&(a=e.deltaY*o,l=0),j.translateBy(I,-a/t*c,-l/t*c,{internal:!0});const d=Ns(I.property("__zoom")),{onViewportChangeStart:h,onViewportChange:p,onViewportChangeEnd:f}=S.getState();clearTimeout(R.current),A.current||(A.current=!0,i?.(e,d),h?.(d)),A.current&&(n?.(e,d),p?.(d),R.current=setTimeout((()=>{r?.(e,d),f?.(d),A.current=!1}),150))}),{passive:!1}))}),[T,l,u,I,j,M,L,s,b,x,i,n,r]),(0,e.useEffect)((()=>{j&&j.on("start",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;z.current=e.sourceEvent?.button;const{onViewportChangeStart:t}=S.getState(),n=Ns(e.transform);C.current=!0,P.current=n,"mousedown"===e.sourceEvent?.type&&S.setState({paneDragging:!0}),t?.(n),i?.(e.sourceEvent,n)}))}),[j,i]),(0,e.useEffect)((()=>{j&&(T&&!C.current?j.on("zoom",null):T||j.on("zoom",(e=>{const{onViewportChange:t}=S.getState();if(S.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),E.current=!(!o||!js(p,z.current??0)),(n||t)&&!e.sourceEvent?.internal){const i=Ns(e.transform);t?.(i),n?.(e.sourceEvent,i)}})))}),[T,j,n,p,o]),(0,e.useEffect)((()=>{j&&j.on("end",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:t}=S.getState();if(C.current=!1,S.setState({paneDragging:!1}),o&&js(p,z.current??0)&&!E.current&&o(e.sourceEvent),E.current=!1,(r||t)&&(n=P.current,i=e.transform,n.x!==i.x||n.y!==i.y||n.zoom!==i.k)){const n=Ns(e.transform);P.current=n,clearTimeout(k.current),k.current=setTimeout((()=>{t?.(n),r?.(e.sourceEvent,n)}),l?150:0)}var n,i}))}),[j,l,p,r,o]),(0,e.useEffect)((()=>{j&&j.filter((e=>{const t=L||a,n=s&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(Ps(e,"react-flow__node")||Ps(e,"react-flow__edge")))return!0;if(!p&&!t&&!l&&!d&&!s)return!1;if(T)return!1;if(!d&&"dblclick"===e.type)return!1;if(Ps(e,x)&&"wheel"===e.type)return!1;if(Ps(e,w)&&("wheel"!==e.type||l&&"wheel"===e.type&&!L))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!p&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;const i=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&i}))}),[T,j,a,s,l,d,p,h,L]),e.createElement("div",{className:"react-flow__renderer",ref:N,style:Es},_)},Ls=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function zs(){const{userSelectionActive:t,userSelectionRect:n}=go(Ls,pt);return t&&n?e.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function As(e,t){const n=t.parentNode||t.parentId,i=e.find((e=>e.id===n));if(i){const e=t.position.x+t.width-i.width,n=t.position.y+t.height-i.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(i.style={...i.style}||{},i.style.width=i.style.width??i.width,i.style.height=i.style.height??i.height,e>0&&(i.style.width+=e),n>0&&(i.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);i.position.x=i.position.x-e,i.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);i.position.y=i.position.y-e,i.style.height+=e,t.position.y=0}i.width=i.style.width,i.height=i.style.height}}}function Rs(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const i=e.filter((e=>e.id===n.id));if(0===i.length)return t.push(n),t;const r={...n};for(const e of i)if(e)switch(e.type){case"select":r.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(r.position=e.position),"undefined"!==typeof e.positionAbsolute&&(r.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(r.dragging=e.dragging),r.expandParent&&As(t,r);break;case"dimensions":"undefined"!==typeof e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(r.style={...r.style||{},...e.dimensions}),"boolean"===typeof e.resizing&&(r.resizing=e.resizing),r.expandParent&&As(t,r);break;case"remove":return t}return t.push(r),t}),n)}function Os(e,t){return Rs(e,t)}const Bs=(e,t)=>({id:e,type:"select",selected:t});function Ds(e,t){return e.reduce(((e,n)=>{const i=t.includes(n.id);return!n.selected&&i?(n.selected=!0,e.push(Bs(n.id,!0))):n.selected&&!i&&(n.selected=!1,e.push(Bs(n.id,!1))),e}),[])}const Fs=(e,t)=>n=>{n.target===t.current&&e?.(n)},Hs=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Zs=(0,e.memo)((t=>{let{isSelecting:n,selectionMode:i=Yo.Full,panOnDrag:r,onSelectionStart:o,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}=t;const f=(0,e.useRef)(null),m=yo(),g=(0,e.useRef)(0),y=(0,e.useRef)(0),v=(0,e.useRef)(),{userSelectionActive:b,elementsSelectable:_,dragging:x}=go(Hs,pt),w=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,y.current=0},k=e=>{s?.(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},S=c?e=>c(e):void 0,C=_&&(n||b);return e.createElement("div",{className:rt(["react-flow__pane",{dragging:x,selection:n}]),onClick:C?void 0:Fs(k,f),onContextMenu:Fs((e=>{Array.isArray(r)&&r?.includes(2)?e.preventDefault():l?.(e)}),f),onWheel:Fs(S,f),onMouseEnter:C?void 0:u,onMouseDown:C?e=>{const{resetSelectedElements:t,domNode:i}=m.getState();if(v.current=i?.getBoundingClientRect(),!_||!n||0!==e.button||e.target!==f.current||!v.current)return;const{x:r,y:a}=Do(e,v.current);t(),m.setState({userSelectionRect:{width:0,height:0,startX:r,startY:a,x:r,y:a}}),o?.(e)}:void 0,onMouseMove:C?e=>{const{userSelectionRect:t,nodeInternals:r,edges:o,transform:a,onNodesChange:s,onEdgesChange:l,nodeOrigin:c,getNodes:u}=m.getState();if(!n||!v.current||!t)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const d=Do(e,v.current),h=t.startX??0,p=t.startY??0,f={...t,x:d.x<h?d.x:h,y:d.y<p?d.y:p,width:Math.abs(d.x-h),height:Math.abs(d.y-p)},b=u(),_=Ca(r,f,a,i===Yo.Partial,!0,c),x=Ea(_,o).map((e=>e.id)),w=_.map((e=>e.id));if(g.current!==w.length){g.current=w.length;const e=Ds(b,w);e.length&&s?.(e)}if(y.current!==x.length){y.current=x.length;const e=Ds(o,x);e.length&&l?.(e)}m.setState({userSelectionRect:f})}:d,onMouseUp:C?e=>{if(0!==e.button)return;const{userSelectionRect:t}=m.getState();!b&&t&&e.target===f.current&&k?.(e),m.setState({nodesSelectionActive:g.current>0}),w(),a?.(e)}:void 0,onMouseLeave:C?e=>{b&&(m.setState({nodesSelectionActive:g.current>0}),a?.(e)),w()}:h,ref:f,style:Es},p,e.createElement(zs,null))}));function $s(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const i=t.get(n);return!!i&&(!!i.selected||$s(i,t))}function Ws(e,t,n){let i=e;do{if(i?.matches(t))return!0;if(i===n.current)return!1;i=i.parentElement}while(i);return!1}function Vs(e,t,n,i){return Array.from(e.values()).filter((n=>(n.selected||n.id===i)&&(!n.parentNode||n.parentId||!$s(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable))).map((e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(e.positionAbsolute?.x??0),y:n.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent})))}function Us(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],o=arguments.length>5?arguments[5]:void 0;const a=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||i);let s=a;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:i,y:o}=ka(t,r).positionAbsolute;s=[[e.extent[0][0]+i,e.extent[0][1]+o],[e.extent[1][0]+i,e.extent[1][1]+o]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:i,y:o}=ka(t,r).positionAbsolute;s=t&&Lo(i)&&Lo(o)&&Lo(t.width)&&Lo(t.height)?[[i+e.width*r[0],o+e.height*r[1]],[i+t.width-e.width+e.width*r[0],o+t.height-e.height+e.height*r[1]]]:s}else o?.("005",so()),s=a;let c={x:0,y:0};if(l){const e=n.get(l);c=ka(e,r).positionAbsolute}const u=s&&"parent"!==s?So(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function qs(e){let{nodeId:t,dragItems:n,nodeInternals:i}=e;const r=n.map((e=>({...i.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute})));return[t?r.find((e=>e.id===t)):r[0],r]}Zs.displayName="Pane";const Gs=(e,t,n,i)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const o=Array.from(r),a=t.getBoundingClientRect(),s=a.width*i[0],l=a.height*i[1];return o.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-s)/n,y:(t.top-a.top-l)/n,...wo(e)}}))};function Ys(e,t,n){return void 0===n?n:i=>{const r=t().nodeInternals.get(e);r&&n(i,{...r})}}function Ks(e){let{id:t,store:n,unselect:i=!1,nodeRef:r}=e;const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:l,onError:c}=n.getState(),u=l.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(i||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame((()=>r?.current?.blur()))):o([t])):c?.("012",fo(t))}function Xs(e){return(t,n,i)=>e?.(t,i)}function Js(t){let{nodeRef:n,disabled:i=!1,noDragClassName:r,handleSelector:o,nodeId:a,isSelectable:s,selectNodesOnDrag:l}=t;const c=yo(),[u,d]=(0,e.useState)(!1),h=(0,e.useRef)([]),p=(0,e.useRef)({x:null,y:null}),f=(0,e.useRef)(0),m=(0,e.useRef)(null),g=(0,e.useRef)({x:0,y:0}),y=(0,e.useRef)(null),v=(0,e.useRef)(!1),b=(0,e.useRef)(!1),_=(0,e.useRef)(!1),x=function(){const t=yo();return(0,e.useCallback)((e=>{let{sourceEvent:n}=e;const{transform:i,snapGrid:r,snapToGrid:o}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-i[0])/i[2],y:(s-i[1])/i[2]};return{xSnapped:o?r[0]*Math.round(l.x/r[0]):l.x,ySnapped:o?r[1]*Math.round(l.y/r[1]):l.y,...l}}),[])}();return(0,e.useEffect)((()=>{if(n?.current){const e=zn(n.current),t=e=>{let{x:t,y:n}=e;const{nodeInternals:i,onNodeDrag:r,onSelectionDrag:o,updateNodePositions:s,nodeExtent:l,snapGrid:u,snapToGrid:f,nodeOrigin:m,onError:g}=c.getState();p.current={x:t,y:n};let v=!1,b={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&l){const e=Sa(h.current,m);b=jo(e)}if(h.current=h.current.map((e=>{const r={x:t-e.distance.x,y:n-e.distance.y};f&&(r.x=u[0]*Math.round(r.x/u[0]),r.y=u[1]*Math.round(r.y/u[1]));const o=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];h.current.length>1&&l&&!e.extent&&(o[0][0]=e.positionAbsolute.x-b.x+l[0][0],o[1][0]=e.positionAbsolute.x+(e.width??0)-b.x2+l[1][0],o[0][1]=e.positionAbsolute.y-b.y+l[0][1],o[1][1]=e.positionAbsolute.y+(e.height??0)-b.y2+l[1][1]);const a=Us(e,r,i,o,m,g);return v=v||e.position.x!==a.position.x||e.position.y!==a.position.y,e.position=a.position,e.positionAbsolute=a.positionAbsolute,e})),!v)return;s(h.current,!0,!0),d(!0);const _=a?r:Xs(o);if(_&&y.current){const[e,t]=qs({nodeId:a,dragItems:h.current,nodeInternals:i});_(y.current,e,t)}},u=()=>{if(!m.current)return;const[e,n]=Eo(g.current,m.current);if(0!==e||0!==n){const{transform:i,panBy:r}=c.getState();p.current.x=(p.current.x??0)-e/i[2],p.current.y=(p.current.y??0)-n/i[2],r({x:e,y:n})&&t(p.current)}f.current=requestAnimationFrame(u)},w=e=>{const{nodeInternals:t,multiSelectionActive:i,nodesDraggable:r,unselectNodesAndEdges:o,onNodeDragStart:u,onSelectionDragStart:d}=c.getState();b.current=!0;const f=a?u:Xs(d);l&&s||i||!a||t.get(a)?.selected||o(),a&&s&&l&&Ks({id:a,store:c,nodeRef:n});const m=x(e);if(p.current=m,h.current=Vs(t,r,m,a),f&&h.current){const[n,i]=qs({nodeId:a,dragItems:h.current,nodeInternals:t});f(e.sourceEvent,n,i)}};if(!i){const i=function(){var e,t,n,i,r=Jr,o=Qr,a=eo,s=to,l={},c=bt("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",y,An).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,s){if(!i&&r.call(this,a,s)){var l=b(this,o.call(this,a,s),a,s,"mouse");l&&(zn(a.view).on("mousemove.drag",f,Rn).on("mouseup.drag",m,Rn),Dn(a.view),On(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function f(i){if(Bn(i),!n){var r=i.clientX-e,o=i.clientY-t;n=r*r+o*o>d}l.mouse("drag",i)}function m(e){zn(e.view).on("mousemove.drag mouseup.drag",null),Fn(e.view,n),Bn(e),l.mouse("end",e)}function g(e,t){if(r.call(this,e,t)){var n,i,a=e.changedTouches,s=o.call(this,e,t),l=a.length;for(n=0;n<l;++n)(i=b(this,s,e,t,a[n].identifier,a[n]))&&(On(e),i("start",e,a[n]))}}function y(e){var t,n,i=e.changedTouches,r=i.length;for(t=0;t<r;++t)(n=l[i[t].identifier])&&(Bn(e),n("drag",e,i[t]))}function v(e){var t,n,r=e.changedTouches,o=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<o;++t)(n=l[r[t].identifier])&&(On(e),n("end",e,r[t]))}function b(e,t,n,i,r,o){var s,d,p,f=c.copy(),m=$n(o||n,t);if(null!=(p=a.call(e,new Xr("beforestart",{sourceEvent:n,target:h,identifier:r,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),i)))return s=p.x-m[0]||0,d=p.y-m[1]||0,function n(o,a,c){var g,y=m;switch(o){case"start":l[r]=n,g=u++;break;case"end":delete l[r],--u;case"drag":m=$n(c||a,t),g=u}f.call(o,e,new Xr(o,{sourceEvent:a,subject:p,target:h,identifier:r,active:g,x:m[0]+s,y:m[1]+d,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:f}),i)}}return h.filter=function(e){return arguments.length?(r="function"===typeof e?e:Kr(!!e),h):r},h.container=function(e){return arguments.length?(o="function"===typeof e?e:Kr(e),h):o},h.subject=function(e){return arguments.length?(a="function"===typeof e?e:Kr(e),h):a},h.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Kr(!!e),h):s},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&w(e),_.current=!1;const i=x(e);p.current=i,m.current=t?.getBoundingClientRect()||null,g.current=Do(e.sourceEvent,m.current)})).on("drag",(e=>{const n=x(e),{autoPanOnNodeDrag:i,nodeDragThreshold:r}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(_.current=!0),!_.current){if(!v.current&&b.current&&i&&(v.current=!0,u()),!b.current){const t=n.xSnapped-(p?.current?.x??0),i=n.ySnapped-(p?.current?.y??0);Math.sqrt(t*t+i*i)>r&&w(e)}(p.current.x!==n.xSnapped||p.current.y!==n.ySnapped)&&h.current&&b.current&&(y.current=e.sourceEvent,g.current=Do(e.sourceEvent,m.current),t(n))}})).on("end",(e=>{if(b.current&&!_.current&&(d(!1),v.current=!1,b.current=!1,cancelAnimationFrame(f.current),h.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:i,onSelectionDragStop:r}=c.getState(),o=a?i:Xs(r);if(t(h.current,!1,!1),o){const[t,i]=qs({nodeId:a,dragItems:h.current,nodeInternals:n});o(e.sourceEvent,t,i)}}})).filter((e=>{const t=e.target;return!e.button&&(!r||!Ws(t,`.${r}`,n))&&(!o||Ws(t,o,n))}));return e.call(i),()=>{e.on(".drag",null)}}e.on(".drag",null)}}),[n,i,r,o,s,c,a,l,x]),u}function Qs(){const t=yo();return(0,e.useCallback)((e=>{const{nodeInternals:n,nodeExtent:i,updateNodePositions:r,getNodes:o,snapToGrid:a,snapGrid:s,onError:l,nodesDraggable:c}=t.getState(),u=o().filter((e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable))),d=a?s[0]:5,h=a?s[1]:5,p=e.isShiftPressed?4:1,f=e.x*d*p,m=e.y*h*p;r(u.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+f,y:e.positionAbsolute.y+m};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:r,position:o}=Us(e,t,n,i,void 0,l);e.position=o,e.positionAbsolute=r}return e})),!0,!1)}),[])}const el={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var tl=t=>{const n=n=>{let{id:i,type:r,data:o,xPos:a,yPos:s,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:f,onContextMenu:m,onDoubleClick:g,style:y,className:v,isDraggable:b,isSelectable:_,isConnectable:x,isFocusable:w,selectNodesOnDrag:k,sourcePosition:S,targetPosition:C,hidden:E,resizeObserver:N,dragHandle:P,zIndex:j,isParent:I,noDragClassName:M,noPanClassName:T,initialized:L,disableKeyboardA11y:z,ariaLabel:A,rfId:R,hasHandleBounds:O}=n;const B=yo(),D=(0,e.useRef)(null),F=(0,e.useRef)(null),H=(0,e.useRef)(S),Z=(0,e.useRef)(C),$=(0,e.useRef)(r),W=_||b||d||h||p||f,V=Qs(),U=Ys(i,B.getState,h),q=Ys(i,B.getState,p),G=Ys(i,B.getState,f),Y=Ys(i,B.getState,m),K=Ys(i,B.getState,g);(0,e.useEffect)((()=>()=>{F.current&&(N?.unobserve(F.current),F.current=null)}),[]),(0,e.useEffect)((()=>{if(D.current&&!E){const e=D.current;L&&O&&F.current===e||(F.current&&N?.unobserve(F.current),N?.observe(e),F.current=e)}}),[E,L,O]),(0,e.useEffect)((()=>{const e=$.current!==r,t=H.current!==S,n=Z.current!==C;D.current&&(e||t||n)&&(e&&($.current=r),t&&(H.current=S),n&&(Z.current=C),B.getState().updateNodeDimensions([{id:i,nodeElement:D.current,forceUpdate:!0}]))}),[i,r,S,C]);const X=Js({nodeRef:D,disabled:E||!b,noDragClassName:M,handleSelector:P,nodeId:i,isSelectable:_,selectNodesOnDrag:k});return E?null:e.createElement("div",{className:rt(["react-flow__node",`react-flow__node-${r}`,{[T]:b},v,{selected:u,selectable:_,parent:I,dragging:X}]),ref:D,style:{zIndex:j,transform:`translate(${l}px,${c}px)`,pointerEvents:W?"all":"none",visibility:L?"visible":"hidden",...y},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:U,onMouseMove:q,onMouseLeave:G,onContextMenu:Y,onClick:e=>{const{nodeDragThreshold:t}=B.getState();if(_&&(!k||!b||t>0)&&Ks({id:i,store:B,nodeRef:D}),d){const t=B.getState().nodeInternals.get(i);t&&d(e,{...t})}},onDoubleClick:K,onKeyDown:w?e=>{if(!Oo(e)&&!z)if(Ao.includes(e.key)&&_){const t="Escape"===e.key;Ks({id:i,store:B,unselect:t,nodeRef:D})}else b&&u&&Object.prototype.hasOwnProperty.call(el,e.key)&&(B.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~s}`}),V({x:el[e.key].x,y:el[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":z?void 0:`${as}-${R}`,"aria-label":A},e.createElement(va,{value:i},e.createElement(t,{id:i,data:o,type:r,xPos:a,yPos:s,selected:u,isConnectable:x,sourcePosition:S,targetPosition:C,dragging:X,dragHandle:P,zIndex:j})))};return n.displayName="NodeWrapper",(0,e.memo)(n)};const nl=e=>{const t=e.getNodes().filter((e=>e.selected));return{...Sa(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};var il=(0,e.memo)((function(t){let{onSelectionContextMenu:n,noPanClassName:i,disableKeyboardA11y:r}=t;const o=yo(),{width:a,height:s,x:l,y:c,transformString:u,userSelectionActive:d}=go(nl,pt),h=Qs(),p=(0,e.useRef)(null);if((0,e.useEffect)((()=>{r||p.current?.focus({preventScroll:!0})}),[r]),Js({nodeRef:p}),d||!a||!s)return null;const f=n?e=>{const t=o.getState().getNodes().filter((e=>e.selected));n(e,t)}:void 0;return e.createElement("div",{className:rt(["react-flow__nodesselection","react-flow__container",i]),style:{transform:u}},e.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(el,e.key)&&h({x:el[e.key].x,y:el[e.key].y,isShiftPressed:e.shiftKey})},style:{width:a,height:s,top:c,left:l}}))}));const rl=e=>e.nodesSelectionActive,ol=t=>{let{children:n,onPaneClick:i,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:h,selectionKeyCode:p,selectionOnDrag:f,selectionMode:m,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:v,panActivationKeyCode:b,zoomActivationKeyCode:_,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:P,defaultViewport:j,translateExtent:I,minZoom:M,maxZoom:T,preventScrolling:L,onSelectionContextMenu:z,noWheelClassName:A,noPanClassName:R,disableKeyboardA11y:O}=t;const B=go(rl),D=ds(p),F=ds(b),H=F||P,Z=F||S,$=D||f&&!0!==H;return(t=>{let{deleteKeyCode:n,multiSelectionKeyCode:i}=t;const r=yo(),{deleteElements:o}=Ss(),a=ds(n,Cs),s=ds(i);(0,e.useEffect)((()=>{if(a){const{edges:e,getNodes:t}=r.getState(),n=t().filter((e=>e.selected)),i=e.filter((e=>e.selected));o({nodes:n,edges:i}),r.setState({nodesSelectionActive:!1})}}),[a]),(0,e.useEffect)((()=>{r.setState({multiSelectionActive:s})}),[s])})({deleteKeyCode:c,multiSelectionKeyCode:v}),e.createElement(Ts,{onMove:u,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:Z,panOnScrollSpeed:C,panOnScrollMode:E,zoomOnDoubleClick:N,panOnDrag:!D&&H,defaultViewport:j,translateExtent:I,minZoom:M,maxZoom:T,zoomActivationKeyCode:_,preventScrolling:L,noWheelClassName:A,noPanClassName:R},e.createElement(Zs,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:i,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:H,isSelecting:!!$,selectionMode:m},n,B&&e.createElement(il,{onSelectionContextMenu:z,noPanClassName:R,disableKeyboardA11y:O})))};ol.displayName="FlowRenderer";var al=(0,e.memo)(ol);function sl(e){return{...{input:tl(e.input||Wa),default:tl(e.default||Za),output:tl(e.output||Ua),group:tl(e.group||qa)},...Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=tl(e[n]||Za),t)),{})}}const ll=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),cl=t=>{const{nodesDraggable:n,nodesConnectable:i,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:a,onError:s}=go(ll,pt),l=(c=t.onlyRenderVisibleElements,go((0,e.useCallback)((e=>c?Ca(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[c])));var c;const u=(0,e.useRef)(),d=(0,e.useMemo)((()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));a(t)}));return u.current=e,e}),[]);return(0,e.useEffect)((()=>()=>{u?.current?.disconnect()}),[]),e.createElement("div",{className:"react-flow__nodes",style:Es},l.map((a=>{let l=a.type||"default";t.nodeTypes[l]||(s?.("003",oo(l)),l="default");const c=t.nodeTypes[l]||t.nodeTypes.default,u=!!(a.draggable||n&&"undefined"===typeof a.draggable),h=!!(a.selectable||o&&"undefined"===typeof a.selectable),p=!!(a.connectable||i&&"undefined"===typeof a.connectable),f=!!(a.focusable||r&&"undefined"===typeof a.focusable),m=t.nodeExtent?So(a.positionAbsolute,t.nodeExtent):a.positionAbsolute,g=m?.x??0,y=m?.y??0,v=(e=>{let{x:t,y:n,width:i,height:r,origin:o}=e;return i&&r?o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:n}:{x:t-i*o[0],y:n-r*o[1]}:{x:t,y:n}})({x:g,y:y,width:a.width??0,height:a.height??0,origin:t.nodeOrigin});return e.createElement(c,{key:a.id,id:a.id,className:a.className,style:a.style,type:l,data:a.data,sourcePosition:a.sourcePosition||ta.Bottom,targetPosition:a.targetPosition||ta.Top,hidden:a.hidden,xPos:g,yPos:y,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!a.selected,isDraggable:u,isSelectable:h,isConnectable:p,isFocusable:f,resizeObserver:d,dragHandle:a.dragHandle,zIndex:a[zo]?.z??0,isParent:!!a[zo]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!a.width&&!!a.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!!a[zo]?.handleBounds})})))};cl.displayName="NodeRenderer";var ul=(0,e.memo)(cl);const dl=(e,t,n)=>n===ta.Left?e-t:n===ta.Right?e+t:e,hl=(e,t,n)=>n===ta.Top?e-t:n===ta.Bottom?e+t:e,pl="react-flow__edgeupdater",fl=t=>{let{position:n,centerX:i,centerY:r,radius:o=10,onMouseDown:a,onMouseEnter:s,onMouseOut:l,type:c}=t;return e.createElement("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:l,className:rt([pl,`${pl}-${c}`]),cx:dl(i,o,n),cy:hl(r,o,n),r:o,stroke:"transparent",fill:"transparent"})},ml=()=>!0;var gl=t=>{const n=n=>{let{id:i,className:r,type:o,data:a,onClick:s,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,style:y,source:v,target:b,sourceX:_,sourceY:x,targetX:w,targetY:k,sourcePosition:S,targetPosition:C,elementsSelectable:E,hidden:N,sourceHandleId:P,targetHandleId:j,onContextMenu:I,onMouseEnter:M,onMouseMove:T,onMouseLeave:L,reconnectRadius:z,onReconnect:A,onReconnectStart:R,onReconnectEnd:O,markerEnd:B,markerStart:D,rfId:F,ariaLabel:H,isFocusable:Z,isReconnectable:$,pathOptions:W,interactionWidth:V,disableKeyboardA11y:U}=n;const q=(0,e.useRef)(null),[G,Y]=(0,e.useState)(!1),[K,X]=(0,e.useState)(!1),J=yo(),Q=(0,e.useMemo)((()=>`url('#${_a(D,F)}')`),[D,F]),ee=(0,e.useMemo)((()=>`url('#${_a(B,F)}')`),[B,F]);if(N)return null;const te=Zo(i,J.getState,l),ne=Zo(i,J.getState,I),ie=Zo(i,J.getState,M),re=Zo(i,J.getState,T),oe=Zo(i,J.getState,L),ae=(e,t)=>{if(0!==e.button)return;const{edges:n,isValidConnection:r}=J.getState(),o=t?b:v,a=(t?j:P)||null,s=t?"target":"source",l=r||ml,c=t,u=n.find((e=>e.id===i));X(!0),R?.(e,u,s);Ra({event:e,handleId:a,nodeId:o,onConnect:e=>A?.(u,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{X(!1),O?.(e,u,s)}})},se=()=>Y(!0),le=()=>Y(!1),ce=!E&&!s;return e.createElement("g",{className:rt(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:c,animated:u,inactive:ce,updating:G}]),onClick:e=>{const{edges:t,addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=J.getState(),a=t.find((e=>e.id===i));a&&(E&&(J.setState({nodesSelectionActive:!1}),a.selected&&o?(r({nodes:[],edges:[a]}),q.current?.blur()):n([i])),s&&s(e,a))},onDoubleClick:te,onContextMenu:ne,onMouseEnter:ie,onMouseMove:re,onMouseLeave:oe,onKeyDown:Z?e=>{if(!U&&Ao.includes(e.key)&&E){const{unselectNodesAndEdges:t,addSelectedEdges:n,edges:r}=J.getState();"Escape"===e.key?(q.current?.blur(),t({edges:[r.find((e=>e.id===i))]})):n([i])}}:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":null===H?void 0:H||`Edge from ${v} to ${b}`,"aria-describedby":Z?`${ss}-${F}`:void 0,ref:q},!K&&e.createElement(t,{id:i,source:v,target:b,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,data:a,style:y,sourceX:_,sourceY:x,targetX:w,targetY:k,sourcePosition:S,targetPosition:C,sourceHandleId:P,targetHandleId:j,markerStart:Q,markerEnd:ee,pathOptions:W,interactionWidth:V}),$&&e.createElement(e.Fragment,null,("source"===$||!0===$)&&e.createElement(fl,{position:S,centerX:_,centerY:x,radius:z,onMouseDown:e=>ae(e,!0),onMouseEnter:se,onMouseOut:le,type:"source"}),("target"===$||!0===$)&&e.createElement(fl,{position:C,centerX:w,centerY:k,radius:z,onMouseDown:e=>ae(e,!1),onMouseEnter:se,onMouseOut:le,type:"target"})))};return n.displayName="EdgeWrapper",(0,e.memo)(n)};function yl(e){return{...{default:gl(e.default||ga),straight:gl(e.bezier||ha),step:gl(e.step||da),smoothstep:gl(e.step||ua),simplebezier:gl(e.simplebezier||oa)},...Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=gl(e[n]||ga),t)),{})}}function vl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=(n?.x||0)+t.x,r=(n?.y||0)+t.y,o=n?.width||t.width,a=n?.height||t.height;switch(e){case ta.Top:return{x:i+o/2,y:r};case ta.Right:return{x:i+o,y:r+a/2};case ta.Bottom:return{x:i+o/2,y:r+a};case ta.Left:return{x:i,y:r+a/2}}}function bl(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function _l(e){const t=e?.[zo]?.handleBounds||null,n=t&&e?.width&&e?.height&&"undefined"!==typeof e?.positionAbsolute?.x&&"undefined"!==typeof e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const xl=[{level:0,isMaxLevel:!0,edges:[]}];function wl(t,n,i){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1;const r=e.reduce(((e,r)=>{const o=Lo(r.zIndex);let a=o?r.zIndex:0;if(n){const e=t.get(r.target),n=t.get(r.source),i=r.selected||e?.selected||n?.selected,s=Math.max(n?.[zo]?.z||0,e?.[zo]?.z||0,1e3);a=(o?r.zIndex:0)+(i?s:0)}return e[a]?e[a].push(r):e[a]=[r],i=a>i?a:i,e}),{}),o=Object.entries(r).map((e=>{let[t,n]=e;const r=+t;return{edges:n,level:r,isMaxLevel:r===i}}));return 0===o.length?xl:o}(go((0,e.useCallback)((e=>t?e.edges.filter((t=>{const i=n.get(t.source),r=n.get(t.target);return i?.width&&i?.height&&r?.width&&r?.height&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:i,sourceHeight:r,targetWidth:o,targetHeight:a,width:s,height:l,transform:c}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+i,n.x+o),y2:Math.max(t.y+r,n.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=jo({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),p=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*p)>0}({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:r.width,targetHeight:r.height,width:e.width,height:e.height,transform:e.transform})})):e.edges),[t,n])),n,i)}const kl={[Qo.Arrow]:t=>{let{color:n="none",strokeWidth:i=1}=t;return e.createElement("polyline",{style:{stroke:n,strokeWidth:i},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[Qo.ArrowClosed]:t=>{let{color:n="none",strokeWidth:i=1}=t;return e.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:i},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Sl=t=>{let{id:n,type:i,color:r,width:o=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=t;const u=function(t){const n=yo();return(0,e.useMemo)((()=>Object.prototype.hasOwnProperty.call(kl,t)?kl[t]:(n.getState().onError?.("009",co(t)),null)),[t])}(i);return u?e.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${o}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},e.createElement(u,{color:r,strokeWidth:l})):null},Cl=t=>{let{defaultColor:n,rfId:i}=t;const r=go((0,e.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const i=[];return e.edges.reduce(((e,r)=>([r.markerStart,r.markerEnd].forEach((r=>{if(r&&"object"===typeof r){const o=_a(r,n);i.includes(o)||(e.push({id:o,color:r.color||t,...r}),i.push(o))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}})({defaultColor:n,rfId:i}),[n,i]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return e.createElement("defs",null,r.map((t=>e.createElement(Sl,{id:t.id,key:t.id,type:t.type,color:t.color,width:t.width,height:t.height,markerUnits:t.markerUnits,strokeWidth:t.strokeWidth,orient:t.orient}))))};Cl.displayName="MarkerDefinitions";var El=(0,e.memo)(Cl);const Nl=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Pl=t=>{let{defaultMarkerColor:n,onlyRenderVisibleElements:i,elevateEdgesOnSelect:r,rfId:o,edgeTypes:a,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:h,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:y,children:v,disableKeyboardA11y:b}=t;const{edgesFocusable:_,edgesUpdatable:x,elementsSelectable:w,width:k,height:S,connectionMode:C,nodeInternals:E,onError:N}=go(Nl,pt),P=wl(i,E,r);return k?e.createElement(e.Fragment,null,P.map((t=>{let{level:i,edges:r,isMaxLevel:v}=t;return e.createElement("svg",{key:i,style:{zIndex:i},width:k,height:S,className:"react-flow__edges react-flow__container"},v&&e.createElement(El,{defaultColor:n,rfId:o}),e.createElement("g",null,r.map((t=>{const[n,i,r]=_l(E.get(t.source)),[v,k,S]=_l(E.get(t.target));if(!r||!S)return null;let P=t.type||"default";a[P]||(N?.("011",po(P)),P="default");const j=a[P]||a.default,I=C===Vo.Strict?k.target:(k.target??[]).concat(k.source??[]),M=bl(i.source,t.sourceHandle),T=bl(I,t.targetHandle),L=M?.position||ta.Bottom,z=T?.position||ta.Top,A=!!(t.focusable||_&&"undefined"===typeof t.focusable),R=t.reconnectable||t.updatable,O="undefined"!==typeof f&&(R||x&&"undefined"===typeof R);if(!M||!T)return N?.("008",uo(M,t)),null;const{sourceX:B,sourceY:D,targetX:F,targetY:H}=((e,t,n,i,r,o)=>{const a=vl(n,e,t),s=vl(o,i,r);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}})(n,M,L,v,T,z);return e.createElement(j,{key:t.id,id:t.id,className:rt([t.className,s]),type:P,data:t.data,selected:!!t.selected,animated:!!t.animated,hidden:!!t.hidden,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,source:t.source,target:t.target,sourceHandleId:t.sourceHandle,targetHandleId:t.targetHandle,markerEnd:t.markerEnd,markerStart:t.markerStart,sourceX:B,sourceY:D,targetX:F,targetY:H,sourcePosition:L,targetPosition:z,elementsSelectable:w,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:h,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:y,rfId:o,ariaLabel:t.ariaLabel,isFocusable:A,isReconnectable:O,pathOptions:"pathOptions"in t?t.pathOptions:void 0,interactionWidth:t.interactionWidth,disableKeyboardA11y:b})}))))})),v):null};Pl.displayName="EdgeRenderer";var jl=(0,e.memo)(Pl);const Il=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Ml(t){let{children:n}=t;const i=go(Il);return e.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:i}},n)}const Tl={[ta.Left]:ta.Right,[ta.Right]:ta.Left,[ta.Top]:ta.Bottom,[ta.Bottom]:ta.Top},Ll=t=>{let{nodeId:n,handleType:i,style:r,type:o=Xo.Bezier,CustomComponent:a,connectionStatus:s}=t;const{fromNode:l,handleId:c,toX:u,toY:d,connectionMode:h}=go((0,e.useCallback)((e=>({fromNode:e.nodeInternals.get(n),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode})),[n]),pt),p=l?.[zo]?.handleBounds;let f=p?.[i];if(h===Vo.Loose&&(f=f||p?.["source"===i?"target":"source"]),!l||!f)return null;const m=c?f.find((e=>e.id===c)):f[0],g=m?m.x+m.width/2:(l.width??0)/2,y=m?m.y+m.height/2:l.height??0,v=(l.positionAbsolute?.x??0)+g,b=(l.positionAbsolute?.y??0)+y,_=m?.position,x=_?Tl[_]:null;if(!_||!x)return null;if(a)return e.createElement(a,{connectionLineType:o,connectionLineStyle:r,fromNode:l,fromHandle:m,fromX:v,fromY:b,toX:u,toY:d,fromPosition:_,toPosition:x,connectionStatus:s});let w="";const k={sourceX:v,sourceY:b,sourcePosition:_,targetX:u,targetY:d,targetPosition:x};return o===Xo.Bezier?[w]=ma(k):o===Xo.Step?[w]=ca({...k,borderRadius:0}):o===Xo.SmoothStep?[w]=ca(k):o===Xo.SimpleBezier?[w]=ra(k):w=`M${v},${b} ${u},${d}`,e.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:r})};Ll.displayName="ConnectionLine";const zl=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Al(t){let{containerStyle:n,style:i,type:r,component:o}=t;const{nodeId:a,handleType:s,nodesConnectable:l,width:c,height:u,connectionStatus:d}=go(zl,pt);return!!(a&&s&&c&&l)?e.createElement("svg",{style:n,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},e.createElement("g",{className:rt(["react-flow__connection",d])},e.createElement(Ll,{nodeId:a,handleType:s,style:i,type:r,CustomComponent:o,connectionStatus:d}))):null}function Rl(t,n){(0,e.useRef)(null),yo();return(0,e.useMemo)((()=>n(t)),[t])}const Ol=t=>{let{nodeTypes:n,edgeTypes:i,onMove:r,onMoveStart:o,onMoveEnd:a,onInit:s,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:y,onSelectionEnd:v,connectionLineType:b,connectionLineStyle:_,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:k,selectionOnDrag:S,selectionMode:C,multiSelectionKeyCode:E,panActivationKeyCode:N,zoomActivationKeyCode:P,deleteKeyCode:j,onlyRenderVisibleElements:I,elementsSelectable:M,selectNodesOnDrag:T,defaultViewport:L,translateExtent:z,minZoom:A,maxZoom:R,preventScrolling:O,defaultMarkerColor:B,zoomOnScroll:D,zoomOnPinch:F,panOnScroll:H,panOnScrollSpeed:Z,panOnScrollMode:$,zoomOnDoubleClick:W,panOnDrag:V,onPaneClick:U,onPaneMouseEnter:q,onPaneMouseMove:G,onPaneMouseLeave:Y,onPaneScroll:K,onPaneContextMenu:X,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:ie,onReconnectEnd:re,reconnectRadius:oe,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:pe}=t;const fe=Rl(n,sl),me=Rl(i,yl);return function(t){const n=Ss(),i=(0,e.useRef)(!1);(0,e.useEffect)((()=>{!i.current&&n.viewportInitialized&&t&&(setTimeout((()=>t(n)),1),i.current=!0)}),[t,n.viewportInitialized])}(s),e.createElement(al,{onPaneClick:U,onPaneMouseEnter:q,onPaneMouseMove:G,onPaneMouseLeave:Y,onPaneContextMenu:X,onPaneScroll:K,deleteKeyCode:j,selectionKeyCode:k,selectionOnDrag:S,selectionMode:C,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:E,panActivationKeyCode:N,zoomActivationKeyCode:P,elementsSelectable:M,onMove:r,onMoveStart:o,onMoveEnd:a,zoomOnScroll:D,zoomOnPinch:F,zoomOnDoubleClick:W,panOnScroll:H,panOnScrollSpeed:Z,panOnScrollMode:$,panOnDrag:V,defaultViewport:L,translateExtent:z,minZoom:A,maxZoom:R,onSelectionContextMenu:g,preventScrolling:O,noDragClassName:ae,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:ue},e.createElement(Ml,null,e.createElement(jl,{edgeTypes:me,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:I,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:ie,onReconnectEnd:re,reconnectRadius:oe,defaultMarkerColor:B,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:ue,rfId:pe},e.createElement(Al,{style:_,type:b,component:x,containerStyle:w})),e.createElement("div",{className:"react-flow__edgelabel-renderer"}),e.createElement(ul,{nodeTypes:fe,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:T,onlyRenderVisibleElements:I,noPanClassName:le,noDragClassName:ae,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:he,rfId:pe})))};Ol.displayName="GraphView";var Bl=(0,e.memo)(Ol);const Dl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Fl={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Dl,nodeExtent:Dl,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Vo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Ro,isValidConnection:void 0},Hl=()=>{return e=(e,t)=>({...Fl,setNodes:n=>{const{nodeInternals:i,nodeOrigin:r,elevateNodesOnSelect:o}=t();e({nodeInternals:gs(n,i,r,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:i={}}=t();e({edges:n.map((e=>({...i,...e})))})},setDefaultNodesAndEdges:(n,i)=>{const r="undefined"!==typeof n,o="undefined"!==typeof i,a=r?gs(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:o?i:[],hasDefaultNodes:r,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:i,nodeInternals:r,fitViewOnInit:o,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l?.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce(((e,t)=>{const n=r.get(t.id);if(n?.hidden)r.set(n.id,{...n,[zo]:{...n[zo],handleBounds:void 0}});else if(n){const i=wo(t.nodeElement);i.width&&i.height&&(n.width!==i.width||n.height!==i.height||t.forceUpdate)&&(r.set(n.id,{...n,[zo]:{...n[zo],handleBounds:{source:Gs(".source",t.nodeElement,h,c),target:Gs(".target",t.nodeElement,h,c)}},...i}),e.push({id:n.id,type:"dimensions",dimensions:i}))}return e}),[]);ms(r,c);const f=a||o&&!a&&ys(t,{initial:!0,...s});e({nodeInternals:new Map(r),fitViewOnInitDone:f}),p?.length>0&&i?.(p)},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:r}=t();r(e.map((e=>{const t={id:e.id,type:"position",dragging:i};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t})))},triggerNodeChanges:n=>{const{onNodesChange:i,nodeInternals:r,hasDefaultNodes:o,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(n?.length){if(o){const t=gs(Os(n,s()),r,a,l);e({nodeInternals:t})}i?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:i,edges:r,getNodes:o}=t();let a,s=null;i?a=n.map((e=>Bs(e,!0))):(a=Ds(o(),n),s=Ds(r,[])),_s({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:i,edges:r,getNodes:o}=t();let a,s=null;i?a=n.map((e=>Bs(e,!0))):(a=Ds(r,n),s=Ds(o(),[])),_s({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:r,getNodes:o}=t(),a=i||r;_s({changedNodes:(n||o()).map((e=>(e.selected=!1,Bs(e.id,!1)))),changedEdges:a.map((e=>Bs(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:i,maxZoom:r}=t();i?.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:i,minZoom:r}=t();i?.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:i}=t();_s({changedNodes:i().filter((e=>e.selected)).map((e=>Bs(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>Bs(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:i}=t();i.forEach((e=>{e.positionAbsolute=So(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(i)})},panBy:e=>{const{transform:n,width:i,height:r,d3Zoom:o,d3Selection:a,translateExtent:s}=t();if(!o||!a||!e.x&&!e.y)return!1;const l=Fr.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[i,r]],u=o?.constrain()(l,c,s);return o.transform(a,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:Fl.connectionNodeId,connectionHandleId:Fl.connectionHandleId,connectionHandleType:Fl.connectionHandleType,connectionStatus:Fl.connectionStatus,connectionStartHandle:Fl.connectionStartHandle,connectionEndHandle:Fl.connectionEndHandle}),reset:()=>e({...Fl})}),t=Object.is,e?ht(e,t):ht;var e,t},Zl=t=>{let{children:n}=t;const i=(0,e.useRef)(null);return i.current||(i.current=Hl()),e.createElement(ro,{value:i.current},n)};Zl.displayName="ReactFlowProvider";const $l=t=>{let{children:n}=t;return(0,e.useContext)(io)?e.createElement(e.Fragment,null,n):e.createElement(Zl,null,n)};$l.displayName="ReactFlowWrapper";const Wl={input:Wa,default:Za,output:Ua,group:qa},Vl={default:ga,straight:ha,step:da,smoothstep:ua,simplebezier:oa},Ul=[0,0],ql=[15,15],Gl={x:0,y:0,zoom:1},Yl={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Kl=(0,e.forwardRef)(((t,n)=>{let{nodes:i,edges:r,defaultNodes:o,defaultEdges:a,className:s,nodeTypes:l=Wl,edgeTypes:c=Vl,onNodeClick:u,onEdgeClick:d,onInit:h,onMove:p,onMoveStart:f,onMoveEnd:m,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:_,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:k,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:P,onNodesDelete:j,onEdgesDelete:I,onSelectionChange:M,onSelectionDragStart:T,onSelectionDrag:L,onSelectionDragStop:z,onSelectionContextMenu:A,onSelectionStart:R,onSelectionEnd:O,connectionMode:B=Vo.Strict,connectionLineType:D=Xo.Bezier,connectionLineStyle:F,connectionLineComponent:H,connectionLineContainerStyle:Z,deleteKeyCode:$="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:V=!1,selectionMode:U=Yo.Full,panActivationKeyCode:q="Space",multiSelectionKeyCode:G=(Fo()?"Meta":"Control"),zoomActivationKeyCode:Y=(Fo()?"Meta":"Control"),snapToGrid:K=!1,snapGrid:X=ql,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:Q=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:ie=Ul,edgesFocusable:re,edgesUpdatable:oe,elementsSelectable:ae,defaultViewport:se=Gl,minZoom:le=.5,maxZoom:ce=2,translateExtent:ue=Dl,preventScrolling:de=!0,nodeExtent:he,defaultMarkerColor:pe="#b1b1b7",zoomOnScroll:fe=!0,zoomOnPinch:me=!0,panOnScroll:ge=!1,panOnScrollSpeed:ye=.5,panOnScrollMode:ve=qo.Free,zoomOnDoubleClick:be=!0,panOnDrag:_e=!0,onPaneClick:xe,onPaneMouseEnter:we,onPaneMouseMove:ke,onPaneMouseLeave:Se,onPaneScroll:Ce,onPaneContextMenu:Ee,children:Ne,onEdgeContextMenu:Pe,onEdgeDoubleClick:je,onEdgeMouseEnter:Ie,onEdgeMouseMove:Me,onEdgeMouseLeave:Te,onEdgeUpdate:Le,onEdgeUpdateStart:ze,onEdgeUpdateEnd:Ae,onReconnect:Re,onReconnectStart:Oe,onReconnectEnd:Be,reconnectRadius:De=10,edgeUpdaterRadius:Fe=10,onNodesChange:He,onEdgesChange:Ze,noDragClassName:$e="nodrag",noWheelClassName:We="nowheel",noPanClassName:Ve="nopan",fitView:Ue=!1,fitViewOptions:qe,connectOnClick:Ge=!0,attributionPosition:Ye,proOptions:Ke,defaultEdgeOptions:Xe,elevateNodesOnSelect:Je=!0,elevateEdgesOnSelect:Qe=!1,disableKeyboardA11y:et=!1,autoPanOnConnect:tt=!0,autoPanOnNodeDrag:nt=!0,connectionRadius:it=20,isValidConnection:ot,onError:at,style:st,id:lt,nodeDragThreshold:ct,...ut}=t;const dt=lt||"1";return e.createElement("div",{...ut,style:{...st,...Yl},ref:n,className:rt(["react-flow",s]),"data-testid":"rf__wrapper",id:lt},e.createElement($l,null,e.createElement(Bl,{onInit:h,onMove:p,onMoveStart:f,onMoveEnd:m,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:k,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:l,edgeTypes:c,connectionLineType:D,connectionLineStyle:F,connectionLineComponent:H,connectionLineContainerStyle:Z,selectionKeyCode:W,selectionOnDrag:V,selectionMode:U,deleteKeyCode:$,multiSelectionKeyCode:G,panActivationKeyCode:q,zoomActivationKeyCode:Y,onlyRenderVisibleElements:J,selectNodesOnDrag:Q,defaultViewport:se,translateExtent:ue,minZoom:le,maxZoom:ce,preventScrolling:de,zoomOnScroll:fe,zoomOnPinch:me,zoomOnDoubleClick:be,panOnScroll:ge,panOnScrollSpeed:ye,panOnScrollMode:ve,panOnDrag:_e,onPaneClick:xe,onPaneMouseEnter:we,onPaneMouseMove:ke,onPaneMouseLeave:Se,onPaneScroll:Ce,onPaneContextMenu:Ee,onSelectionContextMenu:A,onSelectionStart:R,onSelectionEnd:O,onEdgeContextMenu:Pe,onEdgeDoubleClick:je,onEdgeMouseEnter:Ie,onEdgeMouseMove:Me,onEdgeMouseLeave:Te,onReconnect:Re??Le,onReconnectStart:Oe??ze,onReconnectEnd:Be??Ae,reconnectRadius:De??Fe,defaultMarkerColor:pe,noDragClassName:$e,noWheelClassName:We,noPanClassName:Ve,elevateEdgesOnSelect:Qe,rfId:dt,disableKeyboardA11y:et,nodeOrigin:ie,nodeExtent:he}),e.createElement(is,{nodes:i,edges:r,defaultNodes:o,defaultEdges:a,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:_,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:re,edgesUpdatable:oe,elementsSelectable:ae,elevateNodesOnSelect:Je,minZoom:le,maxZoom:ce,nodeExtent:he,onNodesChange:He,onEdgesChange:Ze,snapToGrid:K,snapGrid:X,connectionMode:B,translateExtent:ue,connectOnClick:Ge,defaultEdgeOptions:Xe,fitView:Ue,fitViewOptions:qe,onNodesDelete:j,onEdgesDelete:I,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:P,onSelectionDrag:L,onSelectionDragStart:T,onSelectionDragStop:z,noPanClassName:Ve,nodeOrigin:ie,rfId:dt,autoPanOnConnect:tt,autoPanOnNodeDrag:nt,onError:at,connectionRadius:it,isValidConnection:ot,nodeDragThreshold:ct}),e.createElement(Qa,{onSelectionChange:M}),Ne,e.createElement(_o,{proOptions:Ke,position:Ye}),e.createElement(us,{rfId:dt,disableKeyboardA11y:et})))}));Kl.displayName="ReactFlow";function Xl(t){return n=>{const[i,r]=(0,e.useState)(n),o=(0,e.useCallback)((e=>r((n=>t(e,n)))),[]);return[i,r,o]}}const Jl=Xl(Os),Ql=Xl((function(e,t){return Rs(e,t)}));function ec(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function tc(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e.createElement("path",{d:"M0 0h32v4.2H0z"}))}function nc(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function ic(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function rc(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const oc=t=>{let{children:n,className:i,...r}=t;return e.createElement("button",{type:"button",className:rt(["react-flow__controls-button",i]),...r},n)};oc.displayName="ControlButton";const ac=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),sc=t=>{let{style:n,showZoom:i=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:h,position:p="bottom-left"}=t;const f=yo(),[m,g]=(0,e.useState)(!1),{isInteractive:y,minZoomReached:v,maxZoomReached:b}=go(ac,pt),{zoomIn:_,zoomOut:x,fitView:w}=Ss();if((0,e.useEffect)((()=>{g(!0)}),[]),!m)return null;return e.createElement(bo,{className:rt(["react-flow__controls",d]),position:p,style:n,"data-testid":"rf__controls"},i&&e.createElement(e.Fragment,null,e.createElement(oc,{onClick:()=>{_(),s?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},e.createElement(ec,null)),e.createElement(oc,{onClick:()=>{x(),l?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},e.createElement(tc,null))),r&&e.createElement(oc,{className:"react-flow__controls-fitview",onClick:()=>{w(a),c?.()},title:"fit view","aria-label":"fit view"},e.createElement(nc,null)),o&&e.createElement(oc,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),u?.(!y)},title:"toggle interactivity","aria-label":"toggle interactivity"},y?e.createElement(rc,null):e.createElement(ic,null)),h)};sc.displayName="Controls";var lc=(0,e.memo)(sc);const cc=t=>{let{id:n,x:i,y:r,width:o,height:a,style:s,color:l,strokeColor:c,strokeWidth:u,className:d,borderRadius:h,shapeRendering:p,onClick:f,selected:m}=t;const{background:g,backgroundColor:y}=s||{},v=l||g||y;return e.createElement("rect",{className:rt(["react-flow__minimap-node",{selected:m},d]),x:i,y:r,rx:h,ry:h,width:o,height:a,fill:v,stroke:c,strokeWidth:u,shapeRendering:p,onClick:f?e=>f(e,n):void 0})};cc.displayName="MiniMapNode";var uc=(0,e.memo)(cc);const dc=e=>e.nodeOrigin,hc=e=>e.getNodes().filter((e=>!e.hidden&&e.width&&e.height)),pc=e=>e instanceof Function?e:()=>e;var fc=(0,e.memo)((function(t){let{nodeStrokeColor:n="transparent",nodeColor:i="#e2e2e2",nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:a=2,nodeComponent:s=uc,onClick:l}=t;const c=go(hc,pt),u=go(dc),d=pc(i),h=pc(n),p=pc(r),f="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return e.createElement(e.Fragment,null,c.map((t=>{const{x:n,y:i}=ka(t,u).positionAbsolute;return e.createElement(s,{key:t.id,x:n,y:i,width:t.width,height:t.height,style:t.style,selected:t.selected,className:p(t),color:d(t),borderRadius:o,strokeColor:h(t),strokeWidth:a,shapeRendering:f,onClick:l,id:t.id})})))}));const mc=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(i=Sa(t,e.nodeOrigin),r=n,Io(Po(jo(i),jo(r)))):n,rfId:e.rfId};var i,r};function gc(t){let{style:n,className:i,nodeStrokeColor:r="transparent",nodeColor:o="#e2e2e2",nodeClassName:a="",nodeBorderRadius:s=5,nodeStrokeWidth:l=2,nodeComponent:c,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:d="none",maskStrokeWidth:h=1,position:p="bottom-right",onClick:f,onNodeClick:m,pannable:g=!1,zoomable:y=!1,ariaLabel:v="React Flow mini map",inversePan:b=!1,zoomStep:_=10,offsetScale:x=5}=t;const w=yo(),k=(0,e.useRef)(null),{boundingRect:S,viewBB:C,rfId:E}=go(mc,pt),N=n?.width??200,P=n?.height??150,j=S.width/N,I=S.height/P,M=Math.max(j,I),T=M*N,L=M*P,z=x*M,A=S.x-(T-S.width)/2-z,R=S.y-(L-S.height)/2-z,O=T+2*z,B=L+2*z,D=`react-flow__minimap-desc-${E}`,F=(0,e.useRef)(0);F.current=M,(0,e.useEffect)((()=>{if(k.current){const e=zn(k.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:i}=w.getState();if("wheel"!==e.sourceEvent.type||!n||!i)return;const r=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*_,o=t[2]*Math.pow(2,r);i.scaleTo(n,o)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:i,translateExtent:r,width:o,height:a}=w.getState();if("mousemove"!==e.sourceEvent.type||!n||!i)return;const s=F.current*Math.max(1,t[2])*(b?-1:1),l={x:t[0]-e.sourceEvent.movementX*s,y:t[1]-e.sourceEvent.movementY*s},c=[[0,0],[o,a]],u=Fr.translate(l.x,l.y).scale(t[2]),d=i.constrain()(u,c,r);i.transform(n,d)},i=Yr().on("zoom",g?n:null).on("zoom.wheel",y?t:null);return e.call(i),()=>{e.on("zoom",null)}}}),[g,y,b,_]);const H=f?e=>{const t=$n(e);f(e,{x:t[0],y:t[1]})}:void 0,Z=m?(e,t)=>{const n=w.getState().nodeInternals.get(t);m(e,n)}:void 0;return e.createElement(bo,{position:p,style:n,className:rt(["react-flow__minimap",i]),"data-testid":"rf__minimap"},e.createElement("svg",{width:N,height:P,viewBox:`${A} ${R} ${O} ${B}`,role:"img","aria-labelledby":D,ref:k,onClick:H},v&&e.createElement("title",{id:D},v),e.createElement(fc,{onClick:Z,nodeColor:o,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:a,nodeStrokeWidth:l,nodeComponent:c}),e.createElement("path",{className:"react-flow__minimap-mask",d:`M${A-z},${R-z}h${O+2*z}v${B+2*z}h${-O-2*z}z\n        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:u,fillRule:"evenodd",stroke:d,strokeWidth:h,pointerEvents:"none"})))}gc.displayName="MiniMap";var yc,vc,bc=(0,e.memo)(gc);function _c(t){let{color:n,dimensions:i,lineWidth:r}=t;return e.createElement("path",{stroke:n,strokeWidth:r,d:`M${i[0]/2} 0 V${i[1]} M0 ${i[1]/2} H${i[0]}`})}function xc(t){let{color:n,radius:i}=t;return e.createElement("circle",{cx:i,cy:i,r:i,fill:n})}(vc=yc||(yc={})).Lines="lines",vc.Dots="dots",vc.Cross="cross";const wc={[yc.Dots]:"#91919a",[yc.Lines]:"#eee",[yc.Cross]:"#e2e2e2"},kc={[yc.Dots]:1,[yc.Lines]:1,[yc.Cross]:6},Sc=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Cc(t){let{id:n,variant:i=yc.Dots,gap:r=20,size:o,lineWidth:a=1,offset:s=2,color:l,style:c,className:u}=t;const d=(0,e.useRef)(null),{transform:h,patternId:p}=go(Sc,pt),f=l||wc[i],m=o||kc[i],g=i===yc.Dots,y=i===yc.Cross,v=Array.isArray(r)?r:[r,r],b=[v[0]*h[2]||1,v[1]*h[2]||1],_=m*h[2],x=y?[_,_]:b,w=g?[_/s,_/s]:[x[0]/s,x[1]/s];return e.createElement("svg",{className:rt(["react-flow__background",u]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},e.createElement("pattern",{id:p+n,x:h[0]%b[0],y:h[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},g?e.createElement(xc,{color:f,radius:_/s}):e.createElement(_c,{dimensions:x,color:f,lineWidth:a})),e.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${p+n})`}))}Cc.displayName="Background";var Ec=(0,e.memo)(Cc);const Nc=e=>{let{relationshipTypes:t}=e;const n=e=>e.includes("spouse")?"#805AD5":e.includes("handler")||e.includes("asset")?"#3182CE":e.includes("conspirator")?"#E53E3E":e.includes("colleague")?"#38A169":e.includes("superior")||e.includes("subordinate")?"#DD6B20":"#718096",i=e=>e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" - ");return(0,Je.jsxs)("div",{className:"p-3 border rounded bg-white",children:[(0,Je.jsx)("h3",{className:"text-sm font-bold mb-2",children:"Relationship Types"}),(0,Je.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2",children:["spouse","handler-asset","conspirator","colleague","superior-subordinate","friend"].map((e=>(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-1 mr-2",style:{backgroundColor:n(e)}}),(0,Je.jsx)("span",{className:"text-xs",children:i(e)})]},e)))})]})},Pc={character:e=>{let{data:t}=e;return(0,Je.jsxs)("div",{className:`p-3 rounded-lg shadow-md border-2 w-48 text-center ${t.style}`,style:{backgroundColor:t.backgroundColor,borderColor:t.borderColor,transform:t.isSelected?"scale(1.05)":"scale(1)",transition:"all 0.2s ease",boxShadow:t.isSelected?"0 0 10px rgba(0, 0, 0, 0.3)":"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,Je.jsx)("div",{className:"font-bold text-base truncate",title:t.label,children:t.label}),t.role&&(0,Je.jsx)("div",{className:"text-xs text-gray-700 mt-1 truncate",title:t.role,children:t.role}),(0,Je.jsx)(Fa,{type:"source",position:"right",style:{background:t.borderColor||"#555",border:"2px solid white",width:"10px",height:"10px"}}),(0,Je.jsx)(Fa,{type:"target",position:"left",style:{background:t.borderColor||"#555",border:"2px solid white",width:"10px",height:"10px"}})]})}},jc=t=>{let{onCharacterSelect:n,selectedCharacter:i,charactersData:r,relationshipsData:o}=t;const a=(0,e.useRef)(null),[s,l]=(0,e.useState)(null),[c,u,d]=Jl([]),[h,p,f]=Ql([]),[m,g]=(0,e.useState)("all"),[y,v]=(0,e.useState)("all"),[b,_]=(0,e.useState)(!1),[x,w]=(0,e.useState)(null),[k,S]=(0,e.useState)(""),C=Array.from(new Set(o.map((e=>e.type)))),E=e=>{if(!e)return;const t=c.find((t=>t.id===e));t&&w(t)};(0,e.useEffect)((()=>{i&&E(i.id)}),[i]);const N=e=>e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" - "),P=()=>{s&&s.fitView({padding:.2})},j=(0,e.useCallback)((()=>{_(!0);const e={alpha:1,nodes:[...c],edges:[...h],run:function(){if(this.nodes.length>0){this.nodes.every((e=>e.position.x%100===0||e.position.y%100===0))&&this.nodes.forEach((e=>{e.position.x+=400*Math.random()-200,e.position.y+=400*Math.random()-200}))}for(let e=0;e<100;e++){const t=this.nodes.map((()=>({x:0,y:0})));for(let e=0;e<this.nodes.length;e++)for(let n=e+1;n<this.nodes.length;n++){const i=this.nodes[e],r=this.nodes[n],o=r.position.x-i.position.x,a=r.position.y-i.position.y,s=Math.sqrt(o*o+a*a)||1,l=1500*Math.min(200/s,5)/(s*s),c=o/s*l,u=a/s*l;t[e].x-=c,t[e].y-=u,t[n].x+=c,t[n].y+=u}for(const e of this.edges){const n=this.nodes.find((t=>t.id===e.source)),i=this.nodes.find((t=>t.id===e.target));if(n&&i){const e=i.position.x-n.position.x,r=i.position.y-n.position.y,o=Math.sqrt(e*e+r*r)||1,a=Math.min(.07*o,10),s=e/o*a,l=r/o*a;t[this.nodes.indexOf(n)].x+=s,t[this.nodes.indexOf(n)].y+=l,t[this.nodes.indexOf(i)].x-=s,t[this.nodes.indexOf(i)].y-=l}}const n={};this.nodes.forEach((e=>{var t;const i=null===(t=e.data)||void 0===t?void 0:t.group;i&&(n[i]||(n[i]=[]),n[i].push(e))})),Object.values(n).forEach((e=>{if(e.length<2)return;const n=e.reduce(((e,t)=>e+t.position.x),0)/e.length,i=e.reduce(((e,t)=>e+t.position.y),0)/e.length;e.forEach((e=>{const r=this.nodes.indexOf(e),o=n-e.position.x,a=i-e.position.y;Math.sqrt(o*o+a*a);t[r].x+=.005*o,t[r].y+=.005*a}))}));for(let e=0;e<this.nodes.length;e++){const n=this.nodes[e],i=500-n.position.x,r=300-n.position.y,o=Math.sqrt(i*i+r*r)>500?3:1;t[e].x+=.01*i*o,t[e].y+=.01*r*o}const i=.9,r=20;for(let e=0;e<this.nodes.length;e++){const n=this.nodes[e],o=Math.min(Math.max(t[e].x,-r),r),a=Math.min(Math.max(t[e].y,-r),r);n.position.x+=o*i,n.position.y+=a*i}if(this.alpha*=.95,e>50&&t.every((e=>Math.abs(e.x)<.5&&Math.abs(e.y)<.5)))break}return this.nodes}}.run();u([...e]),setTimeout((()=>{_(!1),s&&s.fitView({padding:.2})}),100)}),[c,h,u,s]);return(0,e.useEffect)((()=>{c.length>0&&(j(),setTimeout((()=>{P()}),100))}),[c.length,j]),(0,e.useEffect)((()=>{const e=r.filter((e=>{const t="all"===m||e.group===m,n=""===k||e.name.toLowerCase().includes(k.toLowerCase())||e.role&&e.role.toLowerCase().includes(k.toLowerCase());return t&&n})),t=e.map(((t,n)=>{const r=(e=>{if(!e.group)return"";switch(e.group){case"Protagonists":return{backgroundColor:"#EBF8FF",borderColor:"#3182CE",style:"border-blue-500"};case"Fifth Columnists":return{backgroundColor:"#FED7D7",borderColor:"#E53E3E",style:"border-red-500"};case"German Connection":return{backgroundColor:"#FFFBEB",borderColor:"#D69E2E",style:"border-yellow-500"};case"Supporting Characters":return{backgroundColor:"#F0FFF4",borderColor:"#38A169",style:"border-green-500"};case"Military":return{backgroundColor:"#EEF6FF",borderColor:"#4A5568",style:"border-gray-600"};case"Historical Figures":return{backgroundColor:"#FAF5FF",borderColor:"#805AD5",style:"border-purple-500"};default:return{backgroundColor:"#E2E8F0",borderColor:"#718096",style:"border-gray-500"}}})(t),o=(null===i||void 0===i?void 0:i.id)===t.id,a=e.length,s=2*Math.PI/a,l=Math.min(200,Math.max(100,15*a)),c=n*s,u=500+l*Math.cos(c),d=300+l*Math.sin(c);return{id:t.id,type:"character",data:{label:t.name,role:t.role,group:t.group,...r,isSelected:o},position:{x:u,y:d}}}));let n=o;"all"!==y&&(n=n.filter((e=>e.type.includes(y)))),n=n.filter((t=>{const n=e.find((e=>e.id===t.from)),i=e.find((e=>e.id===t.to));return n&&i}));const a=n.map((e=>{const t=(n=e.type).includes("spouse")?"#805AD5":n.includes("handler")||n.includes("asset")?"#3182CE":n.includes("conspirator")?"#E53E3E":n.includes("colleague")||n.includes("partner")?"#38A169":n.includes("superior")||n.includes("subordinate")?"#DD6B20":n.includes("friend")?"#4299E1":n.includes("informant")||n.includes("double-agent")?"#D53F8C":n.includes("enemy")||n.includes("target")||n.includes("victim")?"#E53E3E":(n.includes("surveillance"),"#718096");var n;return{id:`e${e.from}-${e.to}`,source:e.from,target:e.to,type:"smoothstep",animated:e.type.includes("double-agent"),label:N(e.type),labelStyle:{fill:"#333",fontWeight:500,fontSize:10},labelBgStyle:{fill:"rgba(255, 255, 255, 0.75)"},labelBgPadding:[4,2],labelBgBorderRadius:2,style:{stroke:t,strokeWidth:2},markerEnd:{type:Qo.ArrowClosed,color:t,width:15,height:15}}}));u(t),p(a),t.length>0&&0===c.length&&setTimeout((()=>{j()}),50)}),[r,o,m,y,i,k,u,p,c.length,j]),(0,Je.jsxs)("div",{className:"relationship-web",children:[(0,Je.jsxs)("div",{className:"mb-6",children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Character Relationship Web"}),(0,Je.jsx)("p",{className:"text-gray-600 mb-4",children:"Explore the connections between characters. Drag nodes to rearrange the network and zoom in/out to focus on specific relationships."})]}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Group"}),(0,Je.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("all"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("all"),children:"All Groups"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("Protagonists"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("Protagonists"),children:"Protagonists"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("Fifth Columnists"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("Fifth Columnists"),children:"Fifth Columnists"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded "+("German Connection"===m?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>g("German Connection"),children:"German Connection"})]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Relationship Type"}),(0,Je.jsxs)("select",{className:"w-full p-2 border rounded",value:y,onChange:e=>v(e.target.value),children:[(0,Je.jsx)("option",{value:"all",children:"All Relationships"}),C.map((e=>(0,Je.jsx)("option",{value:e,children:N(e)},e)))]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Characters"}),(0,Je.jsx)("input",{type:"text",placeholder:"Search by name or role...",className:"w-full p-2 border rounded",value:k,onChange:e=>S(e.target.value)})]})]}),(0,Je.jsxs)("div",{className:"flex mb-4",children:[(0,Je.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded mr-2 disabled:bg-gray-300 disabled:cursor-not-allowed",onClick:j,disabled:b||0===c.length,children:b?"Applying Layout...":"Rearrange Network"}),(0,Je.jsx)("button",{className:"px-4 py-2 bg-gray-200 rounded disabled:bg-gray-100 disabled:cursor-not-allowed",onClick:P,disabled:!s||0===c.length,children:"Fit View"})]}),(0,Je.jsx)("div",{className:"border rounded overflow-hidden",style:{height:"600px"},ref:a,children:(0,Je.jsxs)(Kl,{nodes:c,edges:h,onNodesChange:d,onEdgesChange:f,onNodeClick:(e,t)=>{w(t);const i=r.find((e=>e.id===t.id));i&&n&&n(i)},onInit:e=>{l(e)},nodeTypes:Pc,connectionLineType:Xo.SmoothStep,fitView:!0,attributionPosition:"bottom-right",children:[(0,Je.jsx)(lc,{}),(0,Je.jsx)(bc,{nodeColor:e=>{var t;switch(null===(t=e.data)||void 0===t?void 0:t.group){case"Protagonists":return"#3182CE";case"Fifth Columnists":return"#E53E3E";case"German Connection":return"#D69E2E";case"Supporting Characters":return"#38A169";case"Military":return"#4A5568";case"Historical Figures":return"#805AD5";default:return"#718096"}},nodeStrokeWidth:3,maskColor:"rgba(240, 240, 240, 0.6)",style:{backgroundColor:"#f0f4f8"}}),(0,Je.jsx)(Ec,{variant:"dots",gap:12,size:1})]})}),x&&(0,Je.jsxs)("div",{className:"mt-4 p-4 border rounded bg-gray-50",children:[(0,Je.jsx)("h3",{className:"text-lg font-bold mb-2",children:x.data.label}),x.data.role&&(0,Je.jsx)("p",{className:"text-gray-600 mb-2",children:x.data.role}),(0,Je.jsxs)("div",{className:"mt-3",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm mb-1",children:"Connected Characters:"}),(0,Je.jsx)("div",{className:"space-y-2",children:h.filter((e=>e.source===x.id||e.target===x.id)).map((e=>{const t=e.source===x.id,n=t?e.target:e.source,i=c.find((e=>e.id===n));return i?(0,Je.jsxs)("div",{className:"flex items-center p-2 bg-white rounded border cursor-pointer hover:bg-blue-50",onClick:()=>E(n),children:[(0,Je.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.style.stroke}}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("div",{className:"font-medium",children:i.data.label}),(0,Je.jsx)("div",{className:"text-xs text-gray-500",children:t?`\u2192 ${e.label}`:`\u2190 ${e.label}`})]})]},e.id):null}))})]}),(0,Je.jsx)("div",{className:"mt-4",children:(0,Je.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",onClick:()=>n(r.find((e=>e.id===x.id))),children:"View Character Details"})})]}),(0,Je.jsx)("div",{className:"mt-4",children:(0,Je.jsx)(Nc,{relationshipTypes:C})}),(0,Je.jsx)("div",{className:"mt-4 text-sm text-gray-500 p-2 border-t",children:(0,Je.jsx)("p",{children:'This interactive network graph visualizes character relationships in "Stitched Up". Nodes represent characters and edges show relationships between them. Drag nodes to explore the network structure, and use the filters to focus on specific character groups or relationship types.'})})]})},Ic=(e,t)=>{const n=t.find((t=>t.id===e));return n?n.name:e},Mc=(e,t)=>{const n=t.find((t=>t.id===e));return n?n.area:""},Tc=(e,t)=>{if(!e.characters||0===e.characters.length)return"bg-gray-400";const n=e.characters.map((e=>e.characterId)),i=t.filter((e=>n.includes(e.id)));return i.some((e=>"Protagonists"===e.group))?"bg-blue-500":i.some((e=>"Fifth Columnists"===e.group))?"bg-red-500":i.some((e=>"German Connection"===e.group))?"bg-yellow-500":"bg-gray-400"},Lc=e=>{switch(e){case"Protagonists":return"bg-blue-200 text-blue-800";case"Fifth Columnists":return"bg-red-200 text-red-800";case"German Connection":return"bg-yellow-200 text-yellow-800";default:return"bg-gray-200 text-gray-800"}},zc=t=>{let{onEventSelect:n,selectedEvent:i,onCharacterSelect:r,eventsData:o,charactersData:a,locationsData:s}=t;const[l,c]=(0,e.useState)("all"),[u,d]=(0,e.useState)("all"),[h,p]=(0,e.useState)("chronological"),[f,m]=(0,e.useState)(50),g=(0,e.useRef)(null),y=(0,e.useRef)(null),v=(0,e.useRef)(null),b=o.filter((e=>{const t="all"===l||!("early"!==l||!e.date.includes("193"))||!("mid"!==l||!e.date.includes("1941")&&!e.date.includes("1942"))||!("late"!==l||!e.date.includes("1943")&&!e.date.includes("1944")),n="all"===u||!!e.characters&&e.characters.some((e=>e.characterId===u));return t&&n})),_=[...b].sort(((e,t)=>{const n=e=>{const t=e.match(/\d{4}/);return t?parseInt(t[0]):1900},i=n(e.date),r=n(t.date);if(i!==r)return i-r;const o={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12},a=e=>{for(const t in o)if(e.includes(t))return o[t];return 0};return a(e.date)-a(t.date)})),x=_.reduce(((e,t)=>{const n=t.date.match(/\d{4}/)?t.date.match(/\d{4}/)[0]:"Unknown";return e[n]||(e[n]=[]),e[n].push(t),e}),{}),w=e=>{const t=a.find((t=>t.id===e));return t?t.group:"Unknown"},k=(()=>{const e={Protagonists:[],"Fifth Columnists":[],"German Connection":[]};return b.forEach((t=>{if(!t.characters)return;const n=t.characters.map((e=>w(e.characterId))),i=(()=>{if(n.includes("Protagonists")&&n.includes("Fifth Columnists")){return t.characters.filter((e=>"Protagonists"===w(e.characterId))).map((e=>e.role||"")).some((e=>["host","operative","recruiter","surveillance"].includes(e)))?"Protagonists":"Fifth Columnists"}return n.includes("Protagonists")?"Protagonists":n.includes("Fifth Columnists")?"Fifth Columnists":n.includes("German Connection")?"German Connection":"Unknown"})();e[i]&&e[i].push(t)})),e})(),S=e=>{v.current=window.scrollY,n(e),setTimeout((()=>{y.current&&y.current.scrollIntoView({behavior:"smooth",block:"start"})}),100)},C=i&&_.findIndex((e=>e.id===i.id))>0,E=i&&_.findIndex((e=>e.id===i.id))<_.length-1;return(0,Je.jsxs)("div",{className:"timeline-container w-full overflow-hidden",children:[(0,Je.jsxs)("div",{className:"mb-6",ref:g,children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Event Timeline"}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Period"}),(0,Je.jsxs)("div",{className:"flex",children:[(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-l "+("all"===l?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>c("all"),children:"All Events"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm "+("early"===l?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>c("early"),children:"1932-1939"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm "+("mid"===l?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>c("mid"),children:"1940-1942"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-r "+("late"===l?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>c("late"),children:"1943-1944"})]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View"}),(0,Je.jsxs)("div",{className:"flex",children:[(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-l "+("chronological"===h?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>p("chronological"),children:"Chronological"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-r "+("parallel"===h?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>p("parallel"),children:"Parallel Storylines"})]})]})]}),(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Character"}),(0,Je.jsxs)("select",{className:"w-full md:w-auto p-2 border rounded",value:u,onChange:e=>d(e.target.value),children:[(0,Je.jsx)("option",{value:"all",children:"All Characters"}),(0,Je.jsx)("optgroup",{label:"Protagonists",children:a.filter((e=>"Protagonists"===e.group)).map((e=>(0,Je.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,Je.jsx)("optgroup",{label:"Fifth Columnists",children:a.filter((e=>"Fifth Columnists"===e.group)).map((e=>(0,Je.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,Je.jsx)("optgroup",{label:"German Connection",children:a.filter((e=>"German Connection"===e.group)).map((e=>(0,Je.jsx)("option",{value:e.id,children:e.name},e.id)))})]})]})]}),"chronological"===h&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsxs)("div",{className:"overflow-x-auto mb-4 relative h-40 border bg-white rounded w-full",children:[" ",(0,Je.jsxs)("div",{className:"w-max h-full max-w-[2000px]",children:[" ",(0,Je.jsxs)("div",{className:"relative h-full",children:[(0,Je.jsx)("div",{className:"absolute left-0 right-0 h-1 bg-gray-300 top-28"})," ",(0,Je.jsx)("div",{className:"flex h-full",children:_.map(((e,t)=>(0,Je.jsxs)("div",{className:"relative px-4 h-full",onClick:()=>S(e),children:[(0,Je.jsx)("div",{className:`w-3 h-3 rounded-full absolute top-28 transform -translate-y-1/2 z-10 cursor-pointer ${(null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-600 border-2 border-white":Tc(e,a)}`}),(0,Je.jsx)("div",{className:"text-xs absolute top-16 pt-6 w-16 cursor-pointer transform -rotate-45 origin-bottom-left text-center "+((null===i||void 0===i?void 0:i.id)===e.id?"font-bold":""),children:e.date})]},e.id)))})]})]})]}),(0,Je.jsx)("div",{className:"space-y-4",children:Object.entries(x).map((e=>{let[t,n]=e;return(0,Je.jsxs)("div",{className:"border-l-4 border-blue-200 pl-4",children:[(0,Je.jsx)("h3",{className:"text-lg font-bold mb-2",children:t}),(0,Je.jsxs)("div",{className:"space-y-3",children:[" ",n.map((e=>(0,Je.jsxs)("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 border-blue-300":""),onClick:()=>S(e),children:[(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.date}),(0,Je.jsx)("h3",{className:"font-bold",children:e.title}),(0,Je.jsx)("div",{className:"text-sm mt-1 truncate",children:e.description}),(0,Je.jsxs)("div",{className:"flex mt-2",children:[e.location&&(0,Je.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-gray-200 mr-2",children:Ic(e.location,s)}),e.characters&&e.characters.length>0&&(0,Je.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-gray-200",children:[e.characters.length," characters"]})]})]},e.id)))]})]},t)}))})]}),"parallel"===h&&(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Je.jsxs)("div",{className:"space-y-3",children:[" ",(0,Je.jsx)("h3",{className:"font-bold text-lg text-blue-700 border-b pb-2",children:"Protagonists"}),k.Protagonists.map((e=>(0,Je.jsxs)("div",{className:"p-3 border-l-4 border-blue-500 rounded shadow-sm cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100":""),onClick:()=>S(e),children:[(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.date}),(0,Je.jsx)("h3",{className:"font-bold",children:e.title}),(0,Je.jsx)("div",{className:"text-sm mt-1 truncate",children:e.description})]},e.id)))]}),(0,Je.jsxs)("div",{className:"space-y-3",children:[" ",(0,Je.jsx)("h3",{className:"font-bold text-lg text-red-700 border-b pb-2",children:"Fifth Columnists"}),k["Fifth Columnists"].map((e=>(0,Je.jsxs)("div",{className:"p-3 border-l-4 border-red-500 rounded shadow-sm cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-red-100":""),onClick:()=>S(e),children:[(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.date}),(0,Je.jsx)("h3",{className:"font-bold",children:e.title}),(0,Je.jsx)("div",{className:"text-sm mt-1 truncate",children:e.description})]},e.id)))]}),(0,Je.jsxs)("div",{className:"space-y-3",children:[" ",(0,Je.jsx)("h3",{className:"font-bold text-lg text-yellow-700 border-b pb-2",children:"German Connection"}),k["German Connection"].map((e=>(0,Je.jsxs)("div",{className:"p-3 border-l-4 border-yellow-500 rounded shadow-sm cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-yellow-100":""),onClick:()=>S(e),children:[(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.date}),(0,Je.jsx)("h3",{className:"font-bold",children:e.title}),(0,Je.jsx)("div",{className:"text-sm mt-1 truncate",children:e.description})]},e.id)))]})]}),i&&(0,Je.jsxs)("div",{className:"mt-8 border rounded p-6 bg-gray-50",ref:y,children:[(0,Je.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Je.jsxs)("button",{className:"flex items-center text-blue-600 hover:text-blue-800",onClick:()=>{null!==v.current?window.scrollTo({top:v.current,behavior:"smooth"}):g.current&&g.current.scrollIntoView({behavior:"smooth",block:"start"})},children:[(0,Je.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Je.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),"Back to timeline"]}),(0,Je.jsxs)("div",{className:"flex space-x-3",children:[(0,Je.jsxs)("button",{className:"flex items-center px-3 py-1 rounded "+(C?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-gray-100 text-gray-400 cursor-not-allowed"),onClick:()=>{if(!i)return;const e=_.findIndex((e=>e.id===i.id));e>0&&S(_[e-1])},disabled:!C,children:[(0,Je.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Je.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Previous Event"]}),(0,Je.jsxs)("button",{className:"flex items-center px-3 py-1 rounded "+(E?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-gray-100 text-gray-400 cursor-not-allowed"),onClick:()=>{if(!i)return;const e=_.findIndex((e=>e.id===i.id));e<_.length-1&&S(_[e+1])},disabled:!E,children:["Next Event",(0,Je.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Je.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]}),(0,Je.jsx)("h2",{className:"text-2xl font-bold",children:i.title}),(0,Je.jsx)("div",{className:"text-gray-600 mb-4",children:i.date}),(0,Je.jsx)("p",{className:"mb-4",children:i.description}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Location"}),(0,Je.jsx)("div",{className:"p-3 bg-gray-100 rounded",children:i.location?(0,Je.jsxs)("div",{children:[(0,Je.jsx)("div",{className:"font-medium",children:Ic(i.location,s)}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:Mc(i.location,s)})]}):(0,Je.jsx)("div",{children:"Multiple or unspecified locations"})}),i.significance&&(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Significance"}),(0,Je.jsx)("div",{className:"p-3 bg-gray-100 rounded",children:i.significance})]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Key Characters"}),i.characters&&i.characters.length>0?(0,Je.jsx)("div",{className:"space-y-2",children:i.characters.map(((e,t)=>{const n=a.find((t=>t.id===e.characterId));return n?(0,Je.jsxs)("div",{className:"p-2 bg-gray-100 rounded flex items-center justify-between",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("span",{className:"font-medium",children:n.name}),e.role&&(0,Je.jsx)("span",{className:"ml-2 text-xs bg-blue-100 px-1 rounded",children:e.role}),e.disguise&&(0,Je.jsxs)("span",{className:"ml-2 text-xs bg-purple-100 px-1 rounded",children:["as ",e.disguise]})]}),(0,Je.jsx)("span",{className:`text-xs px-2 py-1 rounded ${Lc(n.group)}`,children:n.group})]},t):null}))}):(0,Je.jsx)("div",{className:"p-3 bg-gray-100 rounded",children:"No character information available"})]})]}),i.keyActions&&i.keyActions.length>0&&(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Key Actions"}),(0,Je.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:i.keyActions.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),i.chapter&&(0,Je.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,Je.jsx)("span",{className:"font-medium",children:"Chapter reference:"})," ",i.chapter]})]})]})},Ac=t=>{let{onLocationSelect:n,selectedLocation:i,onEventSelect:r,locationsData:o,eventsData:a,charactersData:s}=t;const[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)("all"),[h,p]=(0,e.useState)("all"),f=Array.from(new Set(o.map((e=>e.type)))),m=Array.from(new Set(o.map((e=>e.area)))),g=o.filter((e=>{const t=e.name.toLowerCase().includes(l.toLowerCase())||e.description&&e.description.toLowerCase().includes(l.toLowerCase())||e.area&&e.area.toLowerCase().includes(l.toLowerCase()),n="all"===u||e.type===u,i="all"===h||e.area===h;return t&&n&&i})),y=e=>{const t=s.find((t=>t.id===e));return t?t.name:e},v=e=>a.filter((t=>t.location===e));return(0,Je.jsxs)("div",{className:"location-explorer",children:[(0,Je.jsxs)("div",{className:"mb-6",children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Location Explorer"}),(0,Je.jsx)("p",{className:"text-gray-600",children:'Explore the significant locations in "Stitched Up" where key events took place.'})]}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Je.jsxs)("div",{className:"md:col-span-1",children:[(0,Je.jsx)("div",{className:"mb-4",children:(0,Je.jsx)("input",{type:"text",placeholder:"Search locations...",className:"w-full p-2 border rounded",value:l,onChange:e=>c(e.target.value)})}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Type"}),(0,Je.jsxs)("select",{className:"w-full p-2 border rounded",value:u,onChange:e=>d(e.target.value),children:[(0,Je.jsx)("option",{value:"all",children:"All Types"}),f.map((e=>(0,Je.jsx)("option",{value:e,children:e},e)))]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Area"}),(0,Je.jsxs)("select",{className:"w-full p-2 border rounded",value:h,onChange:e=>p(e.target.value),children:[(0,Je.jsx)("option",{value:"all",children:"All Areas"}),m.map((e=>(0,Je.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,Je.jsx)("div",{className:"h-128 overflow-y-auto pr-2",children:g.map((e=>(0,Je.jsxs)("div",{className:"p-3 mb-3 border rounded cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 border-blue-300":""),onClick:()=>n(e),children:[(0,Je.jsx)("h3",{className:"font-bold",children:e.name}),(0,Je.jsx)("div",{className:"text-xs px-2 py-1 rounded bg-gray-200 inline-block mt-1",children:e.type}),(0,Je.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.area}),v(e.id).length>0&&(0,Je.jsxs)("div",{className:"mt-2 text-xs text-blue-600",children:[v(e.id).length," related events"]})]},e.id)))})]}),(0,Je.jsx)("div",{className:"md:col-span-2",children:i?(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"border rounded p-4 mb-4 bg-gray-100",children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold",children:i.name}),(0,Je.jsx)("div",{className:"text-gray-600",children:i.area}),(0,Je.jsx)("div",{className:"mt-2 px-2 py-1 inline-block rounded bg-gray-200 text-sm",children:i.type})]}),(0,Je.jsx)("div",{className:"border rounded mb-4 overflow-hidden",children:(0,Je.jsx)("div",{className:"h-64 bg-gray-300 flex items-center justify-center",children:(0,Je.jsxs)("p",{className:"text-gray-500 p-4 text-center",children:["Location image would be displayed here in a full implementation. This would show a period-appropriate illustration or photo of ",i.name,"."]})})}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Description"}),(0,Je.jsx)("p",{children:i.description||"No detailed description available."}),i.features&&i.features.length>0&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Key Features"}),(0,Je.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:i.features.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),i.rooms&&i.rooms.length>0&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Notable Rooms/Areas"}),(0,Je.jsx)("div",{className:"space-y-2",children:i.rooms.map(((e,t)=>(0,Je.jsxs)("div",{className:"border-l-4 border-blue-200 pl-3",children:[(0,Je.jsx)("div",{className:"font-medium",children:e.name}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.significance})]},t)))})]})]}),(0,Je.jsxs)("div",{children:[i.significance&&i.significance.length>0&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Significance"}),(0,Je.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:i.significance.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),i.proximity&&i.proximity.length>0&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Nearby Locations"}),(0,Je.jsx)("div",{className:"space-y-2",children:i.proximity.map(((e,t)=>{const i=o.find((t=>t.id===e.locationId));return i?(0,Je.jsxs)("div",{className:"p-2 border rounded hover:bg-gray-100 cursor-pointer",onClick:()=>n(i),children:[(0,Je.jsx)("div",{className:"font-medium",children:i.name}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]},t):(0,Je.jsxs)("div",{className:"p-2 border rounded",children:[(0,Je.jsx)("div",{className:"font-medium",children:e.locationId}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]},t)}))})]}),i.occupants&&i.occupants.length>0&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Occupants"}),(0,Je.jsx)("div",{className:"space-y-2",children:i.occupants.map(((e,t)=>(0,Je.jsxs)("div",{className:"p-2 border rounded",children:[(0,Je.jsx)("div",{className:"font-medium",children:y(e.characterId)}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.relationship})]},t)))})]})]})]}),v(i.id).length>0&&(0,Je.jsxs)("div",{className:"mt-6",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Key Events at This Location"}),(0,Je.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v(i.id).map((e=>(0,Je.jsxs)("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-100",onClick:()=>r(e),children:[(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.date}),(0,Je.jsx)("h4",{className:"font-bold",children:e.title}),(0,Je.jsx)("p",{className:"text-sm mt-1 line-clamp-2",children:e.description}),e.characters&&e.characters.length>0&&(0,Je.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Characters: ",e.characters.length]})]},e.id)))})]}),i.events&&i.events.length>0&&(0,Je.jsxs)("div",{className:"mt-6",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Role in Story"}),(0,Je.jsx)("div",{className:"space-y-2",children:i.events.map(((e,t)=>{const n=a.find((t=>t.id===e.eventId));return n?(0,Je.jsxs)("div",{className:"p-3 border-l-4 border-blue-300 pl-3 hover:bg-blue-50 cursor-pointer",onClick:()=>r(n),children:[(0,Je.jsxs)("div",{className:"flex justify-between",children:[(0,Je.jsx)("div",{className:"font-medium",children:n.title}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:n.date})]}),(0,Je.jsx)("div",{className:"text-sm text-blue-600",children:e.role||"Setting"})]},t):null}))})]})]}):(0,Je.jsxs)("div",{className:"flex flex-col items-center justify-center h-full border rounded p-12 text-center",children:[(0,Je.jsx)("p",{className:"text-gray-500 mb-4",children:"Select a location from the list to view details"}),(0,Je.jsx)("p",{className:"text-sm text-gray-400",children:'Locations include country houses, hotels, military facilities, and other sites central to the "Stitched Up" narrative.'})]})})]})]})};function Rc(e,t){return Object.freeze({...e,...t})}const Oc=(0,e.createContext)(null),Bc=Oc.Provider;function Dc(){const t=(0,e.useContext)(Oc);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Fc(){return Dc().map}function Hc(t){function n(n,i){const{instance:r,context:o}=t(n).current;return(0,e.useImperativeHandle)(i,(()=>r)),null==n.children?null:e.createElement(Bc,{value:o},n.children)}return(0,e.forwardRef)(n)}function Zc(t){function n(n,i){const{instance:r}=t(n).current;return(0,e.useImperativeHandle)(i,(()=>r)),null}return(0,e.forwardRef)(n)}function $c(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Wc(t,n){return null==n?function(n,i){const r=(0,e.useRef)();return r.current||(r.current=t(n,i)),r}:function(i,r){const o=(0,e.useRef)();o.current||(o.current=t(i,r));const a=(0,e.useRef)(i),{instance:s}=o.current;return(0,e.useEffect)((function(){a.current!==i&&(n(s,i,a.current),a.current=i)}),[s,i,r]),o}}function Vc(t,n){const i=(0,e.useRef)(n);(0,e.useEffect)((function(){n!==i.current&&null!=t.attributionControl&&(null!=i.current&&t.attributionControl.removeAttribution(i.current),null!=n&&t.attributionControl.addAttribution(n)),i.current=n}),[t,n])}function Uc(t,n){const i=(0,e.useRef)();(0,e.useEffect)((function(){return null!=n&&t.instance.on(n),i.current=n,function(){null!=i.current&&t.instance.off(i.current),i.current=null}}),[t,n])}function qc(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Gc(t,n){(0,e.useEffect)((function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}}),[n,t])}function Yc(e){return function(t){const n=Dc(),i=e(qc(t,n),n);return Vc(n.map,t.attribution),Uc(i.current,t.eventHandlers),Gc(i.current,n),i}}function Kc(t){return function(n){const i=Dc(),r=t(qc(n,i),i);return Uc(r.current,n.eventHandlers),Gc(r.current,i),function(t,n){const i=(0,e.useRef)();(0,e.useEffect)((function(){if(n.pathOptions!==i.current){const e=n.pathOptions??{};t.instance.setStyle(e),i.current=e}}),[t,n])}(r.current,n),r}}function Xc(t,n){const i=function(e,t){return function(n,i){const r=Dc(),o=e(qc(n,r),r);return Vc(r.map,n.attribution),Uc(o.current,n.eventHandlers),t(o.current,r,n,i),o}}(Wc(t),n);return function(t){function n(n,i){const[r,o]=(0,e.useState)(!1),{instance:a}=t(n,o).current;(0,e.useImperativeHandle)(i,(()=>a)),(0,e.useEffect)((function(){r&&a.update()}),[a,r,n.children]);const s=a._contentNode;return s?(0,no.createPortal)(n.children,s):null}return(0,e.forwardRef)(n)}(i)}function Jc(e,t){return Hc(Kc(Wc(e,t)))}var Qc=n(228),eu=n.n(Qc);const tu=Hc(Yc(Wc((function(e,t){let{position:n,...i}=e;const r=new Qc.Marker(n,i);return $c(r,Rc(t,{overlayContainer:r}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}))));const nu=Xc((function(e,t){return $c(new Qc.Tooltip(e,t.overlayContainer),t)}),(function(t,n,i,r){let{position:o}=i;(0,e.useEffect)((function(){const e=n.overlayContainer;if(null==e)return;const{instance:i}=t,a=e=>{e.tooltip===i&&(null!=o&&i.setLatLng(o),i.update(),r(!0))},s=e=>{e.tooltip===i&&r(!1)};return e.on({tooltipopen:a,tooltipclose:s}),e.bindTooltip(i),function(){e.off({tooltipopen:a,tooltipclose:s}),null!=e._map&&e.unbindTooltip()}}),[t,n,r,o])})),iu=Xc((function(e,t){return $c(new Qc.Popup(e,t.overlayContainer),t)}),(function(t,n,i,r){let{position:o}=i;(0,e.useEffect)((function(){const{instance:e}=t;function i(t){t.popup===e&&(e.update(),r(!0))}function a(t){t.popup===e&&r(!1)}return n.map.on({popupopen:i,popupclose:a}),null==n.overlayContainer?(null!=o&&e.setLatLng(o),e.openOn(n.map)):n.overlayContainer.bindPopup(e),function(){n.map.off({popupopen:i,popupclose:a}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(e)}}),[t,n,r,o])})),ru=Jc((function(e,t){let{positions:n,...i}=e;const r=new Qc.Polyline(n,i);return $c(r,Rc(t,{overlayContainer:r}))}),(function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)}));const ou=Jc((function(e,t){let{center:n,children:i,...r}=e;const o=new Qc.CircleMarker(n,r);return $c(o,Rc(t,{overlayContainer:o}))}),(function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}));function au(){return au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},au.apply(this,arguments)}function su(t,n){let{bounds:i,boundsOptions:r,center:o,children:a,className:s,id:l,placeholder:c,style:u,whenReady:d,zoom:h,...p}=t;const[f]=(0,e.useState)({className:s,id:l,style:u}),[m,g]=(0,e.useState)(null);(0,e.useImperativeHandle)(n,(()=>m?.map??null),[m]);const y=(0,e.useCallback)((e=>{if(null!==e&&null===m){const t=new Qc.Map(e,p);null!=o&&null!=h?t.setView(o,h):null!=i&&t.fitBounds(i,r),null!=d&&t.whenReady(d),g(function(e){return Object.freeze({__version:1,map:e})}(t))}}),[]);(0,e.useEffect)((()=>()=>{m?.map.remove()}),[m]);const v=m?e.createElement(Bc,{value:m},a):c??null;return e.createElement("div",au({},f,{ref:y}),v)}const lu=(0,e.forwardRef)(su);const cu=function(e,t){return Zc(Yc(Wc(e,t)))}((function(e,t){let{url:n,...i}=e;return $c(new Qc.TileLayer(n,qc(i,t)),t)}),(function(e,t,n){!function(e,t,n){const{opacity:i,zIndex:r}=t;null!=i&&i!==n.opacity&&e.setOpacity(i),null!=r&&r!==n.zIndex&&e.setZIndex(r)}(e,t,n);const{url:i}=t;null!=i&&i!==n.url&&e.setUrl(i)})),uu=(hu=function(e){return new Qc.Control.Zoom(e)},Zc((du=Wc((function(e,t){return $c(hu(e),t)})),function(t){const n=Dc(),i=du(t,n),{instance:r}=i.current,o=(0,e.useRef)(t.position),{position:a}=t;return(0,e.useEffect)((function(){return r.addTo(n.map),function(){r.remove()}}),[n.map,r]),(0,e.useEffect)((function(){null!=a&&a!==o.current&&(r.setPosition(a),o.current=a)}),[r,a]),i})));var du,hu;const pu={cynthia_house:{lat:51.4286,lon:-1.2507,label:"Cynthia's House",type:"uk"},denleigh_manor:{lat:51.3564,lon:-1.9103,label:"Denleigh Manor",type:"uk"},imperial_aggregates:{lat:51.4971,lon:-.1863,label:"Imperial Aggregates",type:"uk"},thames_house:{lat:51.4953,lon:-.1251,label:"Thames House",type:"uk"},aldworth:{lat:51.5103,lon:-1.21,label:"Aldworth",type:"uk"},ashampstead:{lat:51.4628,lon:-1.1942,label:"Ashampstead",type:"uk"},yattendon:{lat:51.453,lon:-1.189,label:"Yattendon",type:"uk"},scilly_isles:{lat:49.9359,lon:-6.3228,label:"Scilly Isles",type:"uk"},churn_ranges:{lat:51.5731,lon:-1.2748,label:"Churn Rifle Ranges",type:"uk"},crawford_place:{lat:51.5201,lon:-.1653,label:"Crawford Place Flat",type:"uk"},bucklebury_camp:{lat:51.4201,lon:-1.2651,label:"American Camp",type:"uk"},felicity_cottage:{lat:51.5153,lon:-1.215,label:"Felicity's Cottage",type:"uk"},national_gallery:{lat:51.5085,lon:-.1281,label:"National Gallery",type:"uk"},blenheim_palace:{lat:51.8417,lon:-1.3614,label:"Blenheim Palace",type:"uk"},the_ritz:{lat:51.5071,lon:-.1444,label:"The Ritz Hotel",type:"uk"},long_boat_inn:{lat:50.121,lon:-5.5409,label:"Long Boat Inn",type:"uk"},queens_head_pub:{lat:51.4242,lon:-1.2401,label:"Queen's Head Pub",type:"uk"},reading_hotel:{lat:51.4582,lon:-.9731,label:"Great Western Hotel",type:"uk"},aldworth_village:{lat:51.5103,lon:-1.21,label:"Aldworth Village",type:"uk"},croydon_airport:{lat:51.357,lon:-.1208,label:"Croydon Airport",type:"uk"},fishguard_harbor:{lat:52.0102,lon:-4.985,label:"Fishguard Harbor",type:"uk"},goring_station:{lat:51.521,lon:-1.1401,label:"Goring & Streatley Station",type:"uk"},box_tunnel:{lat:51.4184,lon:-2.2156,label:"Box Tunnel",type:"uk"},admiral_duncan:{lat:51.514,lon:-.134,label:"Admiral Duncan Pub",type:"uk"},martins_bank:{lat:51.513,lon:-.0873,label:"Martins Bank",type:"uk"},penzance:{lat:50.1186,lon:-5.5371,label:"Penzance",type:"uk"},london:{lat:51.5074,lon:-.1278,label:"London",type:"uk"},hotel_adlon:{lat:52.5163,lon:13.3797,label:"Hotel Adlon",type:"german"},tempelhof_airport:{lat:52.473,lon:13.4016,label:"Tempelhof Airport",type:"german"},rosslare:{lat:52.2507,lon:-6.3396,label:"Rosslare Harbor",type:"irish"}},fu={german_infiltration:{locationId:"scilly_isles"},cynthia_recruitment:{locationId:"denleigh_manor"},berlin_trip:{locationId:"hotel_adlon"},hitler_sighting:{locationId:"hotel_adlon"},first_party:{locationId:"cynthia_house"},second_party:{locationId:"cynthia_house"},edwards_arrival:{locationId:"scilly_isles"},train_journey:{path:[{lat:50.121,lon:-5.5409,label:"Penzance"},{lat:51.4184,lon:-2.2156,label:"Box Tunnel"},{lat:51.521,lon:-1.1401,label:"Goring"},{lat:51.4582,lon:-.9731,label:"Reading"},{lat:51.5014,lon:-.1419,label:"London"}]},edwards_murder:{locationId:"crawford_place"},rifle_testing:{locationId:"churn_ranges"},davies_ireland_escape:{path:[{lat:51.453,lon:-1.189,label:"Yattendon"},{lat:52.0102,lon:-4.985,label:"Fishguard"},{lat:52.2507,lon:-6.3396,label:"Rosslare"}]},house_occupation:{locationId:"cynthia_house"},assassination_attempt:{locationId:"cynthia_house"},louise_death:{locationId:"aldworth_village"},tradecraft_training:{locationId:"cynthia_house"},secure_line_installation:{locationId:"cynthia_house"},edwards_discovery:{locationId:"crawford_place"},intelligence_meeting:{locationId:"national_gallery"},intelligence_meeting_blenheim:{locationId:"blenheim_palace"},ritz_meeting:{locationId:"the_ritz"},cottage_surveillance:{locationId:"felicity_cottage"},final_planning:{locationId:"queens_head_pub"},cynthia_diversion_call:{locationId:"cynthia_house"},summerhouse_hiding:{locationId:"cynthia_house"},berlin_departure:{locationId:"croydon_airport"},suitcase_opening:{locationId:"cynthia_house"},bank_account_investigation:{locationId:"martins_bank"},thames_house_meeting:{locationId:"thames_house"},shell_casing_identification:{locationId:"thames_house"},edwards_penzance_stay:{locationId:"long_boat_inn"},davies_reading_stay:{locationId:"reading_hotel"},investigation_meeting:{locationId:"admiral_duncan"},montgomery_visit:{locationId:"bucklebury_camp"}},mu={cynthia_childreth:{locationId:"cynthia_house"},richard_childreth:{locationId:"cynthia_house"},bill_laurie:{locationId:"thames_house"},hannah_park:{locationId:"thames_house"},jane_maclean:{locationId:"thames_house"},edwin:{locationId:"cynthia_house"},george_bennet:{locationId:"thames_house"},peter_snowden:{locationId:"ashampstead"},marjorie_snowden:{locationId:"ashampstead"},bob_harrington:{locationId:"aldworth"},louise_harrington:{locationId:"aldworth"},john_davies:{locationId:"yattendon"},megan_davies:{locationId:"yattendon"},mary:{locationId:"cynthia_house"},alison:{locationId:"cynthia_house"},felicity:{locationId:"felicity_cottage"},gladys:{locationId:"aldworth_village"},montgomery:{locationId:"bucklebury_camp"},edwards:{locationId:"crawford_place"},gerda_stammer:{locationId:"hotel_adlon"},franz_stammer:{locationId:"hotel_adlon"},lena_weber:{locationId:"hotel_adlon"},helmut_schnitter:{locationId:"scilly_isles"},jim:{locationId:"thames_house"},bert:{locationId:"ashampstead"},mike:{locationId:"crawford_place"},keith:{locationId:"yattendon"},amy_wyndholme:{locationId:"denleigh_manor"},horace_wyndholme:{locationId:"denleigh_manor"},patrick:{locationId:"denleigh_manor"},sheila:{locationId:"denleigh_manor"},oswald_mosley:{locationId:"london"},montys_adc:{locationId:"bucklebury_camp"},jack:{locationId:"aldworth_village"},paul_holness:{locationId:"london"},don:{locationId:"london"},inspector_williams:{locationId:"fishguard_harbor"},jacobs:{locationId:"thames_house"},chief_inspector:{locationId:"london"}},gu={german_rifle:{locationId:"cynthia_house"},mysterious_suitcase:{locationId:"cynthia_house"},cheque_book:{locationId:"fishguard_harbor"},secure_phone_line:{locationId:"cynthia_house"},shell_casing:{locationId:"churn_ranges"},montys_beret:{locationId:"bucklebury_camp"},blockade_car:{locationId:"cynthia_house"},auburn_wig:{locationId:"cynthia_house"},edwards_cheques:{locationId:"fishguard_harbor"},fg42_rifle:{locationId:"churn_ranges"},secure_briefcase:{locationId:"thames_house"},berts_painting:{locationId:"ashampstead"}};delete eu().Icon.Default.prototype._getIconUrl,eu().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const yu=e=>eu().divIcon({html:`<div style="background-color: ${e}; width: 10px; height: 10px; border-radius: 50%; border: 2px solid white;"></div>`,className:"custom-div-icon",iconSize:[14,14],iconAnchor:[7,7]}),vu=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return eu().divIcon({html:`<div style="background-color: ${e?"#9f1239":"#e53e3e"}; width: 12px; height: 12px; border: 2px solid white;"></div>`,className:"custom-div-icon",iconSize:[16,16],iconAnchor:[8,8]})},bu=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eu().divIcon({html:`\n    <div style="\n      width: 0; \n      height: 0; \n      border-left: 8px solid transparent;\n      border-right: 8px solid transparent;\n      border-bottom: 14px solid ${e};\n      transform: ${t?"scale(1.3)":"scale(1)"};\n    "></div>\n  `,className:"custom-div-icon",iconSize:[16,14],iconAnchor:[8,7]})},_u=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return eu().divIcon({html:`\n    <div style="\n      width: 12px;\n      height: 12px;\n      border-radius: 50%;\n      background-color: #805ad5;\n      border: 2px solid white;\n      transform: ${e?"scale(1.3)":"scale(1)"};\n    "></div>\n  `,className:"custom-div-icon",iconSize:[16,16],iconAnchor:[8,8]})},xu=t=>{let{center:n,zoom:i,bounds:r,selectedItem:o,currentZoomRef:a}=t;const s=Fc();return(0,e.useEffect)((()=>{const e=()=>{a.current=s.getZoom()};return s.on("zoomend",e),r&&s.fitBounds(r),()=>{s.off("zoomend",e)}}),[s,r,a]),null},wu=t=>{let{onLocationSelect:n,onEventSelect:i,onCharacterSelect:r,onObjectSelect:o,locationsData:a,eventsData:s,charactersData:l,objectsData:c}=t;const[u,d]=(0,e.useState)("all"),[h,p]=(0,e.useState)("all"),[f,m]=(0,e.useState)("uk"),[g,y]=(0,e.useState)(null),[v,b]=(0,e.useState)(null),[_,x]=(0,e.useState)(null),[w,k]=(0,e.useState)([52.3555,-1.1743]),[S,C]=(0,e.useState)(6),[E,N]=(0,e.useState)(null),[P,j]=(0,e.useState)(!1),I=(0,e.useRef)(S),M=(0,e.useRef)(null);(0,e.useEffect)((()=>{}),[f]);const T=()=>{const t=Fc();return(0,e.useEffect)((()=>{M.current=t,I.current=t.getZoom()}),[t]),null},L=s.filter((e=>"all"===h||(!("early"!==h||!e.date.includes("193"))||(!("mid"!==h||!e.date.includes("194")||e.date.includes("1943"))||!("late"!==h||!e.date.includes("1943")&&!e.date.includes("1944"))))));(0,e.useEffect)((()=>{if(!g||!v)return x(null),void j(!1);let e=null;switch(v){case"location":e=a.find((e=>e.id===g));break;case"event":e=s.find((e=>e.id===g));break;case"character":e=l.find((e=>e.id===g));break;case"object":e=c.find((e=>e.id===g))}x(e),j(!!e)}),[g,v,a,s,l,c]);const z=e=>{const t=s.find((t=>t.id===e));if(t){y(e),b("event"),x(t),j(!0);const n=fu[e];if(n&&n.locationId){const e=pu[n.locationId];e&&M.current&&M.current.panTo([e.lat,e.lon])}}},A=(e,t)=>{if(!e)return y(null),b(null),x(null),void j(!1);y(e),b(t);let n=null,i=null;switch(t){case"location":{const t=pu[e];t&&(n=[t.lat,t.lon]),i=a.find((t=>t.id===e));break}case"event":{const t=fu[e];if(t)if(t.locationId){const e=pu[t.locationId];e&&(n=[e.lat,e.lon])}else if(t.path&&t.path.length>0){const e=Math.floor(t.path.length/2);n=[t.path[e].lat,t.path[e].lon]}i=s.find((t=>t.id===e));break}case"character":{const t=mu[e];if(t&&t.locationId){const e=pu[t.locationId];e&&(n=[e.lat,e.lon])}i=l.find((t=>t.id===e));break}case"object":{const t=gu[e];if(t&&t.locationId){const e=pu[t.locationId];e&&(n=[e.lat,e.lon])}i=c.find((t=>t.id===e));break}}if(x(i),j(!!i),n&&M.current){M.current.getSize().x}},R=()=>{j(!1)},O=()=>{if(v&&_)switch(v){case"location":n(_);break;case"event":i(_);break;case"character":r&&r(_);break;case"object":o&&o(_)}};return(0,Je.jsxs)("div",{className:"map-container",children:[(0,Je.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Map View"}),(0,Je.jsxs)("div",{className:"flex",children:[(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-l "+("uk"===f?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>{m("uk"),M.current&&M.current.setView([54,-4],6)},children:"UK"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-r "+("europe"===f?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>{m("europe"),M.current&&M.current.setView([50,4],5)},children:"Europe"})]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display"}),(0,Je.jsxs)("div",{className:"flex flex-wrap",children:[(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-l "+("all"===u?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>d("all"),children:"All"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm "+("locations"===u?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>d("locations"),children:"Locations"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm "+("events"===u?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>d("events"),children:"Events"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm "+("characters"===u?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>d("characters"),children:"Characters"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-r "+("objects"===u?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>d("objects"),children:"Objects"})]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Period"}),(0,Je.jsxs)("div",{className:"flex",children:[(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-l "+("all"===h?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>p("all"),children:"All"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm "+("early"===h?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>p("early"),children:"1932-1939"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm "+("mid"===h?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>p("mid"),children:"1940-1942"}),(0,Je.jsx)("button",{className:"px-3 py-1 text-sm rounded-r "+("late"===h?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>p("late"),children:"1943-1944"})]})]})]}),(0,Je.jsxs)("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,Je.jsx)("select",{className:"w-full p-2 border rounded",value:"location"===v?g:"",onChange:e=>A(e.target.value,"location"),title:"location"===v&&_?_.name:"",children:[{value:"",label:"Select a location"},...a.filter((e=>pu[e.id])).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>({value:e.id,label:e.name})))].map((e=>(0,Je.jsx)("option",{value:e.value,children:e.label},`loc-${e.value}`)))})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event"}),(0,Je.jsx)("select",{className:"w-full p-2 border rounded",value:"event"===v?g:"",onChange:e=>A(e.target.value,"event"),title:"event"===v&&_?_.title:"",children:[{value:"",label:"Select an event"},...L.sort(((e,t)=>e.title.localeCompare(t.title))).map((e=>({value:e.id,label:e.title})))].map((e=>(0,Je.jsx)("option",{value:e.value,children:e.label},`event-${e.value}`)))})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Character"}),(0,Je.jsx)("select",{className:"w-full p-2 border rounded",value:"character"===v?g:"",onChange:e=>A(e.target.value,"character"),title:"character"===v&&_?_.name:"",children:[{value:"",label:"Select a character"},...l.filter((e=>{const t=mu[e.id];return t&&t.locationId&&pu[t.locationId]})).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>({value:e.id,label:e.name})))].map((e=>(0,Je.jsx)("option",{value:e.value,children:e.label},`char-${e.value}`)))})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Object"}),(0,Je.jsx)("select",{className:"w-full p-2 border rounded",value:"object"===v?g:"",onChange:e=>A(e.target.value,"object"),title:"object"===v&&_?_.name:"",children:[{value:"",label:"Select an object"},...c.filter((e=>{const t=gu[e.id];return t&&t.locationId&&pu[t.locationId]})).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>({value:e.id,label:e.name})))].map((e=>(0,Je.jsx)("option",{value:e.value,children:e.label},`obj-${e.value}`)))})]})]}),(0,Je.jsxs)("div",{className:"flex flex-col md:flex-row border rounded overflow-hidden",style:{height:"600px"},children:[(0,Je.jsx)("div",{className:(P?"w-full md:w-2/3":"w-full")+" h-full transition-all duration-300",children:(0,Je.jsxs)(lu,{center:w,zoom:S,style:{height:"100%",width:"100%"},zoomControl:!1,children:[(0,Je.jsx)(cu,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,Je.jsx)(T,{}),(0,Je.jsx)(uu,{position:"topright"}),(0,Je.jsx)(xu,{center:w,zoom:S,bounds:E,selectedItem:g,currentZoomRef:I}),"locations"!==u&&"all"!==u?null:Object.entries(pu).map((e=>{let[t,n]=e;if("uk"===f&&"german"===n.type||"europe"===f&&"irish"===n.type)return null;const i=g===t&&"location"===v,r=(e=>{switch(e){case"german":return"#d69e2e";case"irish":return"#38a169";default:return"#3182ce"}})(n.type);return(0,Je.jsxs)(tu,{position:[n.lat,n.lon],icon:yu(r),eventHandlers:{click:()=>(e=>{const t=a.find((t=>t.id===e));if(t){y(e),b("location"),x(t),j(!0);const n=pu[e];n&&M.current&&M.current.panTo([n.lat,n.lon])}})(t)},children:[(0,Je.jsx)(nu,{children:n.label}),i&&(0,Je.jsx)(iu,{children:(0,Je.jsx)("strong",{children:n.label})})]},`loc-${t}`)})),"events"!==u&&"all"!==u?null:L.map((e=>{const t=fu[e.id];if(!t)return null;let n;if(t.locationId){const e=pu[t.locationId];if(!e)return null;if("uk"===f&&"german"===e.type||"europe"===f&&"irish"===e.type)return null;n=[e.lat,e.lon]}else{if(!(t.path&&t.path.length>0))return null;{const e=Math.floor(t.path.length/2);n=[t.path[e].lat,t.path[e].lon]}}const i=g===e.id&&"event"===v;return(0,Je.jsxs)(tu,{position:n,icon:vu(i),eventHandlers:{click:()=>z(e.id)},children:[(0,Je.jsx)(nu,{children:e.title}),i&&(0,Je.jsx)(iu,{children:(0,Je.jsxs)("div",{children:[(0,Je.jsx)("strong",{children:e.title}),(0,Je.jsx)("div",{children:e.date})]})})]},`event-${e.id}`)})),"events"!==u&&"all"!==u?null:L.map((t=>{const n=fu[t.id];if(!n||!n.path||n.path.length<2)return null;const i=n.path.map((e=>[e.lat,e.lon])),r=g===t.id&&"event"===v;return(0,Je.jsxs)(e.Fragment,{children:[(0,Je.jsx)(ru,{positions:i,color:r?"#9f1239":"#e53e3e",weight:r?3:2,dashArray:"5,5",eventHandlers:{click:()=>z(t.id)}}),n.path.map(((e,n)=>(0,Je.jsx)(ou,{center:[e.lat,e.lon],radius:3,color:"#ffffff",fillColor:r?"#9f1239":"#e53e3e",fillOpacity:1,weight:1,children:(0,Je.jsx)(nu,{children:e.label||`Point ${n+1}`})},`path-point-${t.id}-${n}`)))]},`path-${t.id}`)})),"characters"!==u&&"all"!==u?null:Object.entries(mu).map((e=>{let[t,n]=e;if(!n.locationId)return null;const i=pu[n.locationId];if(!i)return null;if("uk"===f&&"german"===i.type||"europe"===f&&"irish"===i.type)return null;const r=l.find((e=>e.id===t));if(!r)return null;const o=g===t&&"character"===v,a=(e=>{const t=l.find((t=>t.id===e));if(!t)return"#718096";switch(t.group){case"Protagonists":return"#3182ce";case"Fifth Columnists":return"#e53e3e";case"German Connection":return"#d69e2e";default:return"#718096"}})(t);return(0,Je.jsxs)(tu,{position:[i.lat,i.lon],icon:bu(a,o),eventHandlers:{click:()=>(e=>{const t=l.find((t=>t.id===e));if(t){y(e),b("character"),x(t),j(!0);const n=mu[e];if(n&&n.locationId){const e=pu[n.locationId];e&&M.current&&M.current.panTo([e.lat,e.lon])}}})(t)},children:[(0,Je.jsx)(nu,{children:r.name}),o&&(0,Je.jsx)(iu,{children:(0,Je.jsxs)("div",{children:[(0,Je.jsx)("strong",{children:r.name}),(0,Je.jsx)("div",{children:r.role})]})})]},`char-${t}`)})),"objects"!==u&&"all"!==u?null:Object.entries(gu).map((e=>{let[t,n]=e;if(!n.locationId)return null;const i=pu[n.locationId];if(!i)return null;if("uk"===f&&"german"===i.type||"europe"===f&&"irish"===i.type)return null;const r=c.find((e=>e.id===t));if(!r)return null;const o=g===t&&"object"===v;return(0,Je.jsxs)(tu,{position:[i.lat,i.lon],icon:_u(o),eventHandlers:{click:()=>(e=>{const t=c.find((t=>t.id===e));if(t){y(e),b("object"),x(t),j(!0);const n=gu[e];if(n&&n.locationId){const e=pu[n.locationId];e&&M.current&&M.current.panTo([e.lat,e.lon])}}})(t)},children:[(0,Je.jsx)(nu,{children:r.name}),o&&(0,Je.jsx)(iu,{children:(0,Je.jsxs)("div",{children:[(0,Je.jsx)("strong",{children:r.name}),(0,Je.jsx)("div",{children:r.type})]})})]},`obj-${t}`)}))]})}),P&&(0,Je.jsx)("div",{className:"w-full md:w-1/3 h-full border-l overflow-hidden bg-white",children:(0,Je.jsxs)("div",{className:"bg-white p-4 rounded shadow-md h-full overflow-y-auto",children:[(0,Je.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Je.jsx)("h3",{className:"text-xl font-bold",children:(()=>{switch(v){case"location":case"character":case"object":return _.name;case"event":return _.title;default:return""}})()}),(0,Je.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:R,children:(0,Je.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Je.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Je.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(()=>{switch(v){case"location":return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsxs)("div",{className:"text-gray-600 mb-2",children:[_.area," \u2022 ",_.type]}),_.description&&(0,Je.jsx)("p",{className:"mb-2",children:_.description}),_.significance&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Significance:"}),(0,Je.jsx)("ul",{className:"list-disc pl-4 text-sm",children:_.significance.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),_.features&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Features:"}),(0,Je.jsx)("ul",{className:"list-disc pl-4 text-sm",children:_.features.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]})]});case"event":return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("div",{className:"text-gray-600 mb-2",children:_.date}),(0,Je.jsx)("p",{className:"mb-2",children:_.description}),_.keyActions&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Key Actions:"}),(0,Je.jsx)("ul",{className:"list-disc pl-4 text-sm",children:_.keyActions.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),_.characters&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Characters Involved:"}),(0,Je.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[_.characters.slice(0,3).map(((e,t)=>{const n=l.find((t=>t.id===e.characterId));return n?(0,Je.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:[n.name,e.role&&` (${e.role})`]},t):null})),_.characters.length>3&&(0,Je.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:["+ ",_.characters.length-3," more"]})]})]})]});case"character":return(0,Je.jsxs)(Je.Fragment,{children:[_.role&&(0,Je.jsx)("div",{className:"text-gray-600 mb-2",children:_.role}),_.group&&(0,Je.jsx)("div",{className:"mb-2",children:(0,Je.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs "+("Protagonists"===_.group?"bg-blue-100 text-blue-800":"Fifth Columnists"===_.group?"bg-red-100 text-red-800":"German Connection"===_.group?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:_.group})}),_.background&&(0,Je.jsx)("p",{className:"mb-2",children:_.background}),_.personality&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Personality:"}),(0,Je.jsx)("p",{className:"text-sm",children:_.personality})]}),_.traits&&_.traits.length>0&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Traits:"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:_.traits.map(((e,t)=>(0,Je.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:e},t)))})]})]});case"object":return(0,Je.jsxs)(Je.Fragment,{children:[_.type&&(0,Je.jsx)("div",{className:"text-gray-600 mb-2",children:_.type}),(0,Je.jsx)("p",{className:"mb-2",children:_.description}),_.significance&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Significance:"}),(0,Je.jsxs)("ul",{className:"list-disc pl-4 text-sm",children:[_.significance.slice(0,2).map(((e,t)=>(0,Je.jsx)("li",{children:e},t))),_.significance.length>2&&(0,Je.jsxs)("li",{children:["+ ",_.significance.length-2," more points"]})]})]}),_.possessors&&(0,Je.jsxs)("div",{className:"mb-2",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Possessors:"}),(0,Je.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[_.possessors.slice(0,2).map(((e,t)=>{const n=l.find((t=>t.id===e.characterId));return n?(0,Je.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:[n.name," (",e.period,")"]},t):null})),_.possessors.length>2&&(0,Je.jsxs)("span",{className:"inline-block px-2 py-1 bg-gray-100 rounded text-xs",children:["+ ",_.possessors.length-2," more"]})]})]})]});default:return null}})(),(0,Je.jsx)("div",{className:"mt-4",children:(0,Je.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",onClick:O,children:"View Full Details"})})]})})]}),(0,Je.jsxs)("div",{className:"mt-4 p-4 border rounded bg-white",children:[(0,Je.jsx)("h3",{className:"text-sm font-bold mb-2",children:"Legend"}),(0,Je.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-blue-500"}),(0,Je.jsx)("span",{className:"text-xs",children:"UK Locations"})]}),(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-yellow-500"}),(0,Je.jsx)("span",{className:"text-xs",children:"German Locations"})]}),(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-green-500"}),(0,Je.jsx)("span",{className:"text-xs",children:"Irish Locations"})]}),(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2 bg-red-500"}),(0,Je.jsx)("span",{className:"text-xs",children:"Events"})]}),(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2",style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid blue",marginLeft:"4px"}}),(0,Je.jsx)("span",{className:"text-xs",children:"Protagonists"})]}),(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2",style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid #e53e3e",marginLeft:"4px"}}),(0,Je.jsx)("span",{className:"text-xs",children:"Fifth Columnists"})]}),(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2",style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid #d69e2e",marginLeft:"4px"}}),(0,Je.jsx)("span",{className:"text-xs",children:"German Connection"})]}),(0,Je.jsxs)("div",{className:"flex items-center",children:[(0,Je.jsx)("div",{className:"w-4 h-4 mr-2 rounded-full bg-purple-500"}),(0,Je.jsx)("span",{className:"text-xs",children:"Objects"})]})]})]}),(0,Je.jsx)("div",{className:"mt-4 text-sm text-gray-500 p-2 border-t",children:(0,Je.jsx)("p",{children:'Interactive map showing key locations, events, characters, and objects from "Stitched Up". Click on markers for details or use the dropdowns to select specific items. The detail panel will show a summary with the option to view full details.'})})]})},ku=t=>{let{onEventSelect:n,onCharacterSelect:i,eventsData:r,charactersData:o,chaptersData:a,mysteryElements:s,themeElements:l}=t;const[c,u]=(0,e.useState)("chapters"),[d,h]=(0,e.useState)("full"),[p,f]=(0,e.useState)(null),m=e=>{const t=o.find((t=>t.id===e));return t?t.name:e},g=e=>{const t=r.find((t=>t.id===e));return t?t.title:e},y=e=>{const t=o.find((t=>t.id===e));t&&i(t)},v=e=>{const t=r.find((t=>t.id===e));t&&n(t)};return(0,Je.jsxs)("div",{className:"plot-navigator",style:{width:"100%",maxWidth:"100%"},children:[(0,Je.jsxs)("div",{className:"mb-6",children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Plot Navigator"}),(0,Je.jsx)("p",{className:"text-gray-600",children:'Explore the narrative structure, mysteries, and themes of "Stitched Up" to enhance your understanding of the novel.'})]}),(0,Je.jsxs)("div",{className:"flex mb-4",children:[(0,Je.jsx)("button",{className:"px-4 py-2 cursor-pointer focus:outline-none rounded mr-2 "+("chapters"===c?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>u("chapters"),children:"Chapter Progression"}),(0,Je.jsx)("button",{className:"px-4 py-2 cursor-pointer focus:outline-none rounded mr-2 "+("mysteries"===c?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>u("mysteries"),children:"Mystery Elements"}),(0,Je.jsx)("button",{className:"px-4 py-2 cursor-pointer focus:outline-none rounded "+("themes"===c?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"),onClick:()=>u("themes"),children:"Theme Analysis"})]}),"chapters"===c&&(0,Je.jsxs)(Je.Fragment,{children:["progressive"===d&&(0,Je.jsx)("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-sm",children:(0,Je.jsxs)("p",{children:[(0,Je.jsx)("strong",{children:"Progressive Reader Mode:"})," Chapters are revealed as if you were reading the novel for the first time. Expand each chapter to continue the story."]})}),(0,Je.jsxs)("div",{className:"flex mb-4",children:[(0,Je.jsx)("button",{className:"px-4 py-2 text-sm rounded-l "+("progressive"===d?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>h("progressive"),children:"Reader's View"}),(0,Je.jsx)("button",{className:"px-4 py-2 text-sm rounded-r "+("full"===d?"bg-blue-500 text-white":"bg-gray-200"),onClick:()=>h("full"),children:"Full Overview"})]}),(0,Je.jsx)("div",{className:"space-y-4",children:a.map(((e,t)=>{if("progressive"===d&&p&&t>a.findIndex((e=>e.id===p)))return null;const n=p===e.id,i=e.events.map((e=>r.find((t=>t.id===e)))).filter(Boolean);return(0,Je.jsxs)("div",{className:"border-l-4 pl-4 "+(n?"border-blue-500":"border-gray-300"),children:[(0,Je.jsxs)("div",{className:"font-bold cursor-pointer "+(n?"text-blue-600":""),onClick:()=>f(n?null:e.id),children:[e.title,(0,Je.jsx)("span",{className:"text-sm text-gray-600 ml-2",children:e.timeframe})]}),!n&&(0,Je.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),n&&(0,Je.jsxs)("div",{className:"mt-2 pl-2",children:[(0,Je.jsx)("p",{className:"mb-3",children:e.description}),i.length>0&&(0,Je.jsxs)("div",{className:"mb-4",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm",children:"Key Events:"}),(0,Je.jsx)("div",{className:"space-y-2 mt-2",children:i.map((e=>(0,Je.jsxs)("div",{className:"p-2 border rounded cursor-pointer hover:bg-gray-100",onClick:()=>v(e.id),children:[(0,Je.jsx)("div",{className:"font-medium",children:e.title}),(0,Je.jsx)("div",{className:"text-sm text-gray-600",children:e.date}),(0,Je.jsx)("p",{className:"text-sm mt-1",children:e.description})]},e.id)))})]}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.filter((t=>t.firstMentioned===e.id||t.revealedInChapter===e.id)).length>0&&(0,Je.jsxs)("div",{className:"p-3 border rounded bg-pink-50",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Mystery Elements Introduced:"}),(0,Je.jsx)("div",{className:"space-y-2",children:s.filter((t=>t.firstMentioned===e.id||t.revealedInChapter===e.id)).map((t=>(0,Je.jsxs)("div",{className:"text-sm",children:[(0,Je.jsx)("div",{className:"font-medium",children:t.title}),t.revealedInChapter===e.id?(0,Je.jsx)("div",{className:"text-green-600",children:"Revealed in this chapter"}):(0,Je.jsx)("div",{className:"text-blue-600",children:"First mentioned, revealed later"})]},t.id)))})]}),(0,Je.jsxs)("div",{className:"p-3 border rounded",children:[(0,Je.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Character Focus:"}),(0,Je.jsx)("div",{className:"space-y-1",children:i.flatMap((e=>{var t;return(null===(t=e.characters)||void 0===t?void 0:t.map((t=>({...t,event:e.id}))))||[]})).filter(((e,t,n)=>t===n.findIndex((t=>t.characterId===e.characterId)))).slice(0,5).map((e=>{const t=o.find((t=>t.id===e.characterId));return t?(0,Je.jsxs)("div",{className:"flex items-center cursor-pointer hover:underline",onClick:()=>y(t.id),children:[(0,Je.jsx)("span",{className:"text-sm",children:t.name}),e.role&&(0,Je.jsx)("span",{className:"text-xs bg-gray-200 rounded px-1 ml-2",children:e.role})]},t.id):null}))})]})]}),t<a.length-1&&"progressive"===d&&(0,Je.jsxs)("button",{className:"mt-4 px-3 py-1 bg-blue-500 text-white text-sm rounded",onClick:()=>f(a[t+1].id),children:["Continue to ",a[t+1].title.split(":")[0]]})]})]},e.id)}))})]}),"mysteries"===c&&(0,Je.jsxs)("div",{className:"space-y-4",children:["progressive"===d&&(0,Je.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-500 text-sm",children:[(0,Je.jsxs)("p",{children:[(0,Je.jsx)("strong",{children:"Progressive Reader Mode:"})," Mystery elements are unlocked as they're revealed in the story. Select a chapter to see which mysteries have been revealed."]}),(0,Je.jsxs)("div",{className:"mt-2",children:[(0,Je.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Current Chapter:"}),(0,Je.jsxs)("select",{className:"w-full md:w-auto p-2 border rounded",value:p||"",onChange:e=>f(e.target.value||null),children:[(0,Je.jsx)("option",{value:"",children:"Select a chapter"}),a.map((e=>(0,Je.jsx)("option",{value:e.id,children:e.title},e.id)))]})]})]}),(0,Je.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((e=>{const t="full"===d||p&&((e,t)=>"full"===d||a.findIndex((e=>e.id===t))>=a.findIndex((t=>t.id===e.revealedInChapter)))(e,p);return(0,Je.jsxs)("div",{className:"border p-3 rounded "+(t?"twist"===e.status?"bg-purple-50":"major_plot"===e.status?"bg-blue-50":"bg-green-50":"bg-gray-100"),children:[(0,Je.jsx)("h4",{className:"font-bold",children:e.title}),(0,Je.jsxs)("p",{className:"text-sm",children:["First introduced: Chapter ",a.findIndex((t=>t.id===e.firstMentioned))+1]}),t?(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("p",{className:"mt-1",children:e.description}),e.relatedCharacters&&e.relatedCharacters.length>0&&(0,Je.jsxs)("div",{className:"mt-2",children:[(0,Je.jsx)("div",{className:"text-sm font-medium",children:"Related Characters:"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.relatedCharacters.map((e=>(0,Je.jsx)("button",{className:"text-xs px-2 py-1 bg-white border rounded hover:bg-gray-100",onClick:()=>y(e),children:m(e)},e)))})]}),e.relatedEvents&&e.relatedEvents.length>0&&(0,Je.jsxs)("div",{className:"mt-2",children:[(0,Je.jsx)("div",{className:"text-sm font-medium",children:"Key Events:"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.relatedEvents.map((e=>(0,Je.jsx)("button",{className:"text-xs px-2 py-1 bg-white border rounded hover:bg-gray-100",onClick:()=>v(e),children:g(e)},e)))})]}),(0,Je.jsx)("div",{className:"mt-2 flex",children:(0,Je.jsx)("span",{className:"text-xs px-2 py-1 rounded "+("twist"===e.status?"bg-purple-200 text-purple-800":"major_plot"===e.status?"bg-blue-200 text-blue-800":"bg-green-200 text-green-800"),children:"twist"===e.status?"Major Plot Twist":"major_plot"===e.status?"Central Plot Element":"Revealed Mystery"})})]}):(0,Je.jsx)("div",{className:"mt-2 flex items-center",children:(0,Je.jsxs)("span",{className:"bg-gray-200 text-sm px-2 py-1 rounded",children:["Locked until Chapter ",a.findIndex((t=>t.id===e.revealedInChapter))+1]})})]},e.id)}))})]}),"themes"===c&&(0,Je.jsxs)("div",{className:"space-y-6",children:[(0,Je.jsx)("p",{className:"text-gray-600",children:'Explore the major themes and motifs running through "Stitched Up" and how they connect to characters and events in the novel.'}),l.map((e=>(0,Je.jsxs)("div",{className:"border rounded p-4",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg text-blue-700",children:e.title}),(0,Je.jsx)("p",{className:"mt-1",children:e.description}),(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("div",{className:"text-sm font-medium",children:"Key Examples:"}),(0,Je.jsx)("ul",{className:"list-disc pl-5 text-sm mt-1",children:e.examples.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),e.relatedCharacters&&e.relatedCharacters.length>0&&(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("div",{className:"text-sm font-medium",children:"Key Characters:"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.relatedCharacters.map((e=>(0,Je.jsx)("button",{className:"text-sm px-2 py-1 bg-gray-100 rounded hover:bg-gray-200",onClick:()=>y(e),children:m(e)},e)))})]})]},e.id))),(0,Je.jsxs)("div",{className:"border rounded p-4 bg-gray-50 mt-6",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Literary Analysis"}),(0,Je.jsx)("p",{children:"\"Stitched Up\" uses the spy thriller genre to explore broader themes of loyalty, deception, class division, and the moral compromises made during wartime. The novel's structure mirrors the complexity of intelligence work itself, with information revealed gradually and perspectives shifting as characters' true motivations come to light."}),(0,Je.jsx)("p",{className:"mt-2",children:'The book\'s title operates on multiple levels, referring both to the knitting motif throughout the story and the way characters find themselves "stitched up" (betrayed or trapped) by circumstances and the actions of others.'})]})]})]})},Su=e=>e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),Cu=t=>{let{onObjectSelect:n,selectedObject:i,objectsData:r,charactersData:o,eventsData:a}=t;const[s,l]=(0,e.useState)(""),c=r.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase()))),u=e=>{const t=o.find((t=>t.id===e));return t?t.name:e};return(0,Je.jsxs)("div",{className:"object-gallery",children:[(0,Je.jsxs)("div",{className:"mb-6",children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Key Objects Gallery"}),(0,Je.jsx)("p",{className:"text-gray-600",children:"Explore the significant objects that play important roles in the novel's plot."})]}),(0,Je.jsx)("div",{className:"mb-4",children:(0,Je.jsx)("input",{type:"text",placeholder:"Search objects...",className:"w-full p-2 border rounded",value:s,onChange:e=>l(e.target.value)})}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Je.jsx)("div",{className:"md:col-span-1 h-128 overflow-y-auto pr-4",children:c.map((e=>(0,Je.jsxs)("div",{className:"p-3 mb-3 border rounded cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 border-blue-300":""),onClick:()=>n(e),children:[(0,Je.jsx)("h3",{className:"font-bold",children:e.name}),(0,Je.jsx)("div",{className:"text-xs px-2 py-1 rounded bg-gray-200 inline-block mt-1",children:e.type}),(0,Je.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description})]},e.id)))}),(0,Je.jsx)("div",{className:"md:col-span-2",children:i?(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"border rounded p-4 bg-gray-100 mb-4",children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold",children:i.name}),(0,Je.jsx)("div",{className:"text-sm px-2 py-1 rounded bg-gray-200 inline-block mt-1",children:i.type})]}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("div",{className:"border rounded mb-4 overflow-hidden",children:(0,Je.jsx)("div",{className:"h-64 bg-gray-300 flex items-center justify-center",children:(0,Je.jsx)("p",{className:"text-gray-500 p-4 text-center",children:i.image_description||"No image available"})})}),(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Description"}),(0,Je.jsx)("p",{children:i.description}),i.physical_details&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Physical Details"}),(0,Je.jsx)("p",{children:i.physical_details})]}),i.technical_details&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Technical Details"}),(0,Je.jsx)("ul",{className:"list-disc pl-5",children:i.technical_details.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]})]}),(0,Je.jsxs)("div",{children:[i.significance&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Significance"}),(0,Je.jsx)("ul",{className:"list-disc pl-5 mb-4",children:i.significance.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),i.history&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"History"}),(0,Je.jsxs)("div",{className:"relative",children:[(0,Je.jsx)("div",{className:"absolute top-0 bottom-0 left-4 w-1 bg-gray-300"}),(0,Je.jsx)("div",{className:"space-y-4",children:i.history.map(((e,t)=>(0,Je.jsxs)("div",{className:"relative flex pl-7",children:[(0,Je.jsx)("div",{className:"absolute left-0 w-3 h-3 bg-blue-500 rounded-full mt-1.5"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h4",{className:"font-medium",children:e.event}),(0,Je.jsx)("p",{className:"text-gray-600 text-sm",children:e.details})]})]},t)))})]})]}),i.possessors&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Possessors"}),(0,Je.jsx)("div",{className:"space-y-2",children:i.possessors.map(((e,t)=>{return(0,Je.jsxs)("div",{className:"p-2 border rounded",children:[(0,Je.jsx)("div",{className:"font-medium",children:u(e.characterId)}),(0,Je.jsxs)("div",{className:"text-sm text-gray-600",children:["Period: ",(n=e.period,n.charAt(0).toUpperCase()+n.slice(1).replace(/_/g," ")),e.alias&&(0,Je.jsxs)("span",{className:"ml-2",children:["(",e.alias,")"]})]})]},t);var n}))})]}),i.appearances&&(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2 mt-4",children:"Key Appearances"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-2",children:i.appearances.map(((e,t)=>(0,Je.jsx)("div",{className:"px-3 py-1 bg-gray-200 rounded-full text-sm",children:Su(e)},t)))})]})]})]}),i.details&&(0,Je.jsxs)("div",{className:"mt-6",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Additional Details"}),(0,Je.jsx)("ul",{className:"list-disc pl-5",children:i.details.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]})]}):(0,Je.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 border rounded p-12",children:(0,Je.jsx)("p",{children:"Select an object from the gallery to view details"})})})]})]})},Eu=t=>{let{spycraftEntries:n}=t;const[i,r]=(0,e.useState)(null),[o,a]=(0,e.useState)(""),s=n.filter((e=>e.title.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase()))),l=e=>{r(e)};return(0,Je.jsxs)("div",{className:"spycraft-encyclopedia",children:[(0,Je.jsxs)("div",{className:"mb-6",children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Spy Tradecraft Encyclopedia"}),(0,Je.jsx)("p",{className:"text-gray-600",children:'Explore the spy techniques and methods used in "Stitched Up" and learn about their historical context in WWII espionage.'})]}),(0,Je.jsx)("div",{className:"mb-4",children:(0,Je.jsx)("input",{type:"text",placeholder:"Search spy techniques...",className:"w-full p-2 border rounded",value:o,onChange:e=>a(e.target.value)})}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Je.jsxs)("div",{className:"md:col-span-1 h-128 overflow-y-auto border rounded p-4",children:[(0,Je.jsx)("h3",{className:"font-bold mb-3",children:"Techniques"}),(0,Je.jsx)("div",{className:"space-y-2",children:s.map((e=>(0,Je.jsxs)("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-100 "+((null===i||void 0===i?void 0:i.id)===e.id?"bg-blue-100 border-blue-300":""),onClick:()=>l(e),children:[(0,Je.jsx)("h4",{className:"font-bold",children:e.title}),(0,Je.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.description})]},e.id)))})]}),(0,Je.jsx)("div",{className:"md:col-span-2 border rounded p-6",children:i?(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h2",{className:"text-2xl font-bold",children:i.title}),(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Description"}),(0,Je.jsx)("p",{children:i.description})]}),(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:"Historical Context"}),(0,Je.jsx)("p",{children:i.historicalContext})]}),(0,Je.jsxs)("div",{className:"mt-4",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg border-b pb-2 mb-2",children:'Examples in "Stitched Up"'}),(0,Je.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:i.examples.map(((e,t)=>(0,Je.jsx)("li",{children:e},t)))})]}),(0,Je.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded",children:[(0,Je.jsx)("h3",{className:"font-bold mb-2",children:"Related Items"}),(0,Je.jsx)("div",{className:"flex flex-wrap gap-2",children:n.filter((e=>e.id!==i.id)).slice(0,3).map((e=>(0,Je.jsx)("button",{className:"px-3 py-1 text-sm bg-white border rounded hover:bg-gray-50",onClick:()=>l(e),children:e.title},e.id)))})]}),(0,Je.jsxs)("div",{className:"mt-6",children:[(0,Je.jsx)("h3",{className:"font-bold text-lg",children:"Historical Note"}),(0,Je.jsx)("div",{className:"p-4 border-l-4 border-yellow-500 bg-yellow-50 mt-2",children:(0,Je.jsx)("p",{className:"text-sm italic",children:'The intelligence tactics portrayed in "Stitched Up" are based on real methods used during WWII. The British intelligence services were particularly adept at counter-espionage and the running of double agents.'})})]})]}):(0,Je.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:(0,Je.jsx)("p",{children:"Select a spy technique from the list to view details"})})})]})]})},Nu=[{id:"cynthia_childreth",name:"Lady Cynthia Childreth",title:"Lady",group:"Protagonists",role:"Main protagonist, undercover operative",background:'Wealthy aristocrat from Bucklebury, inheritor of a large country estate. Educated abroad and speaks French and German fluently despite claiming otherwise to Nazi sympathizers. Unconventional aristocrat who shuns many typical social events, preferring to live "in the shadows" despite her position.',personality:"Independent, observant, quick-thinking, adaptable. Not comfortable with class expectations. Has a natural talent for intelligence work despite initial reluctance.",traits:["Multilingual","Well-traveled","Independent thinker","Adaptable","Observant"],relations:[{characterId:"richard_childreth",type:"spouse",description:'Marriage of convenience where both have had "dalliances"'},{characterId:"amy_wyndholme",type:"friend",description:"Old school friend who facilitates her recruitment"},{characterId:"bill_laurie",type:"handler",description:"Intelligence handler who respects her abilities"},{characterId:"mary",type:"employee_friend",description:"Secretary, confidante, and ally throughout operations"},{characterId:"peter_snowden",type:"adversary",description:"Nazi sympathizer she must monitor"},{characterId:"louise_harrington",type:"complex",description:"Initially an adversary, later revealed as ally"}],development:[{phase:"Beginning",description:"Socialite with unconventional views, recruited at Denleigh Manor"},{phase:"Middle",description:"Reluctant intelligence asset, hosting parties for Nazi sympathizers while collecting information"},{phase:"Crisis",description:"Held captive in her home during assassination attempt, maintaining composure under pressure"},{phase:"End",description:"Effective operative who played crucial role in foiling assassination plot, honored with OBE"}],fate:'Receives OBE for "services to war work" in recognition of her intelligence contributions',key_scenes:["denleigh_recruitment","berlin_trip","first_party","second_party","assassination_attempt"]},{id:"richard_childreth",name:"Richard Childreth",group:"Protagonists",role:"Cynthia's husband, banker, supporting operative",background:'Self-made financier who worked his way to top position through "hard graft and determination." Served in Royal Berkshires during WWI, arriving just in time for Passchendaele in 1917.',personality:"Practical, professional, supportive of Cynthia. More comfortable with straightforward business matters than espionage intrigue.",traits:["Financially astute","Loyal","Pragmatic","Veteran of WWI"],relations:[{characterId:"cynthia_childreth",type:"spouse",description:"Marriage of convenience that functions well professionally"},{characterId:"bill_laurie",type:"handler",description:"Operational contact for banking aspects of mission"}],development:[{phase:"Beginning",description:"Banker drawn into intelligence work through Cynthia"},{phase:"Middle",description:"Creates bank account for Nazi operations to track financial movements"},{phase:"End",description:"Continues supporting Cynthia through final operation"}],key_scenes:["berlin_trip","bank_meeting","assassination_attempt"]},{id:"bill_laurie",name:"Wing Commander William Laurie",group:"Protagonists",role:"Intelligence officer, Cynthia's handler",background:"Former RFC/RAF pilot injured in WWI over the Somme. After recovery, was seconded to intelligence work rather than returning to flying duty. Rose to rank of Wing Commander (later Group Captain).",personality:"Strategic, cautious, intelligent. Expert at planning long-term intelligence operations and managing assets.",traits:["Military background","Strategic thinker","Patient","Forward-planning"],relations:[{characterId:"cynthia_childreth",type:"asset",description:"Recruits and handles Cynthia, respects her abilities"},{characterId:"hannah_park",type:"colleague",description:"Works closely with Hannah on operations"},{characterId:"jane_maclean",type:"colleague",description:"Works closely with Jane on operations"},{characterId:"edwin",type:"subordinate",description:'Edwin is Bill\'s "minder" and operational support'},{characterId:"george_bennet",type:"colleague",description:"Collaborates with Special Branch on cross-department operations"},{characterId:"louise_harrington",type:"asset",description:"Secret informant within the fifth columnist group"}],aliases:["Mr. Newton (at Denleigh Manor)"],key_scenes:["denleigh_recruitment","operation_planning","assassination_prevention"]},{id:"hannah_park",name:"Hannah Park",group:"Protagonists",role:"Intelligence agent",background:"Former Section Controller in WAACs until they disbanded in 1921. Subsequently recruited to intelligence work.",personality:"Bold, unconventional, adaptable. Master of disguise who can completely transform her appearance.",traits:["Master of disguise","Provocative","Adaptable","Quick-thinking"],relations:[{characterId:"bill_laurie",type:"colleague",description:"Works under Bill's direction on operations"},{characterId:"jane_maclean",type:"partner",description:"Close working partnership, often operate together"}],aliases:["Miss Gilchrist (at Denleigh, deliberately provocative with monocle and masculine attire)","Blonde society lady (at the Ritz)"],key_scenes:["denleigh_recruitment","ritz_meeting","final_operation"]},{id:"louise_harrington",name:"Louise Harrington",group:"Fifth Columnists",role:"Fifth columnist who becomes double agent",background:"University educated at Girton College, linguistics graduate. Expert marksman from university shooting club. Initially believed in National Socialism but became disillusioned with growing extremism.",personality:"Cunning, adaptable, morally complex. Began as true believer but developed doubts about Nazi methods.",traits:["Knitter","Intelligent","Morally complex","Excellent shot","Multilingual"],relations:[{characterId:"bob_harrington",type:"spouse",description:"Marriage increasingly strained by her changing views"},{characterId:"bill_laurie",type:"handler",description:"Secret informant relationship after disillusionment"},{characterId:"gerda_stammer",type:"associate",description:"Connection to German Nazi supporters"}],development:[{phase:"Beginning",description:"Committed Nazi sympathizer and leader of UK network"},{phase:"Middle",description:"Growing disillusionment with Nazi violence and extremism"},{phase:"Turn",description:"Secret cooperation with British intelligence"},{phase:"End",description:"Prevents assassination attempt, fully revealed as double agent"}],aliases:["Grey-haired lady on train"],fate:"Killed in suspicious gas explosion after events, likely murdered by remaining Nazi sympathizers",key_scenes:["denleigh_manor","berlin_trip","train_journey","rifle_practice","assassination_prevention"]},{id:"bob_harrington",name:"Bob Harrington",group:"Fifth Columnists",role:"Fifth columnist, trained marksman",background:'Medical orderly in WWI, seconded for "special duties"',personality:"Determined, obsessive about weapons",traits:["Meticulous","Fanatical"],fate:"Shot in hand, arrested and imprisoned"},{id:"john_davies",name:"Sir John Davies",title:"Sir",group:"Fifth Columnists",role:"Fifth columnist, pro-Nazi sympathizer",background:"Welsh landowner",personality:"Arrogant, commanding",traits:["Authoritative","Wealthy landowner"],fate:"Shot in arm, arrested and imprisoned"},{id:"megan_davies",name:"Lady Megan Davies",title:"Lady",group:"Fifth Columnists",role:"Fifth columnist, most fanatical of the group",background:"Daughter of a Welsh rector",personality:"Appears mousey but is extremely dedicated to the cause",traits:["Deceptively meek appearance","Fanatically devoted to Nazi cause"],fate:"Escaped to Ireland"},{id:"peter_snowden",name:"Colonel Peter Snowden",title:"Colonel (claimed), actually Major",group:"Fifth Columnists",role:"Fifth columnist, pro-Nazi sympathizer",fate:"Escaped to Ireland"},{id:"marjorie_snowden",name:"Marjorie Snowden",group:"Fifth Columnists",role:"Fifth columnist, pro-Nazi sympathizer",fate:"Escaped to Ireland"},{id:"gerda_stammer",name:"Gerda Stammer",group:"German Connection",role:"German Nazi sympathizer",traits:["Enthusiastic Hitler supporter"]},{id:"mary",name:"Mary",group:"Protagonists",role:"Cynthia's secretary and confidante"},{id:"amy_wyndholme",name:"Amy Wyndholme",group:"Supporting Characters",role:"Cynthia's old school friend, facilitates recruitment"},{id:"jane_maclean",name:"Jane Maclean",group:"Protagonists",role:"Intelligence agent"},{id:"george_bennet",name:"George Bennet",group:"Protagonists",role:"Special Branch officer"},{id:"edwin",name:"Edwin",group:"Protagonists",role:'Bill\'s "minder" and operational support'},{id:"franz_stammer",name:"Franz Stammer",group:"German Connection",role:"Works at the Reichsbank"},{id:"lena_weber",name:"Lena Weber",group:"German Connection",role:"Original member of the German pro-Nazi group"},{id:"edwards",name:"T.G. Edwards",group:"German Connection",role:"German agent",fate:"Murdered in London flat"},{id:"jim",name:"Jim",group:"Supporting Characters",role:"George's colleague at Special Branch"},{id:"montgomery",name:"Lieutenant General Bernard Montgomery",title:"Lieutenant General",group:"Military",role:"Target of assassination plot",background:"Senior British Army officer, commander of the Eighth Army in North Africa and Italy. Known for his victory at El Alamein and distinctive beret with two badges.",personality:"Confident, meticulous, sometimes arrogant. Known for boosting troop morale through personal visits.",traits:["Strategic","Charismatic","Methodical","Recognizable"],significance:"Primary target of the assassination plot. His death was intended to disrupt Allied invasion planning.",key_scenes:["montgomery_visit","assassination_attempt"]},{id:"gladys",name:"Gladys",group:"Supporting Characters",role:"Village postmistress and inadvertent intelligence asset",background:"Long-time resident and postmistress in Cynthia's village. Knows everyone and observes everything.",personality:"Observant, gossipy but reliable, loyal to the community",traits:["Vigilant","Knowledgeable about local affairs","Trusted"],relations:[{characterId:"cynthia_childreth",type:"village_contact",description:"Trusted local who provides information about strangers in the village"}],significance:"Provides crucial intelligence about unknown visitors and watchers in the village",key_scenes:["village_surveillance"]},{id:"alison",name:"Alison",group:"Protagonists",role:"Intelligence agent",background:"MI5 operative specializing in surveillance and disguise",personality:"Adaptable, quick-thinking, resourceful",traits:["Master of disguise","Observant","Resilient"],relations:[{characterId:"bill_laurie",type:"subordinate",description:"Works under Bill's direction"}],aliases:["Sarah (to Cynthia)","Rambler (on train)"],key_scenes:["train_journey","house_protection"]},{id:"felicity",name:"Felicity",group:"Protagonists",role:"Bill's secretary who becomes field operative",background:"Office worker who transitions to field operations",personality:"Resourceful, adaptable, enthusiastic about field work",traits:["Observant","Diligent","Versatile"],aliases:["Writer (in Aldworth)"],key_scenes:["cottage_surveillance"]},{id:"don",name:"Don",group:"Protagonists",role:"Intelligence operative who trains Cynthia",background:"Experienced agent specializing in tradecraft",personality:"Professional, direct, methodical",traits:["Experienced operative","Good teacher","Practical"],key_scenes:["tradecraft_training"]},{id:"jack",name:"Jack",group:"Fifth Columnists",role:"Shopkeeper in Aldworth working with Nazi sympathizers",background:"Local shopkeeper and postmaster secretly supporting fifth columnists",personality:"Outwardly friendly, inwardly scheming",traits:["Deceptive","Observant","Connected"],relations:[{characterId:"louise_harrington",type:"co-conspirator",description:"Provides local intelligence and assistance to Louise"}],key_scenes:["cottage_surveillance","house_occupation"]},{id:"keith",name:"Keith",group:"Protagonists",role:"Intelligence operative and artist cover",background:"Agent who assumes cover as artist for surveillance",personality:"Observant, detail-oriented, patient",traits:["Artistic","Discreet"],key_scenes:["surveillance_operation","final_operation"]},{id:"bert",name:"Bert",group:"Protagonists",role:"Intelligence operative who discovers Edwards' body",background:"Special Branch officer with artistic talent",personality:"Resourceful, observant, resilient",traits:["Artistic","Adaptable"],key_scenes:["edwards_discovery","surveillance_operation"]},{id:"mike",name:"Mike",group:"Protagonists",role:"Intelligence operative",background:"Special Branch officer",personality:"Analytical, thorough",traits:["Detail-oriented","Methodical"],key_scenes:["surveillance_operation","final_operation"]},{id:"patrick",name:"Patrick",group:"Supporting Characters",role:"Butler at Denleigh Manor",background:"Professional butler serving the Wyndholmes",personality:"Formal, discreet",traits:["Professional","Observant"]},{id:"sheila",name:"Sheila",group:"Supporting Characters",role:"Maid at Denleigh Manor",background:"Household staff",personality:"Attentive, proper",traits:["Efficient","Proper"]},{id:"horace_wyndholme",name:"Horace Wyndholme",group:"Supporting Characters",role:"Amy's husband, works for Foreign Office",background:"Amy's husband who actually works in intelligence",traits:["Connected","Intelligence officer"]},{id:"oswald_mosley",name:"Sir Oswald Mosley",title:"Sir",group:"Historical Figures",role:"Leader of British Union of Fascists",background:"Former Member of Parliament who founded the British Union of Fascists in 1932",personality:"Charismatic, authoritarian, ambitious",traits:["Oratorical","Fascist","Ambitious"],key_scenes:["second_party"]},{id:"helmut_schnitter",name:"Helmut Schnitter",group:"German Connection",role:"German agent in preface",background:"Originally from Hamburg, infiltrates UK via Scilly Isles",traits:["Determined","Disciplined"],key_scenes:["german_infiltration"]},{id:"montys_adc",name:"Montgomery's ADC",group:"Military",role:"Montgomery's aide-de-camp, liaison with intelligence team",background:"Military officer serving as Montgomery's personal assistant",traits:["Efficient","Discreet","Cooperative"],significance:'Coordinates security arrangements with Bill, arranges "three Montgomerys" decoy',key_scenes:["intelligence_meeting","montgomery_visit"]},{id:"inspector_williams",name:"Inspector Williams",group:"Supporting Characters",role:"Police inspector in Pembrokeshire investigating Davies",background:"Local police officer who assists with tracking Davies' escape to Ireland",traits:["Thorough","Cooperative"],key_scenes:["davies_ireland_investigation"]},{id:"paul_holness",name:"Paul Holness",group:"Supporting Characters",role:"Publishing company owner acting as intelligence intermediary",background:"Former RAF colleague of Bill's who runs publishing company",personality:"Reliable, discreet, supportive of intelligence operations",traits:["Trustworthy","Efficient"],relations:[{characterId:"bill_laurie",type:"former_colleague",description:"Former RAF colleague who assists with intelligence operations"},{characterId:"felicity",type:"cover_provider",description:"Provides publishing cover for Felicity's reports"}],key_scenes:["felicity_reports_handling"]},{id:"jacobs",name:"Jacobs",group:"Supporting Characters",role:"Intelligence service armorer",background:"Weapons expert who identifies the 7.92mm shell casing",traits:["Knowledgeable","Technical"],key_scenes:["shell_casing_identification"]},{id:"ken",name:"Ken",group:"Protagonists",role:"Intelligence operative stationed at vehicle during final operation",traits:["Reliable","Alert"],key_scenes:["final_operation"]},{id:"chief_inspector",name:"Chief Inspector (St. Johns)",group:"Supporting Characters",role:"Police officer initially handling Edwards murder case",personality:"Professional but territorial about jurisdiction",traits:["Professional","By-the-book"],key_scenes:["edwards_murder_investigation"]}],Pu=[{id:"cynthia_house",name:"Cynthia's House",area:"Bucklebury, Berkshire",type:"Country house",features:["Large Georgian country estate","Extensive gardens with flower beds and summerhouse","Tower/studio room originally used by Cynthia's mother for painting, with 360\xb0 views","Multiple entrances including front door, back door, conservatory, and cellar entrance","Cellar with external entrance used for storing wine and plants in winter","Flat roof accessible from tower studio"],significance:["Cynthia's childhood home and permanent residence","Site of two parties gathering Nazi sympathizers for intelligence collection","Location of attempted assassination of Montgomery","Strategic vantage point with view of Bucklebury Common and American camp"],description:"Isolated country house with tower providing view of Bucklebury Common. Surrounded by trees but with clear sight lines in key directions. Multiple entrances and large grounds make it both useful for intelligence gathering and vulnerable to infiltration.",events:[{eventId:"first_party",role:"setting"},{eventId:"second_party",role:"setting"},{eventId:"assassination_attempt",role:"critical_location"}],occupants:[{characterId:"cynthia_childreth",relationship:"owner"},{characterId:"richard_childreth",relationship:"resident"},{characterId:"mary",relationship:"secretary_resident"}],rooms:[{name:"Studio Tower",significance:"Vantage point used for assassination attempt, 360\xb0 views"},{name:"Library/Office",significance:"Where Cynthia conducts business and where suitcase was stored"},{name:"Cellar",significance:"Alternative entrance used during final operation"},{name:"Conservatory",significance:"Used for entertaining during parties"}]},{id:"denleigh_manor",name:"Denleigh Manor",area:"Wiltshire",type:"Country house",features:["Imposing Georgian architecture","Large dining room with highly polished walnut table","Extensive gardens and grounds","Tennis courts and croquet lawn"],significance:["Where Cynthia is recruited for intelligence work","First meeting place of main characters","Gathering point for Nazi sympathizers","Beginning of the operation against fifth columnists"],description:"Elegant country estate owned by Lady Amelia Wyndholme, Cynthia's old school friend. Setting for weekend gatherings of the social elite, including those with Nazi sympathies.",owner:"Amy and Horace Wyndholme",events:[{eventId:"cynthia_recruitment",role:"setting"}],occupants:[{characterId:"amy_wyndholme",relationship:"owner"},{characterId:"horace_wyndholme",relationship:"owner"}]},{id:"hotel_adlon",name:"Hotel Adlon",area:"Berlin, Germany",type:"Luxury hotel",features:["Japanese garden in lobby with bronze water-lily fountain","Bar and restaurant","Marble columns","Multiple lounges and function rooms","Located near Brandenburg Gate"],significance:["Where Richard and Cynthia meet German Nazi sympathizers","Where they briefly see Hitler","Base of operations during Berlin mission","Gateway to German high society"],description:"Opulent, historical hotel built in 1907 in the government quarter near Brandenburg Gate. Frequented by diplomats, wealthy travelers, and Nazi officials. Notable for its luxury and prestige in 1930s Berlin.",events:[{eventId:"berlin_trip",role:"setting"},{eventId:"hitler_sighting",role:"setting"}],proximity:[{locationId:"british_embassy",description:"Next door to hotel"},{locationId:"french_embassy",description:"Directly opposite on Pariser Platz"},{locationId:"reich_chancellery",description:"Short distance away"}]},{id:"churn_ranges",name:"Churn Rifle Ranges",area:"Berkshire Downs",type:"Military facility",features:["Outdoor shooting range with target lines","Basic security consisting of chain-link fence and padlock","Limited supervision","Accessible via dirt track off main road"],significance:["Where the assassins tested the German sniper rifle","Location where 7.92mm shell casing was found","Evidence connecting conspirators to assassination plot"],description:"Army rifle range with poor security, originally a private facility commandeered by British Army. Used mainly on Wednesdays by cadets from local public schools, otherwise lightly used.",events:[{eventId:"rifle_testing",role:"setting"}],accessibility:"Easily accessible by foot from railway at Churn Halt station."},{id:"bucklebury_camp",name:"American Transport Division Camp",area:"Bucklebury Common, Berkshire",type:"Military camp",features:["Temporary military installations","Vehicle depot","Concrete loading areas constructed by American troops","Camouflaged from air observation","Multiple access points"],significance:["Target location for Montgomery's inspection","Planned assassination site","Located near Cynthia's house providing vantage point"],description:"American military camp established on Bucklebury Common, visible from Cynthia's tower. Despite camouflage from air, activities clearly visible from higher ground nearby.",events:[{eventId:"montgomery_visit",role:"setting"}],security:"Basic checkpoint security with portable barrier across access road, but otherwise open terrain."},{id:"scilly_isles",name:"Scilly Isles",area:"Cornwall",type:"Island",significance:["Entry point for German agents","Weakly defended coastal area"],description:"Remote island archipelago off the southwest coast of England."},{id:"crawford_place",name:"Crawford Place Flat",area:"London",type:"Apartment",significance:["Where Edwards was murdered"],description:"Small flat in London where the German agent Edwards was staying."},{id:"felicity_cottage",name:"Felicity's Cottage",area:"Aldworth, Berkshire",type:"Surveillance post",features:["Small cottage with view of village square","Basic amenities (no electricity or gas)","Wood-burning stove","Large bow window for observation"],significance:["Surveillance post for watching Harringtons","Cover location for intelligence operations"],description:"Small, basic cottage rented as surveillance post to observe the Harringtons. Positioned with good view of village activities.",events:[{eventId:"cottage_surveillance",role:"setting"}],occupants:[{characterId:"felicity",relationship:"temporary_resident"}]},{id:"national_gallery",name:"National Gallery",area:"London",type:"Meeting place",features:["Public art gallery","Meeting rooms off main areas","Dame Myra Hess concerts during wartime","Multiple entrances and exits"],significance:["Secure meeting place for intelligence team","Public venue allowing inconspicuous meetings"],description:"Art gallery used as meeting place for intelligence operations. The lunchtime concerts provided cover for meetings.",events:[{eventId:"intelligence_meeting",role:"setting"}]},{id:"blenheim_palace",name:"Blenheim Palace",area:"Woodstock, Oxfordshire",type:"Intelligence headquarters",features:["Historic palace","MI5 wartime location","Secluded and secure grounds"],significance:["Wartime headquarters for MI5 operations","Location of intelligence meeting between George and Bill"],description:"Historic palace serving as MI5 headquarters during part of the war. Location of meeting between George Bennet and Bill Laurie.",events:[{eventId:"intelligence_meeting_blenheim",role:"setting"}]},{id:"the_ritz",name:"The Ritz Hotel",area:"London",type:"Meeting place",features:["Luxury hotel","Palm Court for afternoon tea","Public yet exclusive space"],significance:["Location of meeting between Cynthia and Hannah (disguised)"],description:"Prestigious London hotel used for intelligence meeting between Cynthia and disguised Hannah.",events:[{eventId:"ritz_meeting",role:"setting"}]},{id:"long_boat_inn",name:"Long Boat Inn",area:"Penzance, Cornwall",type:"Accommodation",features:["Inn located opposite Penzance station","Frequented by travelers"],significance:["Where Edwards stays after arriving from Scilly Isles","Where he pays with the distinctive cheque"],description:"Inn near Penzance station where Edwards stays overnight before taking the train to London.",events:[{eventId:"edwards_penzance_stay",role:"setting"}]},{id:"queens_head_pub",name:"The Queen's Head Pub",area:"Near Bucklebury, Berkshire",type:"Meeting place",features:["Country pub","Private meeting space"],significance:["Meeting place for final operation planning"],description:"Country pub where Bill, George and team meet to plan final operation.",events:[{eventId:"final_planning",role:"setting"}]},{id:"reading_hotel",name:"Great Western Hotel",area:"Reading, Berkshire",type:"Accommodation",features:["Hotel opposite Reading station","Sandy colored building"],significance:["Where Davies/Young stays when visiting the area","Where Alison conducts surveillance"],description:"Hotel in Reading where Davies (as Young) stays overnight and where Alison conducts surveillance.",events:[{eventId:"davies_reading_stay",role:"setting"}]},{id:"aldworth_village",name:"Aldworth Village",area:"Berkshire",type:"Village",features:["Small country village","Bell pub","Village shop/post office","Church"],significance:["Home of the Harringtons","Site of surveillance operation","Where Louise dies in gas explosion"],description:"Small Berkshire village where the Harringtons live and where surveillance operations are conducted.",events:[{eventId:"cottage_surveillance",role:"setting"},{eventId:"louise_death",role:"setting"}]},{id:"thames_house",name:"Thames House",area:"London, Millbank",type:"Intelligence headquarters",features:["Former MI5 headquarters","South Block, top floor"],significance:["Meeting location for intelligence team"],description:"Former MI5 headquarters on Millbank, used for meetings between George and Bill.",events:[{eventId:"thames_house_meeting",role:"setting"}]},{id:"croydon_airport",name:"Croydon Airport",area:"London",type:"Transportation hub",features:["First airport with air traffic control","World's only airport hotel on-site","Terminal with wooden benches and multi-paned glass doors","Central hexagonal structure with clocks showing times in various countries"],significance:["Departure point for Richard and Cynthia's Berlin trip","Entry/exit point for international travel","Connection between UK and continental operations"],description:"Modern airport south of London, departure point for flights to Europe including Cynthia and Richard's mission to Berlin.",events:[{eventId:"berlin_departure",role:"setting"}]},{id:"tempelhof_airport",name:"Tempelhof Airport",area:"Berlin, Germany",type:"Transportation hub",features:["First airport with underground railway","Imposing architecture","Customs and immigration control"],significance:["Arrival point in Berlin for Richard and Cynthia","First exposure to German efficiency and control"],description:"Berlin's main airport where Richard and Cynthia first arrive in Germany, met by their driver.",events:[{eventId:"berlin_arrival",role:"setting"}]},{id:"fishguard_harbor",name:"Fishguard Harbor",area:"Pembrokeshire, Wales",type:"Ferry terminal",features:["Harbor facilities","Ferry connections to Ireland","Booking office where Edwards' cheque was used"],significance:["Escape route for Davies and Megan to Ireland","Location where Edwards' cheque book was used"],description:"Welsh ferry terminal where Davies and Megan escaped to Ireland, paying with Edwards' cheque.",events:[{eventId:"davies_ireland_escape",role:"setting"}]},{id:"goring_station",name:"Goring & Streatley Station",area:"Berkshire",type:"Railway station",features:["Small country railway station","Platform where Louise alighted from train"],significance:["Where Louise (disguised as elderly woman) exited train with switched case","Critical transfer point in assassination weapon smuggling"],description:"Railway station where Louise Harrington (disguised as elderly woman) alighted from the train with the switched suitcase.",events:[{eventId:"train_journey",role:"setting"}]},{id:"box_tunnel",name:"Box Tunnel",area:"Wiltshire/Somerset",type:"Railway tunnel",features:["1.8 mile long railway tunnel","Complete darkness during passage"],significance:["Location where suitcase switch occurred during train journey","Critical moment in smuggling operation"],description:"Long railway tunnel where the suitcase switch between Edwards, Davies and Louise took place in darkness.",events:[{eventId:"train_journey",role:"critical_location"}]},{id:"admiral_duncan",name:"Admiral Duncan Pub",area:"Soho, London",type:"Meeting place",features:["Small pub in Soho","Public yet discreet meeting location"],significance:["Meeting place for Bill and George","Location for strategy discussions"],description:"Small London pub where Bill and George meet to discuss the investigation.",events:[{eventId:"investigation_meeting",role:"setting"}]},{id:"martins_bank",name:"Martins Bank",area:"Lombard Street, London",type:"Financial institution",features:["Bank at 68 Lombard Street","Location of Edwards account","Grasshopper logo and Liver Bird emblem on cheques"],significance:["Source of Edwards' cheque book","Financial connection between German intelligence and UK operations"],description:"London bank where the T.G. Edwards account was established for German intelligence operations.",events:[{eventId:"bank_account_investigation",role:"setting"}]}],ju=[{id:"german_infiltration",title:"German Infiltration via Scilly Isles",date:"Summer 1943",description:"Helmut Schnitter arrives via U-boat at Scilly Isles, posing as a visitor. MI5 receives intelligence about German infiltration attempts.",location:"scilly_isles",characters:[{characterId:"helmut_schnitter",role:"agent"}],significance:"Establishes vulnerability of UK coast and German infiltration methods",chapter:"Preface",keyActions:["U-boat delivery of German agent","Agent traveling to mainland via Scillonian steamship","No documentation checks required for travel"]},{id:"cynthia_recruitment",title:"Cynthia's Recruitment",date:"May 1932",description:"Cynthia attends weekend at Denleigh Manor where she is approached by intelligence officers Bill and Hannah about helping with national security.",location:"denleigh_manor",characters:[{characterId:"cynthia_childreth",role:"recruit"},{characterId:"richard_childreth",role:"support"},{characterId:"bill_laurie",role:"recruiter",disguise:"Mr. Newton"},{characterId:"hannah_park",role:"recruiter",disguise:"Miss Gilchrist"},{characterId:"jane_maclean",role:"recruiter"},{characterId:"peter_snowden",role:"target"},{characterId:"marjorie_snowden",role:"target"},{characterId:"bob_harrington",role:"target"},{characterId:"louise_harrington",role:"target"},{characterId:"amy_wyndholme",role:"facilitator"}],significance:"Beginning of Cynthia's involvement in intelligence operations against Nazi sympathizers",keyActions:["Secret meeting in garden with Bill and Hannah","Discussion of potential security threat","Cynthia agreed to infiltrate circle of Nazi sympathizers"]},{id:"berlin_trip",title:"Berlin Trip",date:"1932-1933",description:"Richard and Cynthia travel to Berlin on business pretext, stay at Hotel Adlon, meet Nazi sympathizers and establish cover as Nazi supporters.",location:"hotel_adlon",characters:[{characterId:"cynthia_childreth",role:"operative"},{characterId:"richard_childreth",role:"operative"},{characterId:"gerda_stammer",role:"contact"},{characterId:"franz_stammer",role:"contact"},{characterId:"lena_weber",role:"contact"}],significance:"Establishes Cynthia and Richard as sympathetic to Nazi cause for future operations",keyActions:["Meetings at Reichsbank","Social gatherings at Hotel Adlon","Pretending limited German language ability","Expressing subtle support for National Socialism"]},{id:"hitler_sighting",title:"Hitler Reception",date:"1932-1933",description:"Brief appearance of Hitler at a reception at Hotel Adlon, attended by Richard and Cynthia among other guests.",location:"hotel_adlon",characters:[{characterId:"cynthia_childreth",role:"observer"},{characterId:"richard_childreth",role:"observer"},{characterId:"bob_harrington",role:"attendee"},{characterId:"louise_harrington",role:"attendee"},{characterId:"john_davies",role:"attendee"},{characterId:"megan_davies",role:"attendee"}],significance:"First revelation that the Harringtons and Davies were already connected to Nazi high society",keyActions:["Hitler enters reception with bodyguards","Adulation from German supporters","Observation of British guests interacting with Hitler"]},{id:"first_party",title:"First Party at Cynthia's House",date:"May 27 (year unspecified)",description:"Gathering of Nazi sympathizers at Cynthia's home, with intelligence agents observing and German visitors present.",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"host"},{characterId:"richard_childreth",role:"host"},{characterId:"gerda_stammer",role:"guest"},{characterId:"lena_weber",role:"guest"},{characterId:"peter_snowden",role:"guest"},{characterId:"marjorie_snowden",role:"guest"},{characterId:"bob_harrington",role:"guest"},{characterId:"louise_harrington",role:"guest"},{characterId:"john_davies",role:"guest"},{characterId:"megan_davies",role:"guest"},{characterId:"bill_laurie",role:"undercover",disguise:"Mr. Newton"},{characterId:"hannah_park",role:"undercover",disguise:"Miss Gilchrist"},{characterId:"jane_maclean",role:"undercover"}],significance:"First gathering of Nazi sympathizers under observation, establishing network connections",keyActions:["Marjorie and Lena search Cynthia's office","Political discussions revealing Nazi sympathies","Bill and team gathering intelligence on attendees"]},{id:"second_party",title:"Second Party at Cynthia's House",date:"July 7 (year unspecified)",description:"Second gathering with Oswald Mosley in attendance, revealing deeper connections and plans.",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"host"},{characterId:"richard_childreth",role:"host"},{characterId:"peter_snowden",role:"guest"},{characterId:"marjorie_snowden",role:"guest"},{characterId:"bob_harrington",role:"guest"},{characterId:"louise_harrington",role:"guest"},{characterId:"john_davies",role:"guest"},{characterId:"megan_davies",role:"guest"},{characterId:"oswald_mosley",role:"special_guest"}],significance:"Introduction of Mosley element and request for Cynthia's house as safe house",keyActions:["Mosley arrives with bodyguards","Mosley asks Cynthia to act as safe house","Further intelligence gathered on fifth columnist network"]},{id:"edwards_arrival",title:"Edwards Arrives in Scilly Isles",date:"1943",description:"German agent Edwards arrives at Scilly Isles and travels to Penzance",location:"scilly_isles",characters:[{characterId:"edwards",role:"agent"},{characterId:"george_bennet",role:"surveillance"}],significance:"Beginning of final operation that leads to assassination attempt",keyActions:["Edwards arrives by boat","Pays with distinctive cheque from Martins Bank","Followed by George Bennet"]},{id:"train_journey",title:"The Critical Train Journey",date:"1943",description:"Edwards, Davies (as Young), and Louise (disguised with grey hair) travel by train from Penzance to London, with case switch occurring",location:"train",characters:[{characterId:"edwards",role:"agent"},{characterId:"john_davies",role:"conspirator",disguise:"Young"},{characterId:"louise_harrington",role:"conspirator",disguise:"Elderly knitting woman"},{characterId:"george_bennet",role:"surveillance"},{characterId:"alison",role:"agent",disguise:"Rambler"}],significance:"Critical exchange of suitcases and setup for Edwards' murder",keyActions:["Three conspirators sit in same compartment","Switch of cases in Box Tunnel darkness","Louise exits at Goring","Davies/Young exits at Reading","Edwards continues to London"]},{id:"edwards_murder",title:"Murder of Edwards",date:"1943",description:"Edwards found shot dead in London flat with single bullet to head",location:"crawford_place",characters:[{characterId:"edwards",role:"victim"},{characterId:"megan_davies",role:"killer",disguise:"Postman"}],significance:"Elimination of potential weak link and acquisition of cheque book",keyActions:["Megan Davies disguised as postman enters building","Edwards shot with single bullet to head","Cheque book taken"]},{id:"rifle_testing",title:"Rifle Testing at Churn",date:"Late 1943",description:"Bob and Louise Harrington test German sniper rifle at Churn Ranges",location:"churn_ranges",characters:[{characterId:"bob_harrington",role:"marksman"},{characterId:"louise_harrington",role:"accomplice/informant"}],significance:"Preparation for assassination attempt, leaves evidence (shell casing)",keyActions:["After-hours entry to rifle range","Test firing of German FG42 rifle","Calibration of scope","One shell casing missed during cleanup"]},{id:"davies_ireland_escape",title:"Davies Escape to Ireland",date:"December 1943",description:"Sir John and Lady Davies escape to Ireland via ferry from Fishguard",location:"fishguard",characters:[{characterId:"john_davies",role:"fugitive"},{characterId:"megan_davies",role:"fugitive"}],significance:"Advance escape of conspirators before assassination attempt",keyActions:["Transfer of assets to Irish banks","Silent departure from Yattendon","Travel to Wales","Ferry crossing using Edwards' cheque book"]},{id:"house_occupation",title:"Occupation of Cynthia's House",date:"December 5-7, 1943",description:"Harringtons and Davies take over Cynthia's house in preparation for assassination attempt",location:"cynthia_house",characters:[{characterId:"bob_harrington",role:"assassin"},{characterId:"louise_harrington",role:"double_agent"},{characterId:"john_davies",role:"accomplice"},{characterId:"cynthia_childreth",role:"hostage"},{characterId:"richard_childreth",role:"hostage"},{characterId:"mary",role:"hostage"},{characterId:"alison",role:"hidden_operative"}],significance:"Final preparation for assassination attempt",keyActions:["Cut phone lines","Blockade entrance with car","Set up rifle in tower studio","Hold Cynthia and family hostage","Alison hides in summerhouse then cellar"]},{id:"assassination_attempt",title:"Attempted Assassination of Montgomery",date:"December 7, 1943",description:"Failed attempt to shoot Montgomery from Cynthia's tower, foiled by Louise and intelligence team",location:"cynthia_house",characters:[{characterId:"bob_harrington",role:"assassin"},{characterId:"louise_harrington",role:"saboteur"},{characterId:"john_davies",role:"accomplice"},{characterId:"bill_laurie",role:"operative"},{characterId:"cynthia_childreth",role:"hostage"},{characterId:"richard_childreth",role:"hostage"},{characterId:"edwin",role:"operative"},{characterId:"george_bennet",role:"operative"},{characterId:"jim",role:"operative"}],significance:"Climax of novel, prevention of assassination, revelation of Louise as double agent",keyActions:["Bob prepares to shoot from tower",'Confusion with three "Montys" in convoy',"Louise reveals herself by preventing shot","Bill and team raid the house","Bob shot in hand","Davies shot in arm","Both arrested"]},{id:"louise_death",title:"Death of Louise Harrington",date:"Two weeks after assassination attempt",description:"Louise killed in suspicious gas explosion at cottage",location:"aldworth",characters:[{characterId:"louise_harrington",role:"victim"}],significance:"Revenge killing by remaining Nazi sympathizers",keyActions:["Gas explosion destroys cottage","Louise and neighbor killed","No official suspicion of foul play"]},{id:"tradecraft_training",title:"Cynthia's Tradecraft Training",date:"Unspecified",description:"Don visits Cynthia to teach her surveillance detection and other tradecraft skills",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"trainee"},{characterId:"don",role:"trainer"},{characterId:"mary",role:"observer"}],significance:"Cynthia learns essential skills for her role, including counter-surveillance techniques",keyActions:['Don teaches "back doubles" technique',"Instruction on using reflections to detect surveillance","Travel arrangement methods","General tradecraft principles"]},{id:"secure_line_installation",title:"Secure Phone Line Installation",date:"Unspecified",description:"Intelligence team installs a separate secure telephone line at Cynthia's house",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"resident"},{characterId:"mary",role:"assistant"}],significance:"Creates secure communication channel that becomes vital during the final operation",keyActions:["Technicians install separate phone line","Line connected directly to intelligence headquarters","Phone placed in bedroom away from potential eavesdroppers"]},{id:"edwards_discovery",title:"Discovery of Edwards' Body",date:"1943",description:"Bert, disguised as gas inspector, discovers Edwards' body in London flat",location:"crawford_place",characters:[{characterId:"bert",role:"discoverer"},{characterId:"george_bennet",role:"investigator"},{characterId:"jim",role:"assistant"}],significance:"Confirms murder of Edwards and begins focus on assassination plot investigation",keyActions:["Bert enters flat disguised as gas man","Discovery of body with single shot to head","Identification of books in suitcase instead of radio","Beginning of deeper investigation"]},{id:"intelligence_meeting",title:"Intelligence Meeting at National Gallery",date:"December 1943",description:"Bill gathers team at National Gallery to plan response to emerging assassination threat",location:"national_gallery",characters:[{characterId:"bill_laurie",role:"leader"},{characterId:"cynthia_childreth",role:"informant"},{characterId:"george_bennet",role:"investigator"},{characterId:"jane_maclean",role:"agent"},{characterId:"hannah_park",role:"agent"}],significance:"Critical planning meeting that identifies Montgomery as likely target",keyActions:["Team discusses possible targets","Sharing of intelligence about fifth columnists","Development of counter-strategy","Decision to focus on Montgomery's visits"]},{id:"intelligence_meeting_blenheim",title:"Meeting at Blenheim Palace",date:"1943",description:"George meets Bill at Blenheim Palace MI5 headquarters to discuss Edwards investigation",location:"blenheim_palace",characters:[{characterId:"bill_laurie",role:"host"},{characterId:"george_bennet",role:"visitor"}],significance:"Connects Special Branch investigation with MI5 operation, sharing critical information",keyActions:["George shares details of Edwards murder investigation","Bill reveals background of fifth columnist operation","Decision to collaborate on investigation","Discussion of possible assassination targets"]},{id:"ritz_meeting",title:"Cynthia and Hannah Meet at The Ritz",date:"1943",description:"Cynthia meets Hannah (disguised as blonde society lady) at The Ritz while under surveillance",location:"the_ritz",characters:[{characterId:"cynthia_childreth",role:"operative"},{characterId:"hannah_park",role:"operative",disguise:"Blonde society lady"},{characterId:"marjorie_snowden",role:"surveillance"}],significance:"Planning meeting that reveals Cynthia is under surveillance by fifth columnists",keyActions:["Hannah appears in completely new disguise","Identification of Snowdens conducting surveillance","Discussion of Mosley invitation plan","Counter-surveillance measures practiced"]},{id:"cottage_surveillance",title:"Felicity's Cottage Surveillance",date:"December 1943",description:"Felicity poses as writer to rent cottage in Aldworth for surveillance of Harringtons",location:"felicity_cottage",characters:[{characterId:"felicity",role:"operative",disguise:"Writer"},{characterId:"bob_harrington",role:"target"},{characterId:"louise_harrington",role:"target/double_agent"},{characterId:"jack",role:"suspicious_local"}],significance:"Establishes close surveillance of Harringtons before assassination attempt",keyActions:["Felicity establishes cover as writer","Observation of Harringtons' activities","Reports sent via postal system","Identification of Jack as fifth columnist supporter"]},{id:"final_planning",title:"Final Operation Planning",date:"December 6, 1943",description:"Intelligence team meets at Queen's Head pub to plan intervention at Cynthia's house",location:"queens_head_pub",characters:[{characterId:"bill_laurie",role:"leader"},{characterId:"george_bennet",role:"planner"},{characterId:"jim",role:"operative"},{characterId:"bert",role:"operative"},{characterId:"mike",role:"operative"},{characterId:"keith",role:"operative"}],significance:"Detailed planning for the operation to prevent Montgomery assassination",keyActions:["Team reviews intelligence","Assignment of roles","Planning of approach and entry methods","Coordination with Montgomery's security team"]},{id:"cynthia_diversion_call",title:"Cynthia's Diversion Phone Call",date:"Late 1943",description:"Cynthia makes deliberate call on open line to Richard expressing concerns about surveillance",location:"cynthia_house",characters:[{characterId:"cynthia_childreth",role:"caller"},{characterId:"richard_childreth",role:"receiver"}],significance:"Strategic move to test fifth columnist reaction and potentially draw away watchers",keyActions:["Deliberate call on unsecured line","Expression of concern about surveillance","Richard's scripted reassuring response","Results in withdrawal of some watchers"]},{id:"summerhouse_hiding",title:"Alison Hides in Summerhouse",date:"December 5-7, 1943",description:"Alison hides in Cynthia's summerhouse after escaping detection during house search",location:"cynthia_house",characters:[{characterId:"alison",role:"agent in hiding"},{characterId:"cynthia_childreth",role:"supporter"},{characterId:"louise_harrington",role:"searcher"}],significance:"Maintains intelligence presence during house occupation",keyActions:["Alison escapes initial house search","Hides in summerhouse overnight","Cynthia provides covert food drops","Later relocates to cellar for better position"]},{id:"berlin_departure",title:"Departure for Berlin Mission",date:"1932",description:"Richard and Cynthia depart from Croydon Airport for their mission to Berlin",location:"croydon_airport",characters:[{characterId:"cynthia_childreth",role:"operative"},{characterId:"richard_childreth",role:"operative"}],significance:"Beginning of the Berlin infiltration mission, first stage of establishing Nazi sympathizer cover",keyActions:["Briefing on airport procedures","First-time flyers experiencing anxiety","Boarding the Junkers G38 aircraft","Uncomfortable flight to Berlin"]},{id:"suitcase_opening",title:"Opening of the Mysterious Suitcase",date:"Late 1943",description:"Edwin unlocks the suitcase left by Davies/Young to reveal women's clothes and disguise elements",location:"cynthia_house",characters:[{characterId:"edwin",role:"lockpicker"},{characterId:"cynthia_childreth",role:"observer"},{characterId:"mary",role:"assistant"}],significance:"Revelation of suitcase contents, confirming its role in preparing for the assassination",keyActions:["Edwin picks lock without leaving traces","Discovery of women's clothes and disguise elements","Realization of deception regarding radio equipment","Careful resealing of case"]},{id:"bank_account_investigation",title:"Investigation of Edwards' Bank Account",date:"1943",description:"Richard investigates the T.G. Edwards account at Martins Bank",location:"martins_bank",characters:[{characterId:"richard_childreth",role:"investigator"}],significance:"Reveals financial arrangements behind German operations and status of Edwards' account",keyActions:["Checking account history","Discovery of substantial funds","Confirmation of Reichsbank deposits","Setting up monitoring for future transactions"]},{id:"three_montgomerys_arrangement",title:'Arrangement of "Three Montgomerys" Decoy',date:"December 1943",description:"Bill coordinates with Montgomery's ADC to arrange multiple decoys for the convoy",location:"thames_house",characters:[{characterId:"bill_laurie",role:"planner"},{characterId:"montys_adc",role:"facilitator"}],significance:"Critical deception plan that ultimately confuses assassin and contributes to foiling the attempt",keyActions:["Bill explains assassination threat","Development of decoy strategy","Arrangement of three similar jeeps","Recruiting and briefing of Montgomery lookalikes"]},{id:"shell_casing_identification",title:"Identification of Shell Casing",date:"December 1943",description:"Jacobs identifies the spent shell casing as from a German FG42 rifle",location:"thames_house",characters:[{characterId:"jacobs",role:"expert"},{characterId:"mike",role:"investigator"}],significance:"Confirms German weapon type, providing crucial evidence linking to assassination plot",keyActions:["Technical examination of shell casing","Identification of German manufacture","Confirmation of FG42 as source weapon","Assessment of weapon capabilities"]}],Iu=[{from:"bill_laurie",to:"cynthia_childreth",type:"handler-asset"},{from:"bill_laurie",to:"richard_childreth",type:"handler-asset"},{from:"bill_laurie",to:"hannah_park",type:"superior-subordinate"},{from:"bill_laurie",to:"jane_maclean",type:"superior-subordinate"},{from:"bill_laurie",to:"edwin",type:"superior-subordinate"},{from:"bill_laurie",to:"george_bennet",type:"colleague"},{from:"bill_laurie",to:"louise_harrington",type:"handler-informant"},{from:"cynthia_childreth",to:"richard_childreth",type:"spouse"},{from:"cynthia_childreth",to:"mary",type:"employer-confidante"},{from:"cynthia_childreth",to:"amy_wyndholme",type:"friend"},{from:"john_davies",to:"megan_davies",type:"spouse"},{from:"john_davies",to:"peter_snowden",type:"conspirator"},{from:"john_davies",to:"bob_harrington",type:"conspirator"},{from:"peter_snowden",to:"marjorie_snowden",type:"spouse"},{from:"peter_snowden",to:"bob_harrington",type:"conspirator"},{from:"bob_harrington",to:"louise_harrington",type:"spouse"},{from:"george_bennet",to:"jim",type:"superior-subordinate"},{from:"gerda_stammer",to:"franz_stammer",type:"spouse"},{from:"gerda_stammer",to:"lena_weber",type:"colleague"},{from:"hannah_park",to:"jane_maclean",type:"colleague-partner"},{from:"louise_harrington",to:"gerda_stammer",type:"associate"},{from:"richard_childreth",to:"bill_laurie",type:"asset-handler"},{from:"megan_davies",to:"edwards",type:"assassin-victim"},{from:"montgomery",to:"montys_adc",type:"superior-subordinate"},{from:"bill_laurie",to:"montys_adc",type:"intelligence-contact"},{from:"gladys",to:"cynthia_childreth",type:"informant-contact"},{from:"gladys",to:"mary",type:"village-connection"},{from:"bill_laurie",to:"alison",type:"superior-subordinate"},{from:"alison",to:"cynthia_childreth",type:"protector-protected"},{from:"alison",to:"john_davies",type:"surveillance-target"},{from:"bill_laurie",to:"felicity",type:"superior-subordinate"},{from:"felicity",to:"paul_holness",type:"cover-contact"},{from:"felicity",to:"bob_harrington",type:"surveillance-target"},{from:"felicity",to:"louise_harrington",type:"surveillance-target"},{from:"felicity",to:"jack",type:"observed-observer"},{from:"bill_laurie",to:"don",type:"superior-subordinate"},{from:"don",to:"cynthia_childreth",type:"trainer-trainee"},{from:"jack",to:"bob_harrington",type:"co-conspirator"},{from:"jack",to:"louise_harrington",type:"co-conspirator"},{from:"george_bennet",to:"bert",type:"superior-subordinate"},{from:"george_bennet",to:"mike",type:"superior-subordinate"},{from:"george_bennet",to:"keith",type:"superior-subordinate"},{from:"george_bennet",to:"ken",type:"superior-subordinate"},{from:"bill_laurie",to:"edwin",type:"superior-subordinate"},{from:"bert",to:"marjorie_snowden",type:"surveillance-target"},{from:"keith",to:"john_davies",type:"surveillance-target"},{from:"mike",to:"peter_snowden",type:"surveillance-target"},{from:"patrick",to:"amy_wyndholme",type:"employee-employer"},{from:"sheila",to:"amy_wyndholme",type:"employee-employer"},{from:"horace_wyndholme",to:"amy_wyndholme",type:"spouse"},{from:"horace_wyndholme",to:"bill_laurie",type:"intelligence-colleague"},{from:"oswald_mosley",to:"peter_snowden",type:"ideological-supporter"},{from:"oswald_mosley",to:"bob_harrington",type:"ideological-supporter"},{from:"helmut_schnitter",to:"edwards",type:"predecessor-successor"},{from:"bill_laurie",to:"jacobs",type:"superior-subordinate"},{from:"bill_laurie",to:"paul_holness",type:"intelligence-contact"},{from:"george_bennet",to:"chief_inspector",type:"colleague-rival"},{from:"george_bennet",to:"inspector_williams",type:"superior-cooperator"},{from:"megan_davies",to:"edwards",type:"assassin-victim"},{from:"john_davies",to:"edwards",type:"conspirator"},{from:"mary",to:"richard_childreth",type:"employee-employer"},{from:"gerda_stammer",to:"cynthia_childreth",type:"recruiter-target"},{from:"hannah_park",to:"alison",type:"colleague"},{from:"jane_maclean",to:"alison",type:"colleague"}],Mu=[{id:"german_rifle",name:"German FG42 Sniper Rifle",type:"Weapon",description:"German paratrooper weapon adapted as a sniper rifle, used in the assassination attempt on Montgomery.",physical_details:"Modified FG42 with advanced scope, designed for long-range precision shooting.",technical_details:["FG42 (Fallschirmj\xe4gergewehr 42) - German automatic rifle","Modified with enhanced scope","Uses 7.92mm ammunition","Added bipod for stability"],significance:["Primary weapon intended for Montgomery assassination","Evidence linking conspirators to plot","Found cartridge at Churn range provided key clue"],history:[{event:"Smuggled into UK",details:"Brought into UK via multiple agents in parts"},{event:"Testing at Churn Ranges",details:"Bob Harrington tested the rifle at night"},{event:"Assassination Attempt",details:"Used in the tower at Cynthia's house"}],possessors:[{characterId:"edwards",period:"early",alias:"German agent"},{characterId:"john_davies",period:"mid",alias:"Young"},{characterId:"bob_harrington",period:"late",alias:"Assassin"}],appearances:["rifle_testing","house_occupation","assassination_attempt"],image_description:"A German FG42 rifle with scope attachment and bipod."},{id:"mysterious_suitcase",name:"The Mysterious Suitcase",type:"Container",description:"A suitcase delivered to Cynthia's house, initially believed to contain a radio but actually containing women's clothes and disguised rifle components.",physical_details:"Medium-sized leather suitcase with brass fittings, appearing unremarkable but constructed with a false bottom.",technical_details:["Hidden compartment in base","Reinforced corners","Special lining to defeat casual inspection","Components disguised as everyday items"],significance:["Key method of delivering assassination weapon components","Red herring appearing to be radio equipment","Central to the plot's misdirection"],history:[{event:"Delivered to Cynthia",details:'Brought by "Young" (John Davies in disguise)'},{event:"Inspection by Intelligence",details:"Initially believed to contain radio equipment"},{event:"Stored in Tower",details:"Placed in Cynthia's studio tower room"},{event:"Contents Revealed",details:"Actually contained rifle components and disguise items"}],possessors:[{characterId:"john_davies",period:"early",alias:"Young"},{characterId:"cynthia_childreth",period:"mid"},{characterId:"bob_harrington",period:"late"}],appearances:["train_journey","house_occupation"],image_description:"A vintage leather suitcase with brass fittings and leather straps."},{id:"cheque_book",name:"Edwards' Cheque Book",type:"Document",description:"Martins Bank cheque book belonging to T.G. Edwards, later used by the Davies to finance their escape to Ireland.",physical_details:'Standard cheque book from Martins Bank (68 Lombard St.), with printed name "T.G. Edwards".',significance:["Used as identification for German agents","Financial paper trail linking conspirators","Used to pay for ferry escape to Ireland","Evidence connecting various events"],history:[{event:"Used by Edwards",details:"Original user paying for accommodation at Scilly Isles"},{event:"Stolen after murder",details:"Taken by Megan Davies after killing Edwards"},{event:"Used for escape",details:"Davies used it to pay for Fishguard-Rosslare ferry"}],possessors:[{characterId:"edwards",period:"early"},{characterId:"megan_davies",period:"mid"},{characterId:"john_davies",period:"late"}],appearances:["edwards_arrival","edwards_murder","davies_ireland_escape"],image_description:"A 1940s cheque book from Martins Bank with handwritten entries."},{id:"secure_phone_line",name:"Secure Telephone Line",type:"Communication device",description:"Special dedicated telephone line installed at Cynthia's house for secure communications with intelligence headquarters.",physical_details:"Standard-looking telephone with direct secure line separate from normal house phone system.",technical_details:["Dedicated wire directly to intelligence headquarters","Not connected to main telephone exchange","Required special installation by disguised engineers","Located in master bedroom away from normal phone"],significance:["Secure communication method for sensitive information","Protected from fifth columnist wire-tapping","Critical lifeline during the final operation","Demonstrated intelligence service foresight"],history:[{event:"Installation",details:"Installed by intelligence service engineers disguised as telephone workers"},{event:"Regular Use",details:"Used by Cynthia for reporting to Bill"},{event:"Line Cut",details:"Cut by conspirators during house occupation"}],possessors:[{characterId:"cynthia_childreth",period:"entire story"}],appearances:["secure_line_installation","cynthia_diversion_call"],image_description:"A 1940s-style black bakelite telephone with rotary dial."},{id:"shell_casing",name:"7.92mm Shell Casing",type:"Evidence",description:"Spent cartridge from German FG42 rifle found at Churn range, providing critical evidence linking conspirators to assassination plot.",physical_details:"Brass casing from 7.92mm round, non-standard caliber for British weapons.",technical_details:["German manufacture","Specifically designed for FG42 rifle","Distinctive markings different from British ammunition","Missed during conspirators' clean-up"],significance:["Physical evidence linking conspirators to German weapon","Confirmation of assassination preparations","Key investigative breakthrough"],history:[{event:"Fired at Churn",details:"Discharged during rifle testing by Harringtons"},{event:"Discovery",details:"Found by Keith and Mike during range investigation"},{event:"Analysis",details:"Identified as from German FG42 rifle by armorer Jacobs"}],appearances:["rifle_testing"],image_description:"A tarnished brass shell casing with German manufacturer markings."},{id:"berts_painting",name:"Bert's Surveillance Painting",type:"Cover prop",description:"Watercolor painting created by Bert while conducting surveillance in Ashampstead.",physical_details:"Watercolor landscape painting of cottages in Ashampstead, including Snowdens' residence.",significance:["Cover for surveillance operation","Eventually purchased by Marjorie Snowden, ironically funding intelligence operation","Demonstration of creative surveillance techniques"],history:[{event:"Creation",details:"Painted by Bert during surveillance of Snowdens"},{event:"Interaction",details:"Marjorie Snowden discusses the painting with Bert"},{event:"Sale",details:"Purchased by Marjorie Snowden, unaware of Bert's true purpose"}],possessors:[{characterId:"bert",period:"creation"},{characterId:"marjorie_snowden",period:"end"}],appearances:["surveillance_operation"],image_description:"A watercolor painting of a row of country cottages."},{id:"montys_beret",name:"Montgomery's Distinctive Beret",type:"Identification item",description:"General Montgomery's trademark black beret with two cap badges that made him instantly recognizable.",physical_details:"Black beret with Royal Tank Regiment badge and British General Officer's badge side by side.",significance:["Montgomery's recognizable trademark","Symbol of his leadership style","Critical identification element for assassination targeting","Replicated for decoy operation"],history:[{event:"Montgomery's Visits",details:"Worn during troop inspections and public appearances"},{event:"Decoy Operation",details:"Replicated for Montgomery lookalikes in decoy jeeps"}],possessors:[{characterId:"montgomery",period:"throughout"}],appearances:["three_montgomerys_arrangement","assassination_attempt"],image_description:"Black military beret with two distinct cap badges side by side."},{id:"blockade_car",name:"Blockade Car",type:"Vehicle",description:"Car parked across Cynthia's drive to prevent access or escape during occupation.",physical_details:"Car positioned tightly against gate to block entrance/exit.",significance:["Physical mechanism for isolating Cynthia's house","Part of conspirators' control tactics","Symbol of captivity"],history:[{event:"House Occupation",details:"Positioned by Louise across drive entrance"}],possessors:[{characterId:"john_davies",period:"during occupation"}],appearances:["house_occupation"],image_description:"Car positioned sideways across driveway entrance, blocking access."},{id:"auburn_wig",name:"Bob's Auburn Wig",type:"Disguise",description:"Auburn wig intended for Bob Harrington's female disguise during escape after assassination.",physical_details:"Auburn-colored woman's wig, part of disguise from suitcase.",significance:["Key element of escape plan","Evidence of meticulous planning","Symbol of deception","Ultimately unused when plot foiled"],history:[{event:"Suitcase Delivery",details:"Brought in suitcase delivered by Davies/Young"},{event:"Assassination Attempt",details:"Prepared for use but never employed due to Louise's intervention"}],possessors:[{characterId:"john_davies",period:"delivery",alias:"Young"},{characterId:"bob_harrington",period:"attempt"}],appearances:["house_occupation","assassination_attempt"],image_description:"Auburn-colored woman's wig with shoulder-length styled hair."},{id:"secure_briefcase",name:"Bill's Secure Briefcase",type:"Equipment",description:"Specially designed briefcase used by Bill for transporting sensitive documents and planning materials.",physical_details:"Standard-looking leather briefcase with hidden compartments and security features.",technical_details:["Hidden compartments for sensitive documents","Special lock mechanisms","Potentially booby-trapped if forced open","Unmarked exterior to avoid attention"],significance:["Secure transport for operation plans","Symbol of official intelligence work","Contains maps and operational details"],possessors:[{characterId:"bill_laurie",period:"throughout"}],appearances:["intelligence_meeting","final_planning"],image_description:"Ordinary-looking brown leather briefcase with brass fittings."}],Tu=[{id:"safe_house",title:"Safe Houses",description:"Secure locations where agents can hide, rest, or conduct operations without fear of detection.",historicalContext:"During WWII, safe houses were crucial for the operation of resistance movements and intelligence networks. MI5 and MI6 maintained networks of safe houses throughout Britain and occupied Europe.",examples:["Cynthia's house in Bucklebury is requested to be used as a safe house by Mosley","The Snowdens and others use their country houses to host Nazi sympathizers","Davies cottage used as temporary accommodation for operatives"],techniques:["Houses often chosen for isolation or multiple escape routes","Operated by trusted individuals, often with plausible cover stories","Sometimes equipped with hidden rooms or compartments","May contain emergency supplies or communications equipment"],bookScenes:["second_party","house_occupation"]},{id:"surveillance",title:"Surveillance",description:"The close observation of a person, place, or object to gather intelligence or evidence.",historicalContext:"MI5 and other intelligence agencies heavily relied on surveillance to track potential spies and fifth columnists. During WWII, this became highly sophisticated with multiple operatives using various covers.",examples:["Bill's team watching Cynthia's house using disguised observers","The watchers posted in village locations disguised as artists, road workers, and elderly pedestrians","George following Edwards from Scilly Isles to London","Alison tracking Davies/Young to Reading"],techniques:["Using mundane covers that attract minimal attention (artists, workers, elderly)","Rotating personnel to avoid recognition","Multiple observation points to maintain continuous coverage","Communication through intermediaries rather than direct contact","Counter-surveillance awareness (checking for people watching the watchers)"],bookScenes:["edwards_arrival","train_journey","village_surveillance"]},{id:"disguise",title:"Disguise",description:"The use of altered appearance to conceal one's identity or intentions.",historicalContext:"Agents often adopted disguises to move freely in enemy territory or to approach targets without arousing suspicion. SOE agents were extensively trained in the art of disguise.",examples:["Hannah Park's various disguises (including Miss Gilchrist and blonde society lady)","Megan Davies disguised as a postman to kill Edwards","Bob Harrington dressed as a woman for the assassination attempt","Louise disguised as elderly grey-haired knitter on train","Alison's rambler disguise on train"],techniques:["Changing hair color and style (wigs, dyes)","Adopting clothing associated with specific roles or classes","Altering posture, gait, and mannerisms","Using props appropriate to assumed identity","Creating behavioral distractions to divert attention from facial features"],bookScenes:["denleigh_recruitment","edwards_murder","train_journey"]},{id:"dead_drop",title:"Dead Drops",description:"A method of passing items or information between agents without requiring direct contact.",historicalContext:"Dead drops were essential for maintaining network security, as they eliminated the need for face-to-face meetings between agents.",examples:["The suitcase delivered to Cynthia's house","Documents passed through intermediaries like the publisher","Felicity's reports sent via regular mail"],techniques:["Using neutral locations accessible to both parties","Employing signal systems to indicate when drops are made or retrieved","Disguising sensitive items as ordinary objects","Using couriers unaware of the significance of the items they carry"],bookScenes:["case_delivery","felicity_reports"]},{id:"code_words",title:"Recognition Signals & Code Words",description:"Predetermined phrases, gestures, or items used to identify friendly agents or to authenticate communications.",historicalContext:"Recognition signals helped prevent infiltration by enemy agents and ensured secure communications.",examples:["Bill's rank (Wing Commander) used as recognition signal","Felicity's publisher serving as intermediary","Special phone line for secure communications","The Edwards cheque book used as identification"],techniques:["Using innocuous phrases that would seem natural in conversation","Creating physical recognition items that can be subtly displayed","Establishing backup recognition methods in case primary ones are compromised","Changing signals regularly to maintain security"],bookScenes:["cynthia_phone_call","publisher_contact"]},{id:"double_agents",title:"Double Agents",description:"Operatives who appear to work for one side but are actually loyal to another.",historicalContext:'The British "Double Cross System" was highly successful in turning German agents during WWII, feeding false information to the enemy.',examples:["Louise Harrington working for Bill while appearing loyal to the fifth columnists","Her ultimate sabotage of the assassination attempt","Long-term deception regarding her true allegiance"],techniques:["Maintaining believable cover by providing some accurate but non-critical intelligence","Establishing secure communication channels with true handler","Creating plausible reasons for activities that might seem suspicious","Carefully timing major interventions for maximum impact"],bookScenes:["louise_revelation","assassination_attempt"]},{id:"tradecraft",title:"Basic Tradecraft",description:"The methods used to avoid surveillance, maintain cover, and conduct secret operations.",historicalContext:"Intelligence agencies developed sophisticated tradecraft techniques throughout WWII.",examples:['Don teaching Cynthia about "back doubles" and counter-surveillance',"Using reflections in shop windows to detect followers","The separate phone line for secure communications","Leopard crawling across field to avoid detection"],techniques:["Varying routes and routines to avoid predictability","Checking for surveillance using natural reflective surfaces","Creating cover stories with verifiable elements","Using innocuous behavior to mask operational activities","Communicating through cutouts and intermediaries"],bookScenes:["don_training","final_approach"]},{id:"cover_identities",title:"Cover Identities",description:"The creation and maintenance of false identities to conceal an agent's true purpose or affiliation.",historicalContext:"Intelligence services developed sophisticated methods for creating believable cover identities during WWII, often supported by false documentation and careful background construction.",examples:["Felicity posing as a writer in Aldworth cottage",'Bill appearing as "Mr. Newton" at Denleigh Manor',"Intelligence officers disguised as telephone engineers","Bert and Keith posing as artists for surveillance"],techniques:["Selecting identities that explain presence in an area","Choosing covers that allow for observation without suspicion","Creating supporting documentation and props","Establishing routines consistent with chosen identity","Developing appropriate knowledge for the assumed role"],bookScenes:["cottage_surveillance","denleigh_recruitment","secure_line_installation"]},{id:"secure_communication",title:"Secure Communications",description:"Methods used to transmit information without risk of interception or compromise.",historicalContext:"During WWII, secure communication was critical for intelligence operations. Methods ranged from dedicated phone lines to coded messages through seemingly innocent channels.",examples:["Dedicated phone line at Cynthia's house","Felicity's reports sent via publisher intermediary","Use of cutouts and dead drops","Recognition phrases for phone calls"],techniques:["Dedicated lines bypassing public exchanges","Communications through innocent-appearing channels (publishers, businesses)","Verification codes at start of conversations","Regular changes of communication methods"],bookScenes:["secure_line_installation","cottage_surveillance"]},{id:"counter_surveillance",title:"Counter-Surveillance",description:"Techniques used to detect and evade hostile surveillance.",historicalContext:"Intelligence operatives needed to be constantly aware of potential surveillance and developed sophisticated methods to detect and counter it.",examples:['Don teaching Cynthia about "back doubles"',"Using reflections in shop windows","Deliberate phone call to test fifth columnist reactions","Jim's careful approach to Cynthia's house"],techniques:["Indirect routes to detect followers","Using reflective surfaces to observe without turning around","Testing reactions through deliberate actions","Varying routines and behaviors","Strategic use of public spaces where followers would be conspicuous"],bookScenes:["tradecraft_training","cynthia_diversion_call"]},{id:"infiltration",title:"Infiltration Techniques",description:"Methods for covertly entering secure areas or gaining the trust of target groups.",historicalContext:"Intelligence services developed sophisticated infiltration methods during WWII, particularly for gaining access to enemy-occupied areas or hostile groups.",examples:["Cynthia and Richard infiltrating Nazi sympathizer circles","Team infiltrating Cynthia's house during final operation","Agents entering German-held territory"],techniques:["Long-term identity establishment","Gradual trust-building through incremental steps","Demonstration of shared beliefs or objectives","Use of existing contacts for introduction","Physical infiltration methods (leopard crawling, covert approaches)"],bookScenes:["berlin_trip","first_party","final_operation"]},{id:"deception_operations",title:"Deception Operations",description:"Tactical deceptions designed to mislead enemy agents or operatives.",historicalContext:'The British excelled at deception operations during WWII, from the famous "Operation Mincemeat" to countless smaller tactical deceptions.',examples:['The "Three Montgomerys" decoy operation',"Cynthia's deliberate phone call to test reactions","Use of artists as surveillance cover","Felicity's writer cover in the village"],techniques:["Creating multiple identical targets to confuse attackers","Deliberate actions designed to provoke revealing responses","Use of mundane covers to hide surveillance","Creating distractions to mask main operation"],bookScenes:["three_montgomerys_arrangement","cynthia_diversion_call"]},{id:"covert_entry",title:"Covert Entry",description:"Techniques for gaining entry to secured locations without detection.",historicalContext:"Intelligence agents needed skills to access locked rooms, buildings and containers without leaving evidence.",examples:["Edwin picking the lock on the mysterious suitcase","Bert entering Edwards' flat","Intelligence team entering Cynthia's house via cellar","George and Jim entering Davies' empty house"],techniques:["Lock picking without leaving marks","Disguised entry under false pretenses","Using alternative or overlooked access points","Resealing containers to hide entry evidence"],bookScenes:["suitcase_opening","edwards_discovery","final_operation"]},{id:"double_agent_handling",title:"Double Agent Handling",description:"Methods for managing, protecting, and communicating with agents working inside hostile organizations.",historicalContext:"The British Double-Cross System was one of the most successful intelligence operations of WWII, requiring sophisticated handling techniques.",examples:["Bill's management of Louise as an insider","Secret communications and support","Providing emergency equipment (gun)","Maintaining complete secrecy about identity"],techniques:["Extremely limited contact to prevent exposure","Provision of emergency equipment through covert channels","Total compartmentalization of knowledge about agent","Development of emergency extraction plans","Accepting agent-initiated timing for critical actions"],bookScenes:["louise_revelation","assassination_attempt"]}],Lu=[{id:"preface",title:"Preface",description:"Introduction to the German infiltration of UK via Scilly Isles",events:["german_infiltration"],timeframe:"1943"},{id:"chapter1",title:"Chapter 1: Wiltshire, May 1932",description:"Cynthia arrives at Denleigh Manor for a weekend party",events:["cynthia_recruitment"],timeframe:"May 1932"},{id:"chapter2",title:"Chapter 2: Infiltration",description:"Cynthia and Richard are recruited for intelligence work",events:["cynthia_recruitment"],timeframe:"May 1932"},{id:"chapter3",title:"Chapter 3: Berlin",description:"Richard and Cynthia travel to Berlin to establish their cover",events:["berlin_trip","hitler_sighting"],timeframe:"1932-1933"},{id:"chapter4",title:"Chapter 4: The First Party",description:"Cynthia hosts Nazi sympathizers at her home",events:["first_party"],timeframe:"May 27 (year unspecified)"},{id:"chapter5",title:"Chapter 5: Growing Network",description:"The Nazi sympathizer network expands, with Mosley making an appearance",events:["second_party"],timeframe:"July 7 (year unspecified)"},{id:"chapter6",title:"Chapter 6: The Mysterious Edwards",description:"German agent Edwards arrives in the UK",events:["edwards_arrival","train_journey"],timeframe:"1943"},{id:"chapter7",title:"Chapter 7: Death in London",description:"Edwards is found murdered in his London flat",events:["edwards_murder"],timeframe:"1943"},{id:"chapter8",title:"Chapter 8: Preparations",description:"The Fifth Columnists test a German rifle and prepare for their operation",events:["rifle_testing"],timeframe:"Late 1943"},{id:"chapter9",title:"Chapter 9: Escape to Ireland",description:"The Davies escape to Ireland ahead of the assassination attempt",events:["davies_ireland_escape"],timeframe:"December 1943"},{id:"chapter10",title:"Chapter 10: Occupation",description:"The conspirators take over Cynthia's house",events:["house_occupation"],timeframe:"December 5-7, 1943"},{id:"chapter11",title:"Chapter 11: The Attempt",description:"The assassination attempt on Montgomery is foiled",events:["assassination_attempt"],timeframe:"December 7, 1943"},{id:"epilogue",title:"Epilogue",description:"The aftermath of the failed plot",events:["louise_death"],timeframe:"Two weeks after the assassination attempt"}],zu=[{id:"knitters_group",title:"The Knitters Group",description:'The group of German Nazi women sympathizers, nicknamed after the historical "tricoteuses" who knit during French Revolution executions.',firstMentioned:"chapter1",revealedInChapter:"chapter1",relatedCharacters:["gerda_stammer","lena_weber","louise_harrington"],status:"revealed"},{id:"mysterious_suitcase",title:"The Mysterious Suitcase",description:"A suitcase delivered to Cynthia, initially believed to contain a radio but actually containing women's clothes and German rifle components disguised as knitting needles.",firstMentioned:"chapter6",revealedInChapter:"chapter10",relatedCharacters:["john_davies","bob_harrington"],relatedEvents:["train_journey"],status:"revealed"},{id:"edwards_identity",title:"Edwards' True Purpose",description:"The German agent Edwards was bringing critical equipment for the assassination attempt but became a liability.",firstMentioned:"chapter6",revealedInChapter:"chapter8",relatedCharacters:["edwards","megan_davies"],relatedEvents:["edwards_murder"],status:"revealed"},{id:"louise_allegiance",title:"Louise's True Allegiance",description:"The revelation that Louise has been working against the fifth columnists as a double agent.",firstMentioned:"chapter1",revealedInChapter:"chapter11",relatedCharacters:["louise_harrington","bill_laurie"],relatedEvents:["assassination_attempt"],status:"twist"},{id:"assassination_target",title:"The Assassination Target",description:"The plan to assassinate General Montgomery from Cynthia's tower.",firstMentioned:"chapter8",revealedInChapter:"chapter10",relatedCharacters:["bob_harrington","john_davies"],relatedEvents:["rifle_testing","house_occupation","assassination_attempt"],status:"major_plot"},{id:"phone_tap",title:"The Tapped Phone",description:"The discovery that Cynthia's regular phone has been tapped by fifth columnists.",firstMentioned:"chapter9",revealedInChapter:"chapter9",relatedCharacters:["jack","peter_snowden"],relatedEvents:["secure_line_installation"],status:"revealed"},{id:"gladys_role",title:"Gladys' Informal Intelligence Role",description:"The village postmistress's role as an inadvertent intelligence source through her natural observation.",firstMentioned:"chapter8",revealedInChapter:"chapter10",relatedCharacters:["gladys","cynthia_childreth"],status:"background"},{id:"three_montys",title:"The Three Montgomerys Decoy",description:"Bill's clever plan to confuse assassins by having three similar jeeps with Montgomery lookalikes.",firstMentioned:"chapter11",revealedInChapter:"chapter11",relatedCharacters:["bill_laurie","montgomery"],relatedEvents:["assassination_attempt"],status:"twist"},{id:"bills_secret_contact",title:"Bill's Secret Contact with Louise",description:"The revelation that Bill had been in contact with Louise as a double agent for a long time.",firstMentioned:"chapter11",revealedInChapter:"chapter11",relatedCharacters:["bill_laurie","louise_harrington"],status:"major_twist"},{id:"megan_postman",title:"The Postman's True Identity",description:'The revelation that Megan Davies was the "postman" who murdered Edwards.',firstMentioned:"chapter7",revealedInChapter:"chapter11",relatedCharacters:["megan_davies","edwards"],relatedEvents:["edwards_murder"],status:"twist"}],Au=[{id:"class_privilege",title:"Class and Privilege",description:"Examination of how class and social standing influence characters' actions and beliefs.",examples:["Contrast between genuine aristocrats (Cynthia) and aspirational middle-class (Snowden)","Use of country house parties as recruitment grounds","Aristocratic connections of fifth columnists"],relatedCharacters:["cynthia_childreth","peter_snowden","john_davies"]},{id:"deception_identity",title:"Deception and Double Identity",description:"Exploration of hidden identities and deception in wartime.",examples:["Multiple characters using aliases and disguises","Louise's ultimate betrayal of her group","Cynthia's double life"],relatedCharacters:["louise_harrington","cynthia_childreth","hannah_park"]},{id:"loyalty_betrayal",title:"Loyalty and Betrayal",description:"The complex nature of loyalty during wartime and how personal beliefs conflict with national interest.",examples:["Louise's change of allegiance","The fifth columnists betraying their country","Cynthia's initial reluctance to get involved"],relatedCharacters:["louise_harrington","bob_harrington","cynthia_childreth"]},{id:"knitting_symbolism",title:"Knitting as Symbol",description:"The use of knitting as a symbol throughout the novel, representing both domesticity and hidden danger.",examples:['The German Nazi women nicknamed "the knitters"',"Louise's signature trait that helps identify her",'Historical reference to "les tricoteuses" - women who knit during French Revolution executions'],relatedCharacters:["louise_harrington","gerda_stammer","lena_weber"]},{id:"observation_perception",title:"Observation and Perception",description:"The importance of careful observation and the frequent gap between perception and reality.",examples:["Edwards' suitcase believed to contain radio actually holding women's clothes","The unnoticed significance of Louise's knitting","Village watchers who see but don't understand","Surveillance through art (paintings)"],relatedCharacters:["gladys","cynthia_childreth","louise_harrington","bert"]},{id:"shadow_war",title:"The Shadow War",description:"The unseen intelligence conflict alongside the conventional war, fought without public knowledge.",examples:["Intelligence operations conducted in public spaces","Fifth columnist networks operating in seeming normalcy","Country houses and village settings concealing espionage activities","Cynthia's deliberately understated OBE award"],relatedCharacters:["bill_laurie","cynthia_childreth","peter_snowden"]},{id:"appearance_reality",title:"Appearance vs. Reality",description:"The contrast between how people and situations appear and what they truly are.",examples:["Louise's outward commitment to the cause while secretly working against it","Snowden's exaggerated rank and performance","Montgomery decoys during final operation","Seemingly innocent village life concealing espionage"],relatedCharacters:["louise_harrington","peter_snowden","jack"]},{id:"gender_expectations",title:"Gender Roles and Expectations",description:"The novel's exploration of gender expectations and their subversion in intelligence work.",examples:["Louise as the actual leader despite appearing secondary to her husband","Cynthia using her aristocratic lady status as cover","Hannah's provocative masculine dress as Miss Gilchrist",'Megan\'s deadly effectiveness despite seeming "mousey"',"Bob disguising as a woman for escape"],relatedCharacters:["louise_harrington","cynthia_childreth","hannah_park","megan_davies"]},{id:"professional_competence",title:"Professional Expertise vs. Amateur Enthusiasm",description:"The contrast between trained intelligence professionals and amateur fifth columnists.",examples:["The methodical approach of Bill's team vs. the passionate but less disciplined approach of the fifth columnists","The fifth columnists' failure to notice surveillance","Professional techniques (lock picking, surveillance) vs. amateur efforts","Successful intelligence planning contrasted with fifth columnist mistakes"],relatedCharacters:["bill_laurie","bob_harrington","edwin","peter_snowden"]}],Ru=()=>{const[t,n]=(0,e.useState)(0),[i,r]=(0,e.useState)(null),[o,a]=(0,e.useState)(null),[s,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!0),[m,g]=(0,e.useState)(!1);(0,e.useEffect)((()=>{localStorage.getItem("stitchedUpVisited")?f(!1):(f(!0),localStorage.setItem("stitchedUpVisited","true"));const e="true"===localStorage.getItem("darkMode");g(e),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[]);const y=e=>{r(e),0!==t&&n(0)},v=e=>{a(e),n(3)},b=e=>{l(e),n(2)},_=e=>{u(e),n(6)},x=(0,e.useCallback)((()=>{h(!1)}),[]),w=(0,e.useCallback)((e=>{n(e)}),[]);return(0,Je.jsxs)("div",{className:"app-container min-h-screen "+(m?"dark bg-gray-900":"bg-gray-100"),children:[(0,Je.jsx)("header",{className:"bg-gray-800 dark:bg-gray-900 text-white p-4",style:{backgroundColor:"var(--color-header-bg)",color:"var(--color-header-text)"},children:(0,Je.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h1",{className:"text-3xl font-serif",children:"Stitched Up"}),(0,Je.jsx)("p",{className:"text-sm mt-1",children:"An Interactive Companion to Matt Parry's Novel"})]}),(0,Je.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Je.jsx)(et,{darkMode:m,toggleDarkMode:()=>{const e=!m;g(e),localStorage.setItem("darkMode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),(0,Je.jsx)("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",onClick:()=>{h(!0)},children:"Tour the App"})]})]})}),p&&(0,Je.jsx)("div",{className:"p-4 border-b "+(m?"bg-blue-900 border-blue-800 text-blue-100":"bg-blue-50 border-blue-200 text-blue-800"),children:(0,Je.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,Je.jsxs)("div",{className:"pr-8",children:[(0,Je.jsx)("h2",{className:"text-lg font-bold",children:'Welcome to the "Stitched Up" Interactive Companion!'}),(0,Je.jsx)("p",{className:"mt-1",children:"This app helps you explore characters, relationships, locations, and plot elements from the novel. Use the tabs below to navigate different aspects of the story."})]}),(0,Je.jsx)("button",{className:"px-3 py-1 rounded text-white text-sm "+(m?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"),onClick:()=>{f(!1)},children:"Got it"})]})}),(0,Je.jsxs)("main",{className:"container mx-auto p-4",children:[(0,Je.jsxs)(E,{selectedIndex:t,onSelect:e=>n(e),children:[(0,Je.jsxs)(I,{children:[(0,Je.jsx)(A,{children:"Characters"}),(0,Je.jsx)(A,{children:"Relationship Web"}),(0,Je.jsx)(A,{children:"Timeline"}),(0,Je.jsx)(A,{children:"Locations"}),(0,Je.jsx)(A,{children:"Map"}),(0,Je.jsx)(A,{children:"Plot Navigator"}),(0,Je.jsx)(A,{children:"Objects"}),(0,Je.jsx)(A,{children:"Spy Encyclopedia"})]}),(0,Je.jsxs)("div",{className:"mb-8",children:[(0,Je.jsx)(F,{children:(0,Je.jsx)(it,{onCharacterSelect:y,selectedCharacter:i,charactersData:Nu,relationshipsData:Iu})}),(0,Je.jsx)(F,{children:(0,Je.jsx)(jc,{onCharacterSelect:y,selectedCharacter:i,charactersData:Nu,relationshipsData:Iu})}),(0,Je.jsx)(F,{children:(0,Je.jsx)(zc,{onEventSelect:b,selectedEvent:s,onCharacterSelect:y,eventsData:ju,charactersData:Nu,locationsData:Pu})}),(0,Je.jsx)(F,{children:(0,Je.jsx)(Ac,{onLocationSelect:v,selectedLocation:o,onEventSelect:b,locationsData:Pu,eventsData:ju,charactersData:Nu})}),(0,Je.jsx)(F,{children:(0,Je.jsx)(wu,{onLocationSelect:v,onEventSelect:b,onCharacterSelect:y,onObjectSelect:_,locationsData:Pu,eventsData:ju,charactersData:Nu,objectsData:Mu})}),(0,Je.jsx)(F,{children:(0,Je.jsx)(ku,{onEventSelect:b,onCharacterSelect:y,eventsData:ju,charactersData:Nu,chaptersData:Lu,mysteryElements:zu,themeElements:Au})}),(0,Je.jsx)(F,{children:(0,Je.jsx)(Cu,{onObjectSelect:_,selectedObject:c,objectsData:Mu,charactersData:Nu,eventsData:ju})}),(0,Je.jsx)(F,{children:(0,Je.jsx)(Eu,{spycraftEntries:Tu})})]})]}),(0,Je.jsxs)("div",{className:"p-4 rounded shadow mb-6 current-selections "+(m?"bg-gray-800 border border-gray-700":"bg-white"),style:{backgroundColor:"var(--color-panel-bg)",borderColor:"var(--color-panel-border)"},children:[(0,Je.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Current Selections"}),(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i&&(0,Je.jsxs)("div",{className:"border p-3 rounded cursor-pointer "+(m?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-blue-50"),onClick:()=>n(0),children:[(0,Je.jsx)("div",{className:"text-sm "+(m?"text-gray-400":"text-gray-500"),children:"Character"}),(0,Je.jsx)("div",{className:"font-medium",children:i.name}),(0,Je.jsx)("div",{className:"text-xs mt-1 "+(m?"text-blue-400":"text-blue-600"),children:"Click to view details"})]}),s&&(0,Je.jsxs)("div",{className:"border p-3 rounded cursor-pointer "+(m?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-blue-50"),onClick:()=>n(2),children:[(0,Je.jsx)("div",{className:"text-sm "+(m?"text-gray-400":"text-gray-500"),children:"Event"}),(0,Je.jsx)("div",{className:"font-medium",children:s.title}),(0,Je.jsx)("div",{className:"text-xs "+(m?"text-gray-400":"text-gray-500"),children:s.date}),(0,Je.jsx)("div",{className:"text-xs mt-1 "+(m?"text-blue-400":"text-blue-600"),children:"Click to view details"})]}),o&&(0,Je.jsxs)("div",{className:"border p-3 rounded cursor-pointer "+(m?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-blue-50"),onClick:()=>n(3),children:[(0,Je.jsx)("div",{className:"text-sm "+(m?"text-gray-400":"text-gray-500"),children:"Location"}),(0,Je.jsx)("div",{className:"font-medium",children:o.name}),(0,Je.jsx)("div",{className:"text-xs "+(m?"text-gray-400":"text-gray-500"),children:o.area}),(0,Je.jsx)("div",{className:"text-xs mt-1 "+(m?"text-blue-400":"text-blue-600"),children:"Click to view details"})]}),c&&(0,Je.jsxs)("div",{className:"border p-3 rounded cursor-pointer "+(m?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-blue-50"),onClick:()=>n(6),children:[(0,Je.jsx)("div",{className:"text-sm "+(m?"text-gray-400":"text-gray-500"),children:"Object"}),(0,Je.jsx)("div",{className:"font-medium",children:c.name}),(0,Je.jsx)("div",{className:"text-xs mt-1 "+(m?"text-blue-400":"text-blue-600"),children:"Click to view details"})]})]})]})]}),(0,Je.jsx)("footer",{className:"bg-gray-700 dark:bg-gray-900 text-white p-4 mt-8",style:{backgroundColor:"var(--color-footer-bg)",color:"var(--color-footer-text)"},children:(0,Je.jsxs)("div",{className:"container mx-auto",children:[(0,Je.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"text-lg font-bold mb-2",children:"About this App"}),(0,Je.jsx)("p",{className:"text-sm",children:'The "Stitched Up" Interactive Companion is designed to enhance your reading experience by providing detailed information about characters, locations, events, and spy techniques featured in Matt Parry\'s novel.'})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Navigation Tips"}),(0,Je.jsxs)("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[(0,Je.jsx)("li",{children:"Use the tabs to explore different aspects of the novel"}),(0,Je.jsx)("li",{children:"Click on characters, events, or locations to see more details"}),(0,Je.jsx)("li",{children:'Cross-reference elements using the "Current Selections" panel'}),(0,Je.jsx)("li",{children:"Use the Plot Navigator to understand the story structure"})]})]}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{className:"text-lg font-bold mb-2",children:"About the Novel"}),(0,Je.jsx)("p",{className:"text-sm",children:'"Stitched Up" is a historical spy thriller set during World War II, following Lady Cynthia Childreth\'s recruitment into intelligence work and her efforts to thwart a Nazi assassination plot.'})]})]}),(0,Je.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-600 text-center text-sm",children:(0,Je.jsxs)("p",{children:['"Stitched Up" Interactive Companion \xa9 ',(new Date).getFullYear()]})})]})}),(0,Je.jsx)(Qe,{isOpen:d,onClose:x,currentTab:t,onTabChange:w})]})};(0,t.H)(document.getElementById("root")).render((0,Je.jsx)(Ru,{}))})()})();
//# sourceMappingURL=main.151dcfed.js.map